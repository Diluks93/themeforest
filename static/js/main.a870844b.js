/*! For license information please see main.a870844b.js.LICENSE.txt */
!function(){var e={6026:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r,i=n(168),a=n(2822).ZP.button(r||(r=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n\n  padding: ","px;\n  gap: ","px;\n\n  background-color: ",";\n  color: ",";\n  fill: ",";\n\n  border: none;\n  border-radius: ","px;\n\n  width: 100%;\n  height: 100%;\n\n  font-size: ","px;\n  font-weight: ",";\n\n  &:hover {\n    box-shadow: ",";\n    color: ",";\n    fill: ",";\n    opacity: ",";\n  }\n\n  &:active {\n    opacity: 1;\n    color: ",";\n    fill: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.sizes.button.padding[0]}),(function(e){return e.theme.gaps[3]}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.weights[1]}),(function(e){var t=e.theme;return"light"===t.type?t.shadows.button:""}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.hoverButton}),(function(e){return"light"===e.theme.type?"0.8":""}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.grey}))},7537:function(e,t,n){"use strict";n.d(t,{EK:function(){return h},h4:function(){return c},ie:function(){return f},zx:function(){return d}});var r,i,a,o,s=n(168),l=n(2822),u=n(5758),c=l.ZP.div(r||(r=(0,s.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: flex-end;\n"]))),f=(0,l.ZP)(u.bi)(i||(i=(0,s.Z)(["\n  line-height: 100%;\n  letter-spacing: ","em;\n"])),(function(e){return e.theme.fonts.spacings[0]})),h=l.ZP.nav(a||(a=(0,s.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 15px;\n\n  width: 235px;\n  height: 60px;\n"]))),d=l.ZP.button(o||(o=(0,s.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 15px 40px;\n  gap: 10px;\n\n  width: 110px;\n  height: 60px;\n\n  background: ",";\n  border: none;\n  border-radius: 20px;\n\n  svg {\n    fill: ",";\n    width: 30px;\n    height: 30px;\n    filter: grayscale(1);\n  }\n"])),(function(e){return e.theme.colors.tertiary}),(function(e){return e.theme.colors.grey}))},2677:function(e,t,n){"use strict";n.d(t,{DK:function(){return c},Dx:function(){return f},SE:function(){return d},im:function(){return h}});var r,i,a,o,s=n(168),l=n(2822),u=n(5758),c=l.ZP.h6(r||(r=(0,s.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  text-align: center;\n  letter-spacing: ","em;\n\n  color: ",";\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[3]}),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.primary})),f=l.ZP.h2(i||(i=(0,s.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  text-align: center;\n  letter-spacing: ","em;\n\n  color: ",";\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[4]}),(function(e){return e.theme.fonts.sizes[7]}),(function(e){return e.theme.fonts.heights[6]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.black})),h=l.ZP.div(a||(a=(0,s.Z)(["\n  width: 800px;\n  display: flex;\n  flex-direction: column;\n  row-gap: 15px;\n"]))),d=(0,l.ZP)(u.dk)(o||(o=(0,s.Z)(["\n  text-align: center;\n"])))},56:function(e,t,n){"use strict";n.d(t,{uI:function(){return Co},gV:function(){return v},fw:function(){return nr},l3:function(){return Nr},cI:function(){return na},Hj:function(){return fe},g6:function(){return B},Jp:function(){return ma},xx:function(){return lt},xh:function(){return Xa},zB:function(){return Tt},Vs:function(){return Vt},YX:function(){return Rt},ED:function(){return Dt},ZX:function(){return no},SD:function(){return Bn},Lt:function(){return re},s8:function(){return li},cT:function(){return _o},gN:function(){return Aa},XN:function(){return Da},Uq:function(){return Ke},lF:function(){return Ue},h4:function(){return Se},Sp:function(){return ki},At:function(){return E},TR:function(){return M},U3:function(){return aa},JS:function(){return go},W_:function(){return ue},BR:function(){return Ki},jV:function(){return wr},tk:function(){return se},$0:function(){return Cn},g_:function(){return ft},$k:function(){return Ln},Pr:function(){return Ht},LW:function(){return gi},OK:function(){return eo},k4:function(){return ro},f6:function(){return T},WP:function(){return so},Cl:function(){return S}});var r=n(390),i=n(2822),a=n(5545),o=n(8187),s=n(2559),l=(0,r.lazy)((function(){return n.e(751).then(n.bind(n,2895))})),u=(0,r.lazy)((function(){return n.e(451).then(n.bind(n,6451))})),c=(0,r.lazy)((function(){return n.e(150).then(n.bind(n,150))})),f=(0,r.lazy)((function(){return n.e(252).then(n.bind(n,5252))})),h=(0,r.lazy)((function(){return n.e(352).then(n.bind(n,2352))})),d=(0,r.lazy)((function(){return n.e(434).then(n.bind(n,7434))})),p=(0,r.lazy)((function(){return n.e(535).then(n.bind(n,2535))})),m=(0,r.lazy)((function(){return n.e(765).then(n.bind(n,2217))}));function v(){var e=(0,a.TH)().pathname,t=(0,i.Fg)().type,n=(0,r.useMemo)((function(){switch(e){case o.Z_.CONTACTS:return null;case o.Z_.TEAM:case o.Z_.ABOUT_US:return(0,s.jsx)(gi,{});default:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ki,{}),(0,s.jsx)(gi,{})]})}}),[e]);return(0,s.jsxs)(r.Suspense,{fallback:"Loading...",children:[(0,s.jsx)(Se,{}),(0,s.jsx)(so,{}),(0,s.jsxs)(a.Z5,{children:[(0,s.jsx)(a.AW,{path:o.Z_.HOME,element:(0,s.jsx)(l,{})}),(0,s.jsx)(a.AW,{path:o.Z_.SOLUTIONS,element:(0,s.jsx)(m,{})}),(0,s.jsx)(a.AW,{path:o.Z_.ELEMENTS,element:(0,s.jsx)(m,{})}),(0,s.jsx)(a.AW,{path:o.Z_.BLOG,element:(0,s.jsx)(m,{})}),(0,s.jsx)(a.AW,{path:o.Z_.CONTACTS,element:(0,s.jsx)(u,{})}),(0,s.jsx)(a.AW,{path:o.Z_.ABOUT_US,element:(0,s.jsx)(c,{})}),(0,s.jsx)(a.AW,{path:o.Z_.TEAM,element:(0,s.jsx)(f,{})}),(0,s.jsx)(a.AW,{path:o.Z_.FAQ,element:(0,s.jsx)(h,{})}),(0,s.jsxs)(a.AW,{path:o.Z_.SERVICES,children:[(0,s.jsx)(a.AW,{index:!0,element:(0,s.jsx)(d,{})}),(0,s.jsx)(a.AW,{path:o.Z_.SERVICE,element:(0,s.jsx)(p,{})})]}),(0,s.jsx)(a.AW,{path:"*",element:(0,s.jsx)(m,{})})]}),n,"light"===t?(0,s.jsx)(Ke,{}):(0,s.jsx)(Ue,{})]})}var y,g,_,x,b,w=n(885),k=n(5758),C=(0,r.createContext)({isLightMode:!0,toggleLightMode:function(){}}),E=function(e){var t=e.children,n=(0,r.useState)(!0),i=(0,w.Z)(n,2),a=i[0],o=i[1];return(0,s.jsx)(C.Provider,{value:{isLightMode:a,toggleLightMode:function(){return o(!a)}},children:t})},S=function(){return(0,r.useContext)(C)},T=function(e){var t=e.children,n=S().isLightMode;return(0,s.jsx)(i.f6,{theme:n?k.Wb:k.$_,children:t})},A=n(6829),M=function(e){var t=e.isOn,n=S().toggleLightMode;return t?(0,s.jsx)(A.c8,{onClick:n}):(0,s.jsx)(A.y3,{onClick:n})},I=n(6026),P=n(168),L=n(5400),z=(0,i.iv)(y||(y=(0,P.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n"]))),O=(0,i.iv)(g||(g=(0,P.Z)(["\n  width: calc(100% - 16px);\n  height: calc(100% - 16px);\n"]))),D=i.ZP.span(_||(_=(0,P.Z)(["\n  ",";\n  position: absolute;\n  left: -10px;\n  bottom: -75%;\n  transform: translateY(50%);\n  background-color: ",";\n  width: ","px;\n  height: ","px;\n"])),z,(function(e){return e.theme.colors.white}),(function(e){return e.theme.sizes.button.width[2]}),(function(e){return e.theme.sizes.button.width[2]})),R=i.ZP.span(x||(x=(0,P.Z)(["\n  background-color: ",";\n\n  ",";\n  ",";\n\n  &:hover {\n    box-shadow: ",";\n    color: ",";\n    fill: ",";\n    opacity: ",";\n  }\n\n  &:active {\n    opacity: 1;\n    color: ",";\n    fill: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.primary}),O,z,(function(e){var t=e.theme;return"light"===t.type?t.shadows.button:""}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.hoverButton}),(function(e){return"light"===e.theme.type?"0.8":""}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.grey})),F=(0,i.ZP)(L.rU)(b||(b=(0,P.Z)(["\n  border: 1px "," solid;\n  background-color: transparent;\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  color: ",";\n\n  ",";\n  ",";\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[1]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.colors.white}),O,z);function B(e){var t=e.children,n=e.path;return(0,s.jsx)(D,{children:(0,s.jsx)(R,{children:(0,s.jsx)(F,{to:n,children:t})})})}var j,U,Z,N,V=n(6599),G=function(e){return(0,r.useMemo)((function(){return e.length>12?e:e.replace("themeforest","home").replace("about","about us").replace("team","Our team").replace("map","site map").replace("faq","FAQ").slice(1)}),[e])},q=i.ZP.div(j||(j=(0,P.Z)(["\n  order: 3;\n"]))),W=(0,i.F4)(U||(U=(0,P.Z)(["\n  from {\n    transform: translate(-100%, -50%);\n  }\n  to {\n    transform: translate(0, -50%);\n  }\n"]))),H=i.ZP.ul(Z||(Z=(0,P.Z)(["\n  position: absolute;\n  width: 190px;\n  display: flex;\n  flex-direction: column;\n  align-content: space-between;\n  background: ",";\n  filter: drop-shadow(0px 2px 6px rgba(0, 43, 78, 0.15))\n    drop-shadow(0px 1px 2px rgba(0, 43, 78, 0.3));\n  border-radius: 6px;\n  z-index: 9999;\n\n  @media "," {\n    width: 80%;\n    left: 0;\n    transform: translateY(-50%);\n    animation: "," ease-in-out 0.8s;\n  }\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.media.mobile}),W),X=(0,i.ZP)(L.rU)(N||(N=(0,P.Z)(["\n  padding: 10px 20px;\n  column-gap: ","px;\n  display: flex;\n  justify-content: space-between;\n  text-decoration: none;\n  text-transform: capitalize;\n  color: ",";\n  width: 100%;\n\n  &:hover {\n    color: ",";\n    font-weight: 500;\n    &::after {\n      content: '';\n      background-image: url(",");\n      width: 15%;\n      background-repeat: no-repeat;\n    }\n  }\n"])),(function(e){return e.theme.gaps[0]}),(function(e){return e.theme.colors.grey}),(function(e){return e.theme.colors.hover}),A.aJ);function Y(e){var t=e.isOpen,n=e.trigger,r=e.menu,i=e.element,a=e.toggle,o=G;return(0,V.createPortal)((0,s.jsxs)(q,{children:[n,t?(0,s.jsx)(H,{children:r.map((function(e){return(0,s.jsx)(X,{to:e,onClick:a,children:o(e)},e)}))}):null]}),i)}var K,Q,J,$,ee,te,ne,re=(0,r.memo)(Y),ie=function(){var e=(0,r.useRef)(null),t=(0,r.useState)(!1),n=(0,w.Z)(t,2),i=n[0],a=n[1],l=(0,r.useState)(null),u=(0,w.Z)(l,2),c=u[0],f=u[1];(0,r.useLayoutEffect)((function(){f(e.current)}),[]);var h=function(){a(!i)},d=(0,r.useCallback)((function(){return a(!1)}),[]),p=(0,r.useMemo)((function(){return[o.Z_.HOME,o.Z_.SOLUTIONS,o.Z_.ELEMENTS,o.Z_.BLOG,o.Z_.CONTACTS,o.Z_.TEAM,o.Z_.ABOUT_US,o.Z_.SERVICES,o.Z_.FAQ]}),[]);return{containerRef:e,links:p,isOpen:i,toggleOpen:h,setOpenFalse:d,renderDropdown:function(e){return c&&(0,s.jsx)(re,{isOpen:i,trigger:e,menu:p,element:c,toggle:h})}}},ae=i.ZP.nav(K||(K=(0,P.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  column-gap: ","px;\n  width: ","px;\n\n  @media "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.gaps[9]}),(function(e){return e.theme.sizes.navigation.width}),(function(e){return e.theme.media.mobile})),oe=(0,i.ZP)(L.OL)(Q||(Q=(0,P.Z)(["\n  text-transform: capitalize;\n  color: ",";\n  order: ",";\n  width: ","px;\n  letter-spacing: -0.015em;\n\n  &:hover {\n    color: ",";\n    font-weight: 500;\n  }\n\n  &.active {\n    font-weight: 500;\n    color: ",";\n    border-bottom: ",";\n  }\n"])),(function(e){return e.theme.colors.grey}),(function(e){var t=e.order;return 2===t?"4":t+1}),(function(e){return e.theme.sizes.navigation.itemWidth}),(function(e){return e.theme.colors.hover}),(function(e){return e.theme.colors.black}),(function(e){var t=e.theme;return"dark"===t.type?"1px solid ".concat(t.colors.black):"none"})),se=i.ZP.span(J||(J=(0,P.Z)(["\n  color: ",";\n  fill: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  column-gap: ","px;\n  width: ","px;\n  cursor: pointer;\n  letter-spacing: -0.015em;\n\n  #small_chevron {\n    rotate: ",";\n  }\n\n  &:hover {\n    color: ",";\n    fill: ",";\n    font-weight: 500;\n  }\n\n  ","\n"])),(function(e){return e.theme.colors.grey}),(function(e){return e.theme.colors.grey}),(function(e){return e.theme.gaps[0]}),(function(e){return e.theme.sizes.navigation.itemWidth}),(function(e){return e.isOpen?"180deg":"0"}),(function(e){return e.theme.colors.hover}),(function(e){return e.theme.colors.grey}),(function(e){var t=e.$grey,n=e.isOpen,r=e.theme;switch(!0){case n:return(0,i.iv)($||($=(0,P.Z)(["\n          font-weight: 500;\n          color: ",";\n          fill: ",";\n          border-bottom: ",";\n        "])),r.colors.black,r.colors.grey,"dark"===r.type?"1px solid ".concat(r.colors.black):"none");case t:return(0,i.iv)(ee||(ee=(0,P.Z)(["\n          color: ",";\n        "])),r.colors.footer);default:return(0,i.iv)(te||(te=(0,P.Z)([""])))}})),le=function(e){var t=e.link,n=e.index,r=e.onClick,i=G(t);return n>4?null:(0,s.jsx)(oe,{to:t,order:n,onClick:r,children:i})};function ue(){var e=ie(),t=e.containerRef,n=e.links,r=e.isOpen,i=e.toggleOpen,a=e.setOpenFalse,o=e.renderDropdown;return(0,s.jsxs)(ae,{ref:t,children:[n.map((function(e,t){return(0,s.jsx)(le,{link:e,index:t,onClick:a},e)})),o((0,s.jsxs)(se,{isOpen:r,onClick:i,children:["Pages",(0,s.jsx)(A.Th,{})]}))]})}var ce=i.ZP.button(ne||(ne=(0,P.Z)(["\n  border: none;\n  background: transparent;\n"])));function fe(){var e=ie(),t=e.containerRef,n=e.toggleOpen,r=e.renderDropdown;return(0,s.jsx)(ce,{ref:t,id:"menu",children:r((0,s.jsx)(A.YC,{onClick:n}))})}var he,de,pe,me,ve,ye,ge,_e,xe,be,we=n(1750),ke=n(4176),Ce=i.ZP.header(he||(he=(0,P.Z)(["\n  height: ","px;\n  background-color: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-content: center;\n\n  #logo {\n    cursor: pointer;\n    transform: scale(1);\n  }\n\n  #menu {\n    display: none;\n  }\n\n  @media "," {\n    #logo {\n      transform: scale(0.85);\n    }\n\n    button {\n      display: none;\n    }\n\n    #menu {\n      display: inline-block;\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.theme.sizes.header.height}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.fonts.weights[2]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.media.mobile}),(function(e){return e.theme.colors.primary})),Ee=(0,i.ZP)(I.O)(de||(de=(0,P.Z)(["\n  width: ","px;\n  height: ","px;\n\n  svg {\n    transform: scale(1.1);\n  }\n"])),(function(e){return e.theme.sizes.button.width[3]}),(function(e){return e.theme.sizes.button.height[0]}));function Se(){var e=S().isLightMode,t=(0,we.I0)(),n=(0,we.v9)((function(e){return e.player})).isPlay;return(0,s.jsx)(Ce,{children:(0,s.jsxs)(k.W2,{$flex:!0,children:[(0,s.jsx)(M,{isOn:e}),(0,s.jsx)(ue,{}),(0,s.jsxs)(Ee,{onClick:function(){t((0,ke.U)())},children:[n?"":(0,s.jsx)(A.sh,{}),n?"Stop":"Watch"," the demo"]}),(0,s.jsx)(fe,{})]})})}var Te,Ae,Me,Ie,Pe,Le,ze,Oe,De=i.ZP.footer(pe||(pe=(0,P.Z)(["\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  align-content: space-between;\n  justify-content: center;\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n  letter-spacing: ","em;\n  padding: 56px 0 40px;\n"])),(function(e){return e.theme.colors.backgroundFooter}),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[2]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[0]})),Re=(0,i.ZP)(k.W2)(me||(me=(0,P.Z)(["\n  row-gap: ","px;\n"])),(function(e){return e.theme.gaps[9]})),Fe=i.ZP.h3(ve||(ve=(0,P.Z)(["\n  font-weight: ",";\n  font-size: ","px;\n  letter-spacing: ","em;\n  color: ",";\n"])),(function(e){return e.theme.fonts.weights[3]}),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.white})),Be=i.ZP.div(ye||(ye=(0,P.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  column-gap: ","px;\n\n  ",";\n"])),(function(e){return e.theme.gaps[16]}),(function(e){var t=e.$row,n=e.$col,r=e.theme;switch(!0){case t:return(0,i.iv)(ge||(ge=(0,P.Z)(["\n          flex-direction: row;\n          width: 445px;\n          column-gap: ","px;\n        "])),r.gaps[0]);case n:return(0,i.iv)(_e||(_e=(0,P.Z)(["\n          width: 100%;\n          column-gap: ","px;\n        "])),r.gaps[5]);default:return(0,i.iv)(xe||(xe=(0,P.Z)([""])))}})),je=i.ZP.hr(be||(be=(0,P.Z)(["\n  height: 1px;\n  background-color: ",";\n  width: 100%;\n  border: none;\n"])),(function(e){return e.theme.colors.steel}));function Ue(){var e=ie(),t=e.containerRef,n=e.isOpen,r=e.toggleOpen,i=e.renderDropdown,a=S().toggleLightMode;return(0,s.jsx)(De,{children:(0,s.jsxs)(Re,{children:[(0,s.jsxs)(Be,{children:[(0,s.jsx)(A.c8,{onClick:a}),(0,s.jsxs)(Be,{$row:!0,children:[(0,s.jsx)(lt,{listPaths:o.jZ,startOrder:2,children:(0,s.jsx)(Fe,{children:"About"})}),(0,s.jsx)(lt,{listPaths:o.GD,startOrder:2,children:(0,s.jsx)(Fe,{children:"Information"})}),(0,s.jsxs)(lt,{listPaths:o.uZ,startOrder:4,ref:t,children:[(0,s.jsx)(Fe,{children:"Service"}),i((0,s.jsx)(se,{isOpen:n,onClick:r,$grey:!0,children:"Pages"}))]})]})]}),(0,s.jsx)(je,{}),(0,s.jsxs)(Be,{$col:!0,children:[(0,s.jsx)(Tt,{children:(0,s.jsx)(Fe,{children:"Contacts"})}),(0,s.jsx)(ft,{children:(0,s.jsx)(Fe,{children:"Social"})})]}),(0,s.jsx)(je,{}),(0,s.jsx)(Be,{$col:!0,children:(0,s.jsx)(Ht,{})})]})})}var Ze,Ne,Ve,Ge,qe=(0,i.ZP)(k.W2)(Te||(Te=(0,P.Z)([""]))),We=(0,i.ZP)(Be)(Ae||(Ae=(0,P.Z)(["\n  column-gap: ","px;\n\n  ","\n"])),(function(e){return e.theme.gaps[14]}),(function(e){var t=e.$row,n=e.$reverse,r=e.theme;switch(!0){case t:return(0,i.iv)(Me||(Me=(0,P.Z)(["\n          flex-direction: row;\n          width: 613px;\n          column-gap: ","px;\n          margin-bottom: 50px;\n        "])),r.gaps[0]);case n:return(0,i.iv)(Ie||(Ie=(0,P.Z)(["\n          margin-top: 34px;\n          flex-direction: row-reverse;\n        "])));default:return(0,i.iv)(Pe||(Pe=(0,P.Z)([""])))}})),He=i.ZP.div(Le||(Le=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: ","px;\n  width: 285px;\n"])),(function(e){return e.theme.gaps[6]})),Xe=i.ZP.p(ze||(ze=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  letter-spacing: ","em;\n  text-align: left;\n  color: ",";\n"])),(function(e){return e.theme.fonts.families[1]}),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.footer})),Ye=i.ZP.ul(Oe||(Oe=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  list-style-type: none;\n  padding: 0px;\n  gap: ","px;\n\n  width: 233px;\n"])),(function(e){return e.theme.gaps[4]}));function Ke(){var e=ie(),t=e.containerRef,n=e.isOpen,r=e.toggleOpen,i=e.renderDropdown,a=S().toggleLightMode;return(0,s.jsx)(De,{children:(0,s.jsxs)(qe,{children:[(0,s.jsxs)(We,{children:[(0,s.jsxs)(He,{children:[(0,s.jsx)(A.y3,{onClick:a}),(0,s.jsx)(Xe,{children:"Ut enim ad minima veniam, quis nostrum exercitationem corporis\xa0suscipit laboriosam, nisi ut aliquid ex ea commodi."}),(0,s.jsx)(ft,{})]}),(0,s.jsxs)(We,{$row:!0,children:[(0,s.jsx)(lt,{listPaths:o.rl,startOrder:2,children:(0,s.jsx)(Fe,{children:"Quick Link"})}),(0,s.jsxs)(lt,{listPaths:o.uZ,startOrder:2,ref:t,children:[(0,s.jsx)(Fe,{children:"Service"}),i((0,s.jsx)(se,{isOpen:n,onClick:r,children:"Pages"}))]}),(0,s.jsxs)(Ye,{children:[(0,s.jsx)(Fe,{children:"Contacts Info"}),(0,s.jsx)(Dt,{grey:!0}),(0,s.jsx)(Rt,{grey:!0}),(0,s.jsx)(Vt,{grey:!0})]})]})]}),(0,s.jsx)(je,{}),(0,s.jsx)(We,{$col:!0,$reverse:!0,children:(0,s.jsx)(Ht,{})})]})})}var Qe=(0,i.ZP)(L.rU)(Ze||(Ze=(0,P.Z)(["\n  text-transform: capitalize;\n  color: ",";\n  order: ",";\n\n  &:hover {\n    color: ",";\n    font-weight: 500;\n  }\n\n  &.active {\n    font-weight: 500;\n    color: ",";\n    border-bottom: ",";\n  }\n"])),(function(e){return e.theme.colors.footer}),(function(e){var t=e.order;return 2===t?"4":t+1}),(function(e){return e.theme.colors.hover}),(function(e){return e.theme.colors.black}),(function(e){var t=e.theme;return"dark"===t.type?"1px solid ".concat(t.colors.black):"none"})),Je=i.ZP.ul(Ne||(Ne=(0,P.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  column-gap: ","px;\n\n  ","\n"])),(function(e){return e.theme.gaps[6]}),(function(e){return e.$column?(0,i.iv)(Ve||(Ve=(0,P.Z)(["\n          flex-direction: column;\n          row-gap: ","px;\n        "])),(function(e){return e.theme.gaps[4]})):(0,i.iv)(Ge||(Ge=(0,P.Z)([""])))}));function $e(e,t){var n=e.listPaths,r=e.children,i=e.startOrder,a=G;return(0,s.jsxs)(Je,{$column:!0,ref:t,children:[r,n.map((function(e,t){return(0,s.jsx)(Qe,{to:e,order:t+i,children:a(e)},e)}))]})}var et,tt,nt,rt,it,at,ot,st,lt=(0,r.forwardRef)($e),ut=i.ZP.div(et||(et=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  row-gap: ","px;\n\n  svg {\n    fill: ",";\n  }\n"])),(function(e){return e.theme.gaps[1]}),(function(e){return e.theme.colors.hoverButton})),ct=i.ZP.div(tt||(tt=(0,P.Z)(["\n  display: flex;\n  column-gap: ","px;\n"])),(function(e){return e.theme.gaps[5]}));function ft(e){var t=e.children;return(0,s.jsxs)(ut,{children:[t,(0,s.jsxs)(ct,{children:[(0,s.jsx)(A.s1,{}),(0,s.jsx)(A.tL,{}),(0,s.jsx)(A.yh,{}),(0,s.jsx)(A._F,{}),(0,s.jsx)(A.K3,{}),(0,s.jsx)(A.mR,{})]})]})}var ht,dt,pt,mt,vt,yt,gt,_t,xt,bt,wt,kt=i.ZP.div(nt||(nt=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 479px;\n  row-gap: ","px;\n"])),(function(e){return e.theme.gaps[1]})),Ct=i.ZP.div(rt||(rt=(0,P.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  ","\n"])),(function(e){return e.$col?(0,i.iv)(it||(it=(0,P.Z)(["\n          flex-direction: column;\n          align-items: flex-start;\n          row-gap: ","px;\n        "])),(function(e){return e.theme.gaps[0]})):(0,i.iv)(at||(at=(0,P.Z)(["\n          width: 100%;\n        "])))})),Et=(0,i.iv)(ot||(ot=(0,P.Z)(["\n  font-weight: ",";\n  letter-spacing: ","em;\n  color: ",";\n  display: flex;\n  column-gap: ","px;\n  justify-content: space-between;\n  align-items: center;\n\n  &::after {\n    content: '';\n    background-image: url(",");\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    filter: grayscale(1);\n  }\n"])),(function(e){return e.theme.fonts.weights[2]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.gaps[0]}),A.aJ),St=(0,i.ZP)(L.rU)(st||(st=(0,P.Z)(["\n  ","\n"])),Et);function Tt(e){var t=e.children;return(0,s.jsxs)(kt,{children:[t,(0,s.jsxs)(Ct,{children:[(0,s.jsxs)(Ct,{$col:!0,$reverse:!0,children:[(0,s.jsx)(Dt,{}),(0,s.jsx)(Rt,{})]}),(0,s.jsxs)(Ct,{$col:!0,children:[(0,s.jsx)(Vt,{}),(0,s.jsx)(St,{to:o.Z_.MAP,children:"Driving directions"})]})]})]})}var At,Mt,It,Pt,Lt=(0,i.iv)(ht||(ht=(0,P.Z)(["\n  ",";\n\n  ","\n"])),(function(e){var t=e.$grey,n=e.$black,r=e.theme;switch(!0){case t:return(0,i.iv)(dt||(dt=(0,P.Z)(["\n          color: ",";\n        "])),r.colors.footer);case n:return(0,i.iv)(pt||(pt=(0,P.Z)(["\n          color: ",";\n        "])),r.colors.black);default:return(0,i.iv)(mt||(mt=(0,P.Z)(["\n          color: ",";\n        "])),r.colors.white)}}),(function(e){var t=e.$flex,n=e.theme;return t?(0,i.iv)(vt||(vt=(0,P.Z)(["\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          font-weight: ",";\n          gap: 12px;\n        "])),n.fonts.weights[0]):(0,i.iv)(yt||(yt=(0,P.Z)([""])))})),zt=i.ZP.a(gt||(gt=(0,P.Z)(["\n  letter-spacing: ","em;\n  display: flex;\n  column-gap: ","px;\n  justify-content: space-between;\n  align-items: center;\n\n  &::after {\n    ",";\n    background-image: url(",");\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    filter: grayscale(1);\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.gaps[0]}),(function(e){var t=e.$grey,n=e.$black;return t||n?(0,i.iv)(_t||(_t=(0,P.Z)([""]))):(0,i.iv)(xt||(xt=(0,P.Z)(["\n            content: '';\n          "])))}),A.aJ,Lt,(function(e){var t=e.$grey,n=e.$black,r=e.theme;return t||n?(0,i.iv)(bt||(bt=(0,P.Z)(["\n          font-weight: ",";\n        "])),r.fonts.weights[0]):(0,i.iv)(wt||(wt=(0,P.Z)(["\n          font-weight: ",";\n        "])),r.fonts.weights[2])})),Ot=i.ZP.a(At||(At=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n  letter-spacing: ","em;\n\n  ","\n"])),(function(e){return e.theme.fonts.families[1]}),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[1]}),Lt);function Dt(e){var t=e.grey,n=e.black,r=e.flex,i=e.children;return(0,s.jsxs)(Ot,{href:"tel:+1 601-201-5580",$grey:t,$flex:r,$black:n,children:[i,"+1 601-201-5580"]})}function Rt(e){var t=e.grey,n=e.black,r=e.flex,i=e.children;return(0,s.jsxs)(zt,{href:"mailto:ensome@info.co.us",$grey:t,$black:n,$flex:r,children:[i,"ensome@info.co.us"]})}var Ft,Bt,jt,Ut,Zt,Nt=i.ZP.address(Mt||(Mt=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n  letter-spacing: ","em;\n  color: ",";\n  font-style: normal;\n  cursor: pointer;\n\n  ","\n"])),(function(e){return e.theme.fonts.families[1]}),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.white}),(function(e){var t=e.$grey;return e.$black||t?(0,i.iv)(It||(It=(0,P.Z)(["\n          text-align: left;\n          a {\n            ","\n          }\n        "])),Lt):(0,i.iv)(Pt||(Pt=(0,P.Z)([""])))}));function Vt(e){var t=e.grey,n=e.black,r=e.flex,i=e.children;return(0,s.jsx)(Nt,{$grey:t,$black:n,$flex:r,children:(0,s.jsxs)("a",{href:"https://goo.gl/maps/pNeKrDXwvQEsKQXW7",target:"_blank",rel:"noreferrer",children:[i,"1642 Washington Avenue, Jackson, MS, 39201"]})})}var Gt=i.ZP.div(Ft||(Ft=(0,P.Z)(["\n  display: flex;\n  justify-content: space-between;\n  width: 286px;\n"]))),qt=i.ZP.span(Bt||(Bt=(0,P.Z)(["\n  font-weight: ",";\n  letter-spacing: ","em;\n  color: ",";\n  display: flex;\n  column-gap: ","px;\n  justify-content: space-between;\n  align-items: center;\n\n  &::after {\n    ",";\n    background-image: url(",");\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    filter: grayscale(1) opacity(0.8);\n  }\n"])),(function(e){return e.theme.fonts.weights[2]}),(function(e){return e.theme.fonts.spacings[0]}),(function(e){return e.theme.colors.footer}),(function(e){return e.theme.gaps[0]}),(function(e){return"light"===e.theme.type?(0,i.iv)(jt||(jt=(0,P.Z)([""]))):(0,i.iv)(Ut||(Ut=(0,P.Z)(["\n            content: '';\n          "])))}),A.aJ),Wt=i.ZP.div(Zt||(Zt=(0,P.Z)(["\n  display: flex;\n  column-gap: ","px;\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n  letter-spacing: ","em;\n  color: ",";\n"])),(function(e){return e.theme.gaps[0]}),(function(e){return e.theme.fonts.families[1]}),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.footer}));function Ht(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(Gt,{children:[(0,s.jsx)(qt,{children:"Private policy"}),(0,s.jsx)(qt,{children:"Term of us"})]}),(0,s.jsxs)(Wt,{children:["\xa9",(0,s.jsx)("data",{children:"2022"}),(0,s.jsx)("span",{children:"Ensome. All Rights Reserved."})]})]})}var Xt,Yt,Kt,Qt,Jt,$t,en,tn,nn,rn,an,on,sn,ln,un,cn,fn,hn,dn,pn,mn,vn,yn,gn,_n,xn,bn,wn=n(8398),kn=i.ZP.section(Xt||(Xt=(0,P.Z)(["\n  font-family: 'Manrope';\n  font-style: normal;\n\n  text-align: left;\n\n  height: fit-content;\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: ","px;\n  row-gap: ","px;\n\n  ","\n\n  ","\n\n  ","\n  \n  ","\n\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n"])),(function(e){return e.theme.gaps[2]}),(function(e){return e.theme.gaps[2]}),(function(e){var t=e.$odd,n=e.theme;return t?(0,i.iv)(Yt||(Yt=(0,P.Z)(["\n          background-color: ",";\n        "])),n.colors.background):(0,i.iv)(Kt||(Kt=(0,P.Z)(["\n          background-color: ",";\n        "])),n.colors.white)}),(function(e){var t=e.$primary,n=e.theme;return t?(0,i.iv)(Qt||(Qt=(0,P.Z)(["\n          background-color: ",";\n        "])),n.colors.primary):(0,i.iv)(Jt||(Jt=(0,P.Z)([""])))}),(function(e){var t=e.$secondary,n=e.theme;return t?(0,i.iv)($t||($t=(0,P.Z)(["\n          background-color: ",";\n        "])),n.colors.secondary):(0,i.iv)(en||(en=(0,P.Z)([""])))}),(function(e){return e.$col?(0,i.iv)(tn||(tn=(0,P.Z)(["\n          flex-direction: column;\n        "]))):(0,i.iv)(nn||(nn=(0,P.Z)([""])))}),(function(e){return e.$isOn?(0,i.iv)(rn||(rn=(0,P.Z)(["\n          background-color: transparent;\n        "]))):(0,i.iv)(an||(an=(0,P.Z)([""])))}),(function(e){var t=e.$cardSection,n=e.theme;return t?(0,i.iv)(on||(on=(0,P.Z)(["\n          padding: ","px 0;\n          row-gap: ","px;\n        "])),n.sizes.container.paddings[2],n.gaps[12]):(0,i.iv)(sn||(sn=(0,P.Z)([""])))}),(function(e){var t=e.$featureSection,n=e.theme;return t?(0,i.iv)(ln||(ln=(0,P.Z)(["\n          column-gap: ","px;\n        "])),n.gaps[10]):(0,i.iv)(un||(un=(0,P.Z)([""])))}),(function(e){var t=e.$overviewSection,n=e.theme;return t?(0,i.iv)(cn||(cn=(0,P.Z)(["\n          row-gap: ","px;\n        "])),n.gaps[11]):(0,i.iv)(fn||(fn=(0,P.Z)([""])))}));function Cn(e){var t=e.children,n=e.id,r=e.odd,i=e.full,a=e.col,o=e.primary,l=e.secondary,u=e.cardSection,c=e.featureSection,f=e.overviewSection,h=(0,wn.d)(n),d=(0,we.v9)((function(e){return e.player})).isPlay;return(0,s.jsx)(kn,{ref:h,id:n,$odd:r,$primary:o,$secondary:l,$full:i,$col:a,$isOn:d,$cardSection:u,$featureSection:c,$overviewSection:f,children:t})}var En,Sn,Tn,An=(0,i.iv)(hn||(hn=(0,P.Z)(["\n  font-family: ",";\n  font-style: normal;\n"])),(function(e){return e.theme.fonts.families[1]})),Mn=i.ZP.span(dn||(dn=(0,P.Z)(["\n  font-weight: ",";\n  font-size: ","px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  color: ",";\n\n  ","\n\n  ","\n"])),(function(e){return e.theme.fonts.weights[4]}),(function(e){return e.theme.fonts.sizes[8]}),(function(e){return e.theme.colors.primary}),An,(function(e){return e.$large?(0,i.iv)(pn||(pn=(0,P.Z)(["\n          font-size: ","px;\n        "])),(function(e){return e.theme.fonts.sizes[9]})):(0,i.iv)(mn||(mn=(0,P.Z)(["\n          font-size: ","px;\n        "])),(function(e){return e.theme.fonts.sizes[8]}))})),In=i.ZP.span(vn||(vn=(0,P.Z)(["\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  letter-spacing: ","em;\n  color: ",";\n\n  ","\n\n  ","\n"])),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.fonts.heights[1]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.grey}),An,(function(e){return e.$bold?(0,i.iv)(yn||(yn=(0,P.Z)(["\n          font-weight: ",";\n        "])),(function(e){return e.theme.fonts.weights[2]})):(0,i.iv)(gn||(gn=(0,P.Z)(["\n          font-weight: ",";\n        "])),(function(e){return e.theme.fonts.weights[0]}))})),Pn=i.ZP.div(_n||(_n=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  ","\n"])),(function(e){var t=e.$center,n=e.theme;return t?(0,i.iv)(xn||(xn=(0,P.Z)(["\n          align-items: center;\n          row-gap: ","px;\n          width: 255px;\n        "])),n.gaps[1]):(0,i.iv)(bn||(bn=(0,P.Z)(["\n          align-items: flex-start;\n        "])))}));function Ln(e){var t=e.number,n=e.description,r=e.isCenter;return(0,s.jsxs)(Pn,{$center:r,children:[(0,s.jsx)(Mn,{$large:r,children:t}),(0,s.jsx)(In,{$bold:r,children:n})]})}var zn,On,Dn,Rn,Fn=i.ZP.div(En||(En=(0,P.Z)(["\n  ","\n"])),(function(e){return e.$filter?(0,i.iv)(Sn||(Sn=(0,P.Z)(["\n          filter: brightness(0.5);\n        "]))):(0,i.iv)(Tn||(Tn=(0,P.Z)([""])))}));function Bn(e){var t=e.isBrighter;return(0,s.jsxs)(Fn,{$filter:t,children:[(0,s.jsx)(A.jP,{}),(0,s.jsx)(A.if,{}),(0,s.jsx)(A.Ti,{}),(0,s.jsx)(A.ly,{}),(0,s.jsx)(A.at,{}),(0,s.jsx)(A.H0,{})]})}var jn,Un,Zn,Nn,Vn,Gn,qn,Wn,Hn,Xn,Yn,Kn,Qn,Jn=i.ZP.div(zn||(zn=(0,P.Z)(["\n  font-family: ",";\n  letter-spacing: ","em;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: ","px;\n  gap: ","px;\n\n  width: ","px;\n  height: ","px;\n\n  background: ",";\n\n  box-shadow: ",";\n  border-radius: ","px;\n\n  svg {\n    fill: ",";\n    transform: scale(1.1);\n  }\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.sizes.benefit.padding[0]}),(function(e){return e.theme.gaps[5]}),(function(e){return e.theme.sizes.benefit.width[0]}),(function(e){return e.theme.sizes.benefit.height[0]}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.shadows.button}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.colors.primary})),$n=i.ZP.h4(On||(On=(0,P.Z)(["\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  color: ",";\n"])),(function(e){return e.theme.fonts.weights[3]}),(function(e){return e.theme.fonts.sizes[3]}),(function(e){return e.theme.fonts.heights[2]}),(function(e){return e.theme.colors.black})),er=(0,i.ZP)(k.dk)(Dn||(Dn=(0,P.Z)(["\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n"])),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]})),tr=i.ZP.div(Rn||(Rn=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  flex: 1;\n  max-height: calc(\n    ","px * 2 +\n      ","px * 2\n  );\n  gap: ","px;\n  align-content: center;\n\n  & div:nth-child(3) {\n    margin-top: ","px;\n  }\n"])),(function(e){return e.theme.sizes.benefit.height[0]}),(function(e){return e.theme.gaps[10]}),(function(e){return e.theme.gaps[8]}),(function(e){return e.theme.sizes.container.paddings[2]/2}));function nr(){var e=o.bn.map((function(e){var t=e.icon,n=e.title,r=e.description;return(0,s.jsxs)(Jn,{children:[t,(0,s.jsx)($n,{children:n}),(0,s.jsx)(er,{children:r})]},n)}));return(0,s.jsx)(tr,{children:e})}var rr,ir,ar,or,sr,lr,ur,cr,fr,hr=i.ZP.div(jn||(jn=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 35px 20px;\n  gap: 30px;\n\n  width: 260px;\n  height: 525px;\n\n  background: ",";\n\n  box-shadow: 0px 4px 12px rgba(12, 68, 204, 0.1);\n  border-radius: 6px;\n\n  &:hover {\n    background: ",";\n\n    a,\n    button {\n      background: ",";\n      color: ",";\n    }\n\n    h4,\n    span,\n    li {\n      color: ",";\n    }\n\n    svg {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white})),dr=i.ZP.div(Un||(Un=(0,P.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  row-gap: ","px;\n"])),(function(e){return e.theme.gaps[5]})),pr=(0,i.ZP)(L.OL)(Zn||(Zn=(0,P.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n  padding: 10px 14px;\n  gap: ","px;\n  background-color: ",";\n  color: ",";\n  fill: ",";\n  border: none;\n  border-radius: 6px;\n\n  width: 100%;\n\n  &:hover {\n    box-shadow: ",";\n    color: ",";\n    fill: ",";\n    opacity: ",";\n  }\n\n  &:active {\n    opacity: 1;\n    color: ",";\n    fill: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.gaps[0]}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white}),(function(e){return"light"===e.theme.type?"0px 12px 30px rgba(24, 92, 255, 0.18)":""}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.hoverButton}),(function(e){return"light"===e.theme.type?"0.8":""}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.hoverButton}),(function(e){return e.theme.colors.grey})),mr=i.ZP.h4(Nn||(Nn=(0,P.Z)(["\n  font-family: 'Manrope';\n  font-style: normal;\n  font-weight: 700;\n  font-size: ","px;\n  line-height: 24px;\n\n  letter-spacing: -0.015em;\n\n  color: ",";\n"])),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.colors.black})),vr=i.ZP.div(Vn||(Vn=(0,P.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px;\n  width: 100%;\n"]))),yr=i.ZP.span(Gn||(Gn=(0,P.Z)(["\n  font-family: 'Manrope';\n  font-style: normal;\n  font-weight: 800;\n  font-size: ","px;\n  line-height: 40px;\n  letter-spacing: -0.015em;\n\n  color: ",";\n"])),(function(e){return e.theme.fonts.sizes[5]}),(function(e){return e.theme.colors.black})),gr=i.ZP.nav(qn||(qn=(0,P.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 10px;\n"]))),_r=i.ZP.button(Wn||(Wn=(0,P.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 10px;\n  gap: 10px;\n\n  width: 41px;\n  height: 32px;\n\n  border-radius: 6px;\n\n  ","\n"])),(function(e){var t=e.$color,n=e.theme;return t?(0,i.iv)(Hn||(Hn=(0,P.Z)(["\n          background: ",";\n          color: ",";\n          border: 1px solid ",";\n        "])),n.colors.primary,n.colors.white,n.colors.white):(0,i.iv)(Xn||(Xn=(0,P.Z)(["\n          background: ",";\n          color: ",";\n          border: 1px solid ",";\n        "])),n.colors.white,n.colors.primary,n.colors.primary)})),xr=i.ZP.ul(Yn||(Yn=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 15px;\n"]))),br=i.ZP.li(Kn||(Kn=(0,P.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  font-size: 14px;\n  padding: 0px;\n  gap: 7px;\n\n  color: ",";\n\n  svg {\n    fill: ",";\n    transform: scale(1.3);\n  }\n"])),(function(e){return e.theme.colors.black}),(function(e){return e.theme.colors.primary}));i.ZP.div(Qn||(Qn=(0,P.Z)(["\n  display: flex;\n  justify-content: space-between;\n  column-gap: 30px;\n"])));function wr(e){var t=e.name,n=e.price,r=e.services;return(0,s.jsxs)(hr,{children:[(0,s.jsxs)(dr,{children:[(0,s.jsx)(mr,{children:t}),(0,s.jsxs)(vr,{children:[(0,s.jsx)(yr,{children:n}),(0,s.jsxs)(gr,{children:[(0,s.jsx)(_r,{$color:!0,children:"Mo"}),(0,s.jsx)(_r,{children:"Yr"})]})]})]}),(0,s.jsx)(pr,{to:o.Z_.SERVICES,children:"Choose plan"}),(0,s.jsx)(xr,{children:null===r||void 0===r?void 0:r.map((function(e,t){return(0,s.jsxs)(br,{children:[(0,s.jsx)(A.MC,{}),e]},t)}))})]})}var kr,Cr,Er,Sr,Tr,Ar,Mr=i.ZP.div(rr||(rr=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: ","px;\n  gap: ","px;\n  height: ","px;\n  background: ",";\n  box-shadow: ",";\n\n  ","\n"])),(function(e){return e.theme.sizes.card.padding[0]}),(function(e){return e.theme.gaps[7]}),(function(e){return e.theme.sizes.card.height[0]}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.shadows.card}),(function(e){var t=e.$isBig,n=e.theme;return t?(0,i.iv)(ir||(ir=(0,P.Z)(["\n          width: ","px;\n        "])),n.sizes.card.width[1]):(0,i.iv)(ar||(ar=(0,P.Z)(["\n          width: ","px;\n        "])),n.sizes.card.width[0])})),Ir=i.ZP.img(or||(or=(0,P.Z)(["\n  border-radius: 50%;\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  object-position: top;\n"]))),Pr=i.ZP.div(sr||(sr=(0,P.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  gap: ","px;\n"])),(function(e){return e.theme.gaps[7]})),Lr=i.ZP.span(lr||(lr=(0,P.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.black})),zr=i.ZP.span(ur||(ur=(0,P.Z)(["\n  font-weight: ",";\n  font-size: ","px;\n  letter-spacing: ","em;\n  color: ",";\n"])),(function(e){return e.theme.fonts.weights[1]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.spacings[0]}),(function(e){return e.theme.colors.grey})),Or=i.ZP.div(cr||(cr=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n  letter-spacing: ","em;\n  row-gap: ","px;\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[3]}),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.gaps[0]})),Dr=(0,i.ZP)(k.dk)(fr||(fr=(0,P.Z)(["\n  font-size: ","px;\n  line-height: ","px;\n  text-align: left;\n"])),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.fonts.heights[1]})),Rr=(0,i.ZP)(Mr)(kr||(kr=(0,P.Z)(["\n  padding: 0px;\n  background-color: transparent;\n  height: fit-content;\n  box-shadow: none;\n"]))),Fr=i.ZP.h4(Cr||(Cr=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n  letter-spacing: ","em;\n  color: ",";\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[3]}),(function(e){return e.theme.fonts.sizes[4]}),(function(e){return e.theme.fonts.heights[3]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.black})),Br=(0,i.ZP)(k.dk)(Er||(Er=(0,P.Z)(["\n  font-size: ","px;\n  line-height: ","px;\n"])),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.fonts.heights[1]})),jr=i.ZP.img(Sr||(Sr=(0,P.Z)(["\n  border-radius: ","px;\n  object-fit: cover;\n"])),(function(e){return e.theme.borderRadius})),Ur=(0,i.ZP)(L.rU)(Tr||(Tr=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  display: flex;\n  align-items: center;\n  letter-spacing: ","em;\n\n  color: ",";\n\n  fill: ",";\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[3]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[0]}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),Zr=i.ZP.time(Ar||(Ar=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  letter-spacing: ","em;\n\n  color: ",";\n"])),(function(e){return e.theme.fonts.families[1]}),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.grey}));function Nr(e){var t=e.src,n=e.name;return(0,s.jsxs)(Rr,{children:[(0,s.jsx)(jr,{src:t,alt:"blog",loading:"lazy"}),(0,s.jsx)(Zr,{children:"22 June 2022"}),(0,s.jsx)(Fr,{children:n}),(0,s.jsx)(Br,{children:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas. Quis autem vel eum iure..."}),(0,s.jsxs)(Ur,{to:o.Z_.BLOG,children:["Read more",(0,s.jsx)(A.ol,{})]})]})}var Vr,Gr,qr,Wr,Hr,Xr,Yr,Kr,Qr,Jr,$r,ei,ti=n(4165),ni=n(5861),ri=n(1461),ii=i.ZP.label(Vr||(Vr=(0,P.Z)(["\n  width: 445px;\n  height: 54px;\n\n  display: flex;\n"]))),ai=i.ZP.input(Gr||(Gr=(0,P.Z)(["\n  width: 100%;\n  border-bottom-left-radius: 6px;\n  border-top-left-radius: 6px;\n  border: none;\n\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-size: ","px;\n  line-height: 24px;\n\n  letter-spacing: -0.015em;\n\n  padding: 15px 25px;\n\n  &::placeholder {\n    color: black;\n  }\n\n  &:hover {\n    background: #eceff2;\n    color: grey;\n    &::placeholder {\n      color: grey;\n    }\n  }\n\n  &:focus {\n    outline: none;\n    color: black;\n  }\n\n  ","\n"])),(function(e){return e.theme.fonts.sizes[1]}),(function(e){var t=e.$error,n=e.theme;return t?(0,i.iv)(qr||(qr=(0,P.Z)(["\n          background: #f6e2e2;\n          color: ",";\n        "])),n.colors.error):(0,i.iv)(Wr||(Wr=(0,P.Z)(["\n          color: black;\n          background: ",";\n        "])),n.colors.steel)})),oi=i.ZP.button(Hr||(Hr=(0,P.Z)(["\n  position: relative;\n\n  width: 119px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 11px 46px;\n\n  background: white;\n  border-bottom-right-radius: 6px;\n  border-top-right-radius: 6px;\n  border: none;\n\n  font-family: 'Manrope';\n  font-style: normal;\n  font-weight: 700;\n  font-size: ","px;\n  line-height: 24px;\n\n  letter-spacing: -0.015em;\n  color: black;\n\n  &::before {\n    content: '';\n    position: absolute;\n    border-bottom-left-radius: 6px;\n    border-top-left-radius: 6px;\n    height: 100%;\n    width: 6px;\n    left: 0px;\n    transform: translateX(-50%);\n    background: white;\n  }\n\n  &:hover {\n    box-shadow: ",";\n    color: ",";\n    opacity: ",";\n  }\n\n  &:active {\n    opacity: 1;\n    color: ",";\n  }\n"])),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return"light"===e.theme.type?"0px 12px 30px rgba(24, 92, 255, 0.18)":""}),(function(e){return e.theme.colors.white}),(function(e){return"light"===e.theme.type?"0.8":""}),(function(e){return e.theme.colors.black})),si=(0,ri.Ry)().shape({email:(0,ri.Z_)().email().required()});function li(){var e=(0,r.useState)({email:""}),t=(0,w.Z)(e,2),n=t[0],i=t[1],a=(0,r.useState)(!1),o=(0,w.Z)(a,2),l=o[0],u=o[1],c=(0,r.useCallback)((function(e){i({email:e.currentTarget.value}),u(!1)}),[]),f=(0,r.useCallback)(function(){var e=(0,ni.Z)((0,ti.Z)().mark((function e(t){return(0,ti.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,si.isValid(n,{abortEarly:!0});case 3:e.sent?console.log("Form is legit"):si.validate(n,{abortEarly:!1}).catch((function(){u(!0)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return(0,s.jsxs)(ii,{htmlFor:"email",children:[(0,s.jsx)(ai,{type:"email",placeholder:"Your email",id:"email",value:n.email,onChange:c,$error:l}),(0,s.jsx)(oi,{onClick:f,children:"Send"})]})}var ui,ci,fi,hi,di=(0,i.ZP)(kn)(Xr||(Xr=(0,P.Z)(["\n  ","\n"])),(function(e){var t=e.theme;return"light"===t.type?(0,i.iv)(Yr||(Yr=(0,P.Z)(["\n          border-bottom: 1px solid ",";\n          background-color: ",";\n        "])),t.colors.slate,t.colors.secondary):(0,i.iv)(Kr||(Kr=(0,P.Z)(["\n          background-color: ",";\n        "])),t.colors.hoverButton)})),pi=(0,i.ZP)(k.W2)(Qr||(Qr=(0,P.Z)(["\n  flex-direction: row;\n  column-gap: ","px;\n  padding: ","px 0;\n"])),(function(e){return e.theme.gaps[12]}),(function(e){return e.theme.sizes.container.paddings[0]})),mi=i.ZP.div(Jr||(Jr=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: ","px;\n  align-items: flex-start;\n  flex: 1;\n"])),(function(e){return e.theme.gaps[7]})),vi=(0,i.ZP)(k.bi)($r||($r=(0,P.Z)(["\n  color: white;\n"]))),yi=(0,i.ZP)(k.dk)(ei||(ei=(0,P.Z)(["\n  color: white;\n"])));function gi(){return(0,s.jsx)(di,{children:(0,s.jsxs)(pi,{children:[(0,s.jsxs)(mi,{children:[(0,s.jsx)(vi,{children:"Subscribe to our newsletter"}),(0,s.jsx)(yi,{children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium."})]}),(0,s.jsx)(li,{})]})})}var _i=(0,i.ZP)(kn)(ui||(ui=(0,P.Z)([""]))),xi=(0,i.ZP)(k.W2)(ci||(ci=(0,P.Z)(["\n  width: ","px;\n  row-gap: ","px;\n  padding: ","px 0;\n"])),(function(e){return e.theme.sizes.container.width[1]}),(function(e){return e.theme.gaps[8]}),(function(e){return e.theme.sizes.container.paddings[3]})),bi=(0,i.ZP)(k.dk)(fi||(fi=(0,P.Z)(["\n  font-size: ","px;\n  line-height: ","px;\n  text-align: center;\n"])),(function(e){return e.theme.fonts.sizes[2]}),(function(e){return e.theme.fonts.heights[1]})),wi=(0,i.ZP)(I.O)(hi||(hi=(0,P.Z)(["\n  width: ","px;\n  height: ","px;\n"])),(function(e){return e.theme.sizes.button.width[5]}),(function(e){return e.theme.sizes.button.height[0]}));function ki(){return(0,s.jsx)(_i,{$odd:!0,children:(0,s.jsxs)(xi,{children:[(0,s.jsx)(k.bi,{children:"Do you need help?"}),(0,s.jsx)(bi,{children:"Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis\xa0suscipit laboriosam, nisi ut aliquid ex ea commodi."}),(0,s.jsx)(wi,{children:(0,s.jsx)(L.rU,{to:o.Z_.CONTACTS,children:"Contact Us"})})]})})}var Ci,Ei,Si,Ti,Ai,Mi,Ii,Pi,Li,zi,Oi,Di,Ri,Fi,Bi,ji,Ui,Zi,Ni,Vi,Gi=n(1413),qi=(0,i.iv)(Ci||(Ci=(0,P.Z)(["\n  padding: 0;\n"]))),Wi=(0,i.ZP)(k.W2)(Ei||(Ei=(0,P.Z)(["\n  row-gap: ","px;\n\n  ","\n"])),(function(e){return e.theme.gaps[11]}),(function(e){var t=e.$service,n=e.theme;return t?qi:(0,i.iv)(Si||(Si=(0,P.Z)(["\n          padding-bottom: ","px;\n        "])),n.sizes.container.paddings[1])})),Hi=(0,i.ZP)(k.bi)(Ti||(Ti=(0,P.Z)(["\n  ","\n"])),(function(e){var t=e.$service,n=e.theme;return t?qi:(0,i.iv)(Ai||(Ai=(0,P.Z)(["\n          padding-top: ","px;\n        "])),n.sizes.container.paddings[2])})),Xi=(0,i.ZP)(k.dk)(Mi||(Mi=(0,P.Z)(["\n  font-size: ","px;\n  line-height: ","px;\n  flex: 1;\n"])),(function(e){return e.theme.fonts.sizes[3]}),(function(e){return e.theme.fonts.heights[3]})),Yi=i.ZP.div(Ii||(Ii=(0,P.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: ","px;\n  flex: 1;\n\n  ",";\n"])),(function(e){return e.theme.gaps[8]}),(function(e){return e.$row?(0,i.iv)(Pi||(Pi=(0,P.Z)(["\n          align-items: center;\n          justify-content: space-between;\n        "]))):(0,i.iv)(Li||(Li=(0,P.Z)([""])))}));function Ki(e){var t=e.service,n=o.hd.slice(0,3).map((function(e){return(0,s.jsx)(Ln,(0,Gi.Z)({},e),e.id)}));return(0,s.jsxs)(Cn,{overviewSection:!0,col:!0,children:[(0,s.jsx)(Hi,{$service:t,children:"We provide services that guarantee your success"}),(0,s.jsxs)(Wi,{$service:t,children:[(0,s.jsxs)(Yi,{$row:!0,children:[(0,s.jsx)(Yi,{children:n}),(0,s.jsx)(Xi,{children:o.WL})]}),(0,s.jsx)(Bn,{})]})]})}var Qi=i.ZP.div(zi||(zi=(0,P.Z)(["\n  display: flex;\n  width: 100%;\n  column-gap: ","px;\n  margin-bottom: 50px;\n\n  ","\n\n  ","\n"])),(function(e){return e.theme.gaps[2]}),(function(e){return e.$left?(0,i.iv)(Oi||(Oi=(0,P.Z)(["\n          justify-content: left;\n          padding: 20px 0 0;\n        "]))):(0,i.iv)(Di||(Di=(0,P.Z)(["\n          justify-content: center;\n          padding: 10px 0 0;\n        "])))}),(function(e){var t=e.$secondary,n=e.theme;return t?(0,i.iv)(Ri||(Ri=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.white):(0,i.iv)(Fi||(Fi=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.grey)})),Ji=(0,i.iv)(Bi||(Bi=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  letter-spacing: ","em;\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.fonts.weights[1]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.heights[0]}),(function(e){return e.theme.fonts.spacings[0]})),$i=i.ZP.span(ji||(ji=(0,P.Z)(["\n  ","\n"])),Ji),ea=i.ZP.span(Ui||(Ui=(0,P.Z)(["\n  ","\n  text-transform: capitalize;\n\n  ","\n"])),Ji,(function(e){var t=e.$secondary,n=e.theme;return t?(0,i.iv)(Zi||(Zi=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.white):(0,i.iv)(Ni||(Ni=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.black)})),ta=i.ZP.span(Vi||(Vi=(0,P.Z)(["\n  ","\n"])),Ji);function na(e){var t=e.left,n=e.secondary,r=(0,a.TH)().pathname,i=(0,a.UO)().serviceId,o=G(i||r);return(0,s.jsxs)(Qi,{$left:t,$secondary:n,children:[(0,s.jsx)($i,{children:"Home"}),(0,s.jsx)(ta,{children:"|"}),(0,s.jsx)(ea,{$secondary:n,children:o})]})}var ra,ia=n(2677);function aa(e){var t=e.subtitle,n=e.title;return(0,s.jsxs)(ia.im,{children:[(0,s.jsx)(ia.DK,{children:t}),(0,s.jsx)(ia.Dx,{children:n}),(0,s.jsx)(ia.SE,{children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quaeab illo inventore."})]})}var oa,sa,la,ua,ca,fa,ha,da,pa=i.ZP.div(ra||(ra=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  padding: ","px\n    ","px;\n  gap: ","px;\n\n  width: ","px;\n\n  border-radius: ","px;\n"])),(function(e){return e.theme.gaps[6]}),(function(e){return e.theme.sizes.card.padding[0]}),(function(e){return e.theme.gaps[6]}),(function(e){return e.theme.sizes.card.width[1]}),(function(e){return e.theme.borderRadius}));function ma(e){var t=e.title,n=e.icon,r=e.id;return(0,s.jsxs)(pa,{children:[n,(0,s.jsx)(Fr,{children:t}),(0,s.jsx)(Br,{children:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas. Quis autem vel eum iure"}),(0,s.jsxs)(Ur,{to:"".concat(o.Z_.SERVICES,"/").concat(r),children:["Read more",(0,s.jsx)(A.ol,{})]})]})}var va,ya,ga,_a,xa,ba,wa,ka,Ca=(0,i.iv)(oa||(oa=(0,P.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n\n  letter-spacing: ","em;\n  color: ",";\n"])),(function(e){return e.theme.fonts.families[1]}),(function(e){return e.theme.fonts.weights[2]}),(function(e){return e.theme.fonts.sizes[1]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.hover})),Ea=i.ZP.input(sa||(sa=(0,P.Z)(["\n  width: 100%;\n  height: 54px;\n  display: flex;\n  align-items: flex-start;\n  padding: 15px 15px 15px 25px;\n\n  border: 1px solid ",";\n  border-radius: 6px;\n  outline: none;\n\n  ","\n\n  &::placeholder {\n    ","\n  }\n\n  &:hover,\n  &:focus {\n    border: 1px solid ",";\n    color: ",";\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  ","\n\n  ","\n"])),(function(e){return e.theme.colors.grey}),Ca,Ca,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.colors.grey}),(function(e){return e.$maxHeight?(0,i.iv)(la||(la=(0,P.Z)(["\n          height: 140px;\n          &::placeholder {\n            transform: translateY(-45px);\n          }\n        "]))):(0,i.iv)(ua||(ua=(0,P.Z)([""])))}),(function(e){return e.$error?(0,i.iv)(ca||(ca=(0,P.Z)(["\n          border: 1px solid ",";\n          color: ",";\n        "])),(function(e){return e.theme.colors.error}),(function(e){return e.theme.colors.error})):(0,i.iv)(fa||(fa=(0,P.Z)([""])))})),Sa=i.ZP.fieldset(ha||(ha=(0,P.Z)(["\n  width: 100%;\n  height: fit-content;\n  border: none;\n"]))),Ta=i.ZP.span(da||(da=(0,P.Z)(["\n  font-size: small;\n  color: ",";\n"])),(function(e){return e.theme.colors.black}));function Aa(e){var t=e.fieldName,n=e.text,r=e.fieldType,i=e.fieldValue,a=e.hasError,o=e.onFieldChange;return(0,s.jsxs)(Sa,{children:[(0,s.jsx)(Ea,{type:r,name:t,id:t,onChange:function(e){o(t,e.currentTarget.value)},value:i,placeholder:n,$maxHeight:"textarea"===r,$error:a}),a&&(0,s.jsx)(Ta,{children:'Please fill in correct value for "'.concat(t,'".')})]})}var Ma,Ia,Pa,La=i.ZP.fieldset(va||(va=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 13px;\n\n  height: 59px;\n  border: none;\n  outline: none;\n"]))),za=i.ZP.label(ya||(ya=(0,P.Z)(["\n  font-size: ","px;\n  font-family: ",";\n  text-transform: capitalize;\n\n  ","\n"])),(function(e){return e.theme.fonts.sizes[0]}),(function(e){return e.theme.fonts.families[1]}),(function(e){var t=e.$error,n=e.theme;return t?(0,i.iv)(ga||(ga=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.error):(0,i.iv)(_a||(_a=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.grey)})),Oa=i.ZP.input(xa||(xa=(0,P.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: flex-start;\n  padding: 0 0 5.5px 0;\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n  background: transparent;\n\n  ","\n\n  &::placeholder {\n    ","\n  }\n\n  &:hover,\n  &:focus {\n    border-bottom: 1px solid ",";\n    color: ",";\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  ","\n"])),(function(e){return e.theme.colors.grey}),Ca,Ca,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.colors.grey}),(function(e){var t=e.$error,n=e.theme;return t?(0,i.iv)(ba||(ba=(0,P.Z)(["\n          border-bottom: 1px solid ",";\n          color: ",";\n        "])),n.colors.error,n.colors.error):(0,i.iv)(wa||(wa=(0,P.Z)([""])))}));i.ZP.span(ka||(ka=(0,P.Z)([""])));function Da(e){var t=e.fieldName,n=e.text,r=e.fieldType,i=e.fieldValue,a=e.hasError,o=e.onFieldChange;return(0,s.jsxs)(La,{children:[(0,s.jsx)(za,{$error:a,children:t}),(0,s.jsx)(Oa,{type:r,name:t,id:t,onChange:function(e){o(t,e.currentTarget.value)},value:i,placeholder:n,$error:a}),a&&(0,s.jsx)(Ta,{children:'Please fill in correct value for "'.concat(t,'".')})]})}var Ra,Fa,Ba,ja,Ua,Za,Na,Va,Ga,qa=i.ZP.form(Ma||(Ma=(0,P.Z)(["\n  flex: 1;\n  height: 352px;\n  display: flex;\n  gap: ","px;\n  flex-direction: column;\n  align-items: flex-end;\n  padding-top: ","px;\n"])),(function(e){return e.theme.gaps[6]}),(function(e){return e.theme.gaps[5]})),Wa=i.ZP.div(Ia||(Ia=(0,P.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  column-gap: ","px;\n"])),(function(e){return e.theme.gaps[6]})),Ha=(0,i.ZP)(I.O)(Pa||(Pa=(0,P.Z)(["\n  width: ","px;\n"])),(function(e){return e.theme.sizes.button.width[1]}));function Xa(e){var t=e.onSubmit,n=e.onFieldChange,r=e.values,i=e.errors;return(0,s.jsxs)(qa,{onSubmit:t,noValidate:!0,children:[(0,s.jsxs)(Wa,{children:[(0,s.jsx)(Aa,{text:"Your email",fieldType:"email",fieldName:"email",fieldValue:r.email,hasError:i.email,onFieldChange:n}),(0,s.jsx)(Aa,{text:"Your name",fieldType:"text",fieldName:"name",fieldValue:r.name,hasError:i.name,onFieldChange:n})]}),(0,s.jsx)(Aa,{text:"Theme",fieldType:"text",fieldName:"theme",fieldValue:r.theme,hasError:i.theme,onFieldChange:n}),(0,s.jsx)(Aa,{text:"Your message",fieldType:"textarea",fieldName:"message",fieldValue:r.message,hasError:i.message,onFieldChange:n}),(0,s.jsx)(Ha,{children:"Send"})]})}var Ya=i.ZP.div(Ra||(Ra=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: ","px;\n  gap: ","px;\n\n  width: 100%;\n  height: fit-content;\n\n  border: 1px solid ",";\n  border-radius: ","px;\n  cursor: pointer;\n"])),(function(e){return e.theme.sizes.card.padding[0]}),(function(e){return e.theme.gaps[5]}),(function(e){return e.theme.colors.grey}),(function(e){return e.theme.borderRadius})),Ka=i.ZP.div(Fa||(Fa=(0,P.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n"]))),Qa=(0,i.ZP)(Fr)(Ba||(Ba=(0,P.Z)(["\n  ","\n"])),(function(e){var t=e.$open,n=e.theme;return t?(0,i.iv)(ja||(ja=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.primary):(0,i.iv)(Ua||(Ua=(0,P.Z)(["\n          color: ",";\n        "])),n.colors.black)})),Ja=i.ZP.button(Za||(Za=(0,P.Z)(["\n  width: 24px;\n  height: 24px;\n  background: none;\n  border: none;\n\n  ","\n"])),(function(e){var t=e.$open,n=e.theme;return t?(0,i.iv)(Na||(Na=(0,P.Z)(["\n          svg {\n            fill: ",";\n          }\n        "])),n.colors.primary):(0,i.iv)(Va||(Va=(0,P.Z)(["\n          svg {\n            fill: ",";\n          }\n        "])),n.colors.black)})),$a=(0,i.ZP)(k.dk)(Ga||(Ga=(0,P.Z)([""])));function eo(e){var t=e.question,n=(0,r.useState)(!1),i=(0,w.Z)(n,2),a=i[0],o=i[1];return(0,s.jsxs)(Ya,{onClick:function(){o(!a)},children:[(0,s.jsxs)(Ka,{children:[(0,s.jsx)(Qa,{$open:a,children:t}),(0,s.jsx)(Ja,{$open:a,children:a?(0,s.jsx)(A.v3,{}):(0,s.jsx)(A.WF,{})})]}),a&&(0,s.jsx)($a,{children:"Phasellus tristique eu nisl eu consectetur. Morbi urna massa, imperdiet in mauris et, euismod vestibulum lacus. Integer enim elit, tincidunt aliquam ligula id, lacinia auctor orci. Sed quis lobortis eros."})]})}var to=n(7537);function no(e){var t=e.title,n=e.isVisibleButtons,r=e.handleLeftClick,i=e.handleRightClick;return(0,s.jsxs)(to.h4,{children:[(0,s.jsx)(to.ie,{children:t}),n&&(0,s.jsxs)(to.EK,{children:[(0,s.jsx)(to.zx,{onClick:r,children:(0,s.jsx)(A.Xd,{})}),(0,s.jsx)(to.zx,{onClick:i,children:(0,s.jsx)(A.ol,{})})]})]})}function ro(e){var t=e.src,n=e.name,r=e.position;return(0,s.jsxs)(Mr,{children:[(0,s.jsxs)(Pr,{children:[(0,s.jsx)(Ir,{src:t,alt:"avatar"}),(0,s.jsxs)(Or,{children:[(0,s.jsx)(Lr,{children:n}),(0,s.jsx)(zr,{children:r})]})]}),(0,s.jsx)(Dr,{children:o.WL})]})}var io,ao=n.p+"static/media/background.c7d3ed11554471727d81.mp4",oo=i.ZP.video(io||(io=(0,P.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  min-width: 100%;\n  position: fixed;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: -999;\n"])));function so(){var e=(0,we.v9)((function(e){return e.player})).isPlay;return(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsx)(oo,{src:ao,loop:!0,muted:!0,autoPlay:!0,preload:"none"})})}var lo,uo,co,fo,ho,po,mo=n(6112),vo=n.n(mo),yo=i.ZP.div(lo||(lo=(0,P.Z)(["\n  width: 100%;\n  height: 460px;\n\n  .mapboxgl-control-container {\n    display: none;\n  }\n"])));function go(){var e=(0,r.useState)(),t=(0,w.Z)(e,2)[1],n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=n.current;if("undefined"!==typeof window&&null!==e){var r=new(vo().Map)({container:e,accessToken:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q",style:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",center:[uo.longitude,uo.latitude],zoom:12.9,attributionControl:!1});return t(r),console.log(r),function(){r.remove()}}}),[]),(0,s.jsx)(yo,{ref:n})}function _o(e){var t=e.src,n=e.name,r=e.position;return(0,s.jsxs)(Mr,{$isBig:!0,children:[(0,s.jsx)(Ir,{src:t,alt:"avatar"}),(0,s.jsx)(Dr,{children:o.I1}),(0,s.jsxs)(Or,{children:[(0,s.jsx)(Lr,{children:n}),(0,s.jsx)(zr,{children:r})]})]})}!function(e){e[e.longitude=-90.21453934495386]="longitude",e[e.latitude=32.29406617689779]="latitude"}(uo||(uo={}));var xo=i.ZP.form(co||(co=(0,P.Z)(["\n  flex: 1;\n  height: 593px;\n  margin-left: 95px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  row-gap: 34px;\n\n  padding: 67px 50px 31px;\n\n  background: ",";\n\n  box-shadow: ",";\n  border-radius: ","px;\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.shadows.form}),(function(e){return e.theme.borderRadius})),bo=i.ZP.div(fo||(fo=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: ","px;\n  width: 100%;\n  align-items: stretch;\n"])),(function(e){return e.theme.gaps[6]})),wo=(0,i.ZP)(k.bi)(ho||(ho=(0,P.Z)(["\n  text-align: left;\n  width: 100%;\n  align-items: flex-start;\n  font-size: 30px;\n"]))),ko=(0,i.ZP)(Ha)(po||(po=(0,P.Z)(["\n  height: ","px;\n  align-self: flex-end;\n  margin-top: auto;\n"])),(function(e){return e.theme.sizes.button.height[0]}));function Co(e){var t=e.onSubmit,n=e.onFieldChange,r=e.values,i=e.errors;return(0,s.jsxs)(xo,{onSubmit:t,noValidate:!0,children:[(0,s.jsx)(wo,{children:"Contact Us"}),(0,s.jsxs)(bo,{children:[(0,s.jsx)(Da,{text:"Your name",fieldType:"text",fieldName:"name",fieldValue:r.name,hasError:i.name,onFieldChange:n}),(0,s.jsx)(Da,{text:"Your email",fieldType:"email",fieldName:"email",fieldValue:r.email,hasError:i.email,onFieldChange:n}),(0,s.jsx)(Da,{text:"Theme",fieldType:"text",fieldName:"theme",fieldValue:r.theme,hasError:i.theme,onFieldChange:n}),(0,s.jsx)(Da,{text:"Your message",fieldType:"textarea",fieldName:"message",fieldValue:r.message,hasError:i.message,onFieldChange:n})]}),(0,s.jsx)(ko,{children:"Send"})]})}},8187:function(e,t,n){"use strict";var r;n.d(t,{Z_:function(){return r},jZ:function(){return M},bn:function(){return E},ZF:function(){return T},AI:function(){return k},WL:function(){return x},I1:function(){return w},GD:function(){return I},Hj:function(){return S},Xl:function(){return O},rl:function(){return L},yq:function(){return z},uZ:function(){return P},hd:function(){return C},cz:function(){return A}}),function(e){e.HOME="/themeforest",e.SOLUTIONS="/solutions",e.ELEMENTS="/elements",e.BLOG="/blog",e.CONTACTS="/contacts",e.ABOUT_US="/about",e.TEAM="/team",e.FAQ="/faq",e.SERVICES="/services",e.SERVICE=":serviceId",e.MAP="/map",e.PRICING="/pricing"}(r||(r={}));var i=n(6829),a=n.p+"static/media/001_img_blog.5bb8800de02370f2dd7b.webp",o=n.p+"static/media/002_img_blog.460f239863accd687971.webp",s=n.p+"static/media/003_img_blog.9aaf1ba7167d1e5567e3.webp",l=n.p+"static/media/img_10.76587dff8285ea18ae8f.webp",u=n.p+"static/media/img_11.9a2454d5682b20591d15.webp",c=n.p+"static/media/1_member_card.ae6ed7ef14294085f5a8.webp",f=n.p+"static/media/2_member_card.454b71c0697f66c95d6a.webp",h=n.p+"static/media/3_member_card.72b8f62e249ced1e0de1.webp",d=n.p+"static/media/4_member_card.a1691ae74eb7dddbdf6d.webp",p=n.p+"static/media/5_member_card.b9e20a848871465d6eba.webp",m=n.p+"static/media/6_member_card.c247c76559fcfab64a37.webp",v=n.p+"static/media/7_member_card.ec7110727946afd4dc5f.webp",y=n.p+"static/media/8_member_card.54d64f0c06dccfc2b509.webp",g=n.p+"static/media/9_member_card.f9f6302d0659f7f94c62.webp",_=n(2559),x="Sed ut perspiciatis unde omnis iste natus error sit voluptat em accusantium doloremque laudantium, totam rem aperiam, eaque ipsaquae ab illo inventore veritatis et\xa0quasi architecto beatae vitaedicta sunt explicabo.",b=x.slice(0,112),w="\u201cUt enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum.\u201d",k=[{id:1,title:"Who we are",description:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Donec tincidunt tempor quam, non mollis quam finibus nec. Quisque finibus consequat felis vel pretium. Aliquam gravida nisi vel convallis ultricies. Integer ante sapien, consequat et dolor vel, cursus lacinia lectus.",src:l,reverse:!1},{id:2,title:"Our mission",description:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Donec tincidunt tempor quam, non mollis quam finibus nec. Quisque finibus consequat felis vel pretium.",src:u,reverse:!0}],C=[{id:1,number:"1830+",description:"Project executed"},{id:2,number:"834+",description:"Satisfied customers"},{id:3,number:"390",description:"Data management"},{id:4,number:"220",description:"Data analytics"}],E=[{title:"Machine learning",description:b,icon:(0,_.jsx)(i.am,{})},{title:"Access control",description:b,icon:(0,_.jsx)(i.sr,{})},{title:"Embed analytics",description:b,icon:(0,_.jsx)(i.Ao,{})},{title:"Data analytics",description:b,icon:(0,_.jsx)(i.lB,{})}],S=[{name:"Free trial",price:"$00",services:["For small teams \u2013 5 users","Community support"]},{name:"Lite",price:"$99",services:["For small teams \u2013 15 users","Individual support","Individual data \u2013 60GB"]},{name:"Basic",price:"$00",services:["For big teams \u2013 30 users","Individual support","Individual data \u2013 120GB","Advanced permissions"]},{name:"For enterprises",price:"Custom",services:["Unlimited team members","Individual support","Unlimited Individual data","Advanced permissions","Data history","Audit log","All functions included"]}],T=[{src:a,name:"ISO 13485 compliance of\xa0medical devices"},{src:o,name:"Business analysis helps you  in\xa0finance"},{src:s,name:"5 web portal examples your business can learn from"}],A=[{id:0,name:"Sargis Grigor",src:c,position:"Data analyst"},{id:1,name:"Bagrat Leo",src:f,position:"Data engineer"},{id:2,name:"Gor Sargis",src:h,position:"Data analyst"},{id:3,name:"Maral Mari",src:d,position:"Data analyst"},{id:4,name:"Eva Vosgi",src:p,position:"Data scientist"},{id:5,name:"Eduard Vosgi",src:m,position:"Data scientist"},{id:6,name:"Kohar Marine",src:v,position:"Data scientist"},{id:7,name:"Hakob Jirair",src:y,position:"Data engineer"},{id:8,name:"Ararat Ohannes",src:g,position:"Data analyst"}],M=[r.HOME,r.ABOUT_US,r.SERVICES,r.SOLUTIONS],I=[r.CONTACTS,r.TEAM,r.BLOG,r.FAQ],P=[r.ELEMENTS,r.MAP,r.PRICING,r.FAQ],L=[r.HOME,r.SOLUTIONS,r.BLOG,r.CONTACTS,r.TEAM,r.ABOUT_US,r.SERVICES,r.FAQ],z=[{title:"Machine learning",icon:(0,_.jsx)(i.mA,{})},{title:"Embed analytics",icon:(0,_.jsx)(i.Fh,{})},{title:"Access control",icon:(0,_.jsx)(i.Ru,{})},{title:"Data analytics",icon:(0,_.jsx)(i.RL,{})},{title:"Big data consulting",icon:(0,_.jsx)(i.aC,{})},{title:"Artificial intelligence",icon:(0,_.jsx)(i.PL,{})}],O=["What are data analytics?","What is data mining?","What is business intelligence?","What is exploratory data analysis (EDA)?","What is confirmatory data analysis (CDA)?","What are predictive analytics?","What is data visualisation"]},8398:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(390);function i(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current&&window.location.href.includes(e)&&t.current.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}),[e]),t}},6829:function(e,t,n){"use strict";n.d(t,{lB:function(){return Vn},Xd:function(){return $},ol:function(){return V},mR:function(){return oe},Fh:function(){return Yn},mA:function(){return Wt},RL:function(){return wr},PL:function(){return Ar},Ru:function(){return Tn},aC:function(){return fn},am:function(){return jt},YC:function(){return P},Ig:function(){return Or},MC:function(){return sr},K3:function(){return de},s1:function(){return ge},sr:function(){return bn},yh:function(){return Te},Ye:function(){return Ur},Ti:function(){return tt},ly:function(){return lt},at:function(){return mt},H0:function(){return wt},if:function(){return At},c8:function(){return h},y3:function(){return g},Mh:function(){return Wr},WF:function(){return ri},sh:function(){return F},v3:function(){return Jr},Th:function(){return C},tL:function(){return Oe},Ao:function(){return an},jP:function(){return Xe},_F:function(){return Ze},aJ:function(){return G}});var r,i,a=n(390),o=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){var n=e.title,u=e.titleId,c=l(e,o);return a.createElement("svg",s({width:141,height:46,viewBox:"0 0 141 46",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",id:"logo",ref:t,"aria-labelledby":u},c),n?a.createElement("title",{id:u},n):null,r||(r=a.createElement("rect",{width:141,height:46,fill:"url(#pattern1)"})),i||(i=a.createElement("defs",null,a.createElement("pattern",{id:"pattern1",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_72_4532",transform:"translate(0 -0.000652174) scale(0.00666667 0.0204348)"})),a.createElement("image",{id:"image0_72_4532",width:150,height:49,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAxCAYAAAA4GFC0AAAJPklEQVR4nO2cDZBWVRnH/wurKBKgCJjrAsuqq2R8GaOiQlppYCnlSDJRTd9WIjNqzhgaqyDYWAal00gBOk34MWqJjEQoH9kulQaaBpKK+EFgoEkh6WrQnLn/M573PM+59+67r8t7d85v5p37vs+559275/7PeZ7znHPfmqOm7kcFGQxgCoCzAZwIoDeAPQA2A1gD4E4Az1byD0aqk0oKqxnADAC1oqSUHwL4rrBGuhSVEFYNgEcAnCVKwjwOYByA/wbPiBSabhW4+JZ2isrwEQCPAThUlES6BB0V1joApwlrgompfs3RTONDFFdPpSxScDoirFYApworsArASRzFPgvg4wCOBbBUnJmI608ADhElkUJTrrBaAiPVMgAfA/A3z/48gAsALBE1EhGakauHKIkUlnKE9SiAscIKPATg08JayudTxPVnAAeLkkghaa+wfg/gDGFNRHWesOqExDU8usWuQ3uEZUR1prACv22HqCxGXHcLKzCSE4LoFgtOXmGliWqCsObjYgD3KGeOjG6x+OQR1uqAqH7XAVFZPhcQl3WLWVn8SJWSJSyTi/qosCaiOldYyyMkrpEU10GiJFL1pI0IZqQaL6zAwzlENRRAI4AjAbwLYBuAZwC8Ls5MMOLqDuBCzz6aMdcpAP4nakWqltBa4arAMs1KAOcIa4IR0XcAfAbACFGa7HIwqYpfcpeDxr2KuAx/ieIqFpqwVjJb7vNIwG64FMBsAH1Eic46inCDUnofM/Y+RlxjAIgLjlQffowVEtWqgN1wO4CftkNUYNZ+PWeGPmbEul9YgZMpyO6iJFJ1uMIKiWoNl2k07gLwJcVu2ScspdzJpR5NXL8R1sQdtigdIlJl2Bu0IiCqtYFYy3A5g26fFwBcA+B07igdyqWen4szE4yA6oQ1idW0hWsrrkgVY2KshQC+olzi2kCqwTAAwKvCCtwKYHpKkD2MGfeT2vG3HgBwvrCWn/LoC+ADwprwL04yQtSxM77slR8OoBeAfwPYHajrcyLr7QLwd1GazQhuOTIdeUfOOocBOILvtwU8Sj2Pe9geIUwCe2CgrK1bGaIyXCcswI8ZxIdEZdjIWGmLZx8fmEmCrvIBYU1mp2luOIQZTV8E8JLyujxQB8ynPca6P/DKbqD9KlFLYv7XJ9kWLXwewByPE2fqfJLPDTzBrUvbASxUz5RM5nWa1y2iFPiaUz5blJZycko7bq7lm0FOlUczRGXW8b7s2Z7NuCkubeytr7MHWb4N4Jvi7IRJAB4E8CnPPo/pC63nhejJ7dSv8obWOOc9Hqhj6cPzjYBuczqI/c6sHbH1jFnBEdcsXU3kbhGT5+sH4A1R6z1MXm85P5nwZSuAr3NwOCrHmm0P5//9Kmfm7iz7Mqc8awNmd+fcpcxX2s9banmzzG6DBt68KeIrShmrLBJ/T5yVMJwuwk8RvMYeO8axZbk1E6f9FcCHHVtfNuaD4uwwdp/9opTrDrHbafB7uMXa8JZ3DGFd+hPO/3st96sNZfy4IlDXsIBHM9pM4/tmjnoTGQ+vFrXeo815fzDb1MaxQ7y2zfpfrGfarU3AjCt8il9Yn0NUUFzWW9zg51LLC36So0Kr9zINMcqrMzjFZ1suERZ90pGHXmXUsamO/XQFk/k5bQXDZRPfN3iji1ml6J8xKRnAvwnPFe9wdopMFbV0Wmm90im1YYUdUfPOvGuExaucFqi5DPA+b1HUPSXHpj/tZtQLSymtSqA6RJyVD+NC/um87spRy+64sI+v3cHjC+JMHZMP/AVd6jK6v2aGBLsyJg4NPO5Tlsae4/FoUUtnBffQnench2lsWzuC5Q0vzERop9eWgyqRD9IuoNwk5i5hkfizrnL3btXyhtpXng2G1qXPZzxyCEfR7eLMMEbQFwH4I4AmADPZqScHayTYxfh9Spvbz3nb/U1n1LOeox9t9oHivCscNQwP3LbsVo6w/JvfoOxAWMLgtD3MZjCaRq3SK9OC3TQWeI0xKeVcnzquNrwN4GdMseTB3vh7ufownPm9g+jOBqV8hx2pa5VJQm8e86Y6mrjHDrz2q/l+gZOOyMt/vHY0r62aO8riKa/cfNEnOLRa2hicjqKaffXv58sK+zXGXVlMU3JQT2fUCZHX9Ws0cKptZmO/okDysIjphh9RmKYtv8GHd5sYfN8R+J7n6AKPYMrBXci3k4KHRS2dobSu5G5eMK+1lzP29qCml8oRVgunlm7d2Z6wLNoic7mY5OqNSl0tx5WGDTbHKInXp5Ucm4vtCLYxlzDNYoNqNZB1MJOZLwL4CdMdmzlxauQpm0SNUq5ijLaY7uxlpmhGMDm7WNQoxV6fjRVv4qAArvnCWfPN+l8sh3IJ7h3HtqccYe1lL3WTk6OYeMxKqllMwHoMe3CrKJUMY3LS3668ThlBs+jP8nOULUA3A7giUL/GaXQ3HrvYiUuOFLXk9w9mfObv+Z/HvFYaCynE6V6H2sHdvG0pdeG4zA/yuNIps6Lsx6M/SfOx7rgHXXsJ2raZPNQzsepzPYPREEdzCB/nlI/OGNnsQ62HiZJk2H5GWNM5la6rRgl2/8BcmYYZrb7AhlzqzU7PpWA2sANkMZKiruMsanXODmY5hULqw451N0ewLJroiv/hpIgmsbPZtdyxXHLbyPYIMdDJX/kD1Bsd+VEQs6zzfWFNstcLOLV+hYHpMLqd6Ur+6EYnePQZxl6siepSrk1GqpCO/trMcgaSIXZSWH0D5WDAukZYgRMoUk1UJmM+V1gjVUNH81gTMoLn/hmiuiQgqia6lCiqglKJBOkkxlXqtDPAJv7q321KcRPdn7bkMiOKqhhUaifm9fxFmfkZSU4zi/sWYydtsfR4jlS9RUkSz80R1khVUunfILWMpkgGMOf1En+BJm1N7Vg+MKGJaibFGykI79eTxuv5yksjz9d2dpqRapawRqqaangooZGzP01UM6OoismBFlYjA3Vt5nhddH/F5UD+6EYjA/XDRUkiqGZhjRSGAyWsIXR/2kg1K2NZKFIADoQrbOBIFRKVtkwUKRidPWINpqj6iZIoqi5FZ45YdcxTaaKaG0XVtegsYfXkBkFNVHPKeAwrUuV0lrBOoxv0mcv1v0gXo7OE9bywJPuw4kjVReksYW3lpv1XuEerOWVzX6ToAPg/g7/UkX5m5egAAAAASUVORK5CYII="}))))}var c,f,h=a.forwardRef(u),d=(n.p,["title","titleId"]);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=e.title,r=e.titleId,i=m(e,d);return a.createElement("svg",p({width:141,height:46,viewBox:"0 0 141 46",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",id:"logo",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,c||(c=a.createElement("rect",{width:141,height:46,fill:"url(#pattern0)"})),f||(f=a.createElement("defs",null,a.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_144_5458",transform:"translate(0 -0.000652174) scale(0.00666667 0.0204348)"})),a.createElement("image",{id:"image0_144_5458",width:150,height:49,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAxCAYAAAA4GFC0AAAJE0lEQVR4nO2cC7CVVRXH/xcRHxCgJjUS8rjoTfIBlA/IR1iG1mj0Hno5OVnMkL2mmikbRSHJCSpjFBRNzBGlkQorkyC4WdxScUygQNFES6W0QEVTyruaPd9/D5u91ve4554u55zZv5k13z3r8X3nfmed/Vh7f6dNRFBHRgKYDuBMAMcAGAxgF4CHAHQCuBXA1npeMNGY1DOxZgG4GEB/ZdmbeQC+orSJlqIeidUG4NcApihLPusBnA7g37keiaamHonVBWCS0pbzJwAnpuRqTXqbWL8HcIrSZrgx1Q6Os96urBkuuU4C8JKyJJqafr148105SbUGwLHsGt8H4B0AxgK4Q3kCbwJwD4ADlSXR1NTaYq0DMFlpgZ8DOFdp93ALgI8oLbAJwFsAvKIsiaaklhbrtzlJdWdJUjk+CmCp0mYt3L0ABihLoinpaWLdDeBUpc2S6t1Ka5OXXMenbrF16ElX6JLqNKUF7gJwjtKWcxuADxtef+TYLXWLTUzVxKp3UnmWAfiQ0gIbWIrYrSyJpqBKV7g2J6l+1cukAlusHyntnm6xrIqfaFDKEsvVot6mtFlSTVXa2shLrvFMrv2VJdHwFHWFa3OSajWAs5R2b8YAaAfwWgD/BfAkgC0A/qU893A7gPcrLXA/gJMBvKosiYYlL7HW5Kz9rQLwTqXNcEk0E8B7AZygrNkuB1equJm7HCxScrUKLrEiWSU2qw1fL58VkZ1mlE2XiEwwzuNkuRkhsl5E2gz/JA0ocYu1ikswMWsK1vuWADhfaasxnWWHmOVcDopxY663ppar8QkTKy+pOnO6RRTUojzdFSYI0wCsUFrgJ7TF3MPKf7eyJBoGn1grc8ZOv8kZwDu+BGC+0gKPAbiBg/8nOKtzi83nAbhQeWe8gQP8mBWMi/lDjVt1En2ESyyXBBcYlytKqmEA/q60wNUAPl/QVY1jUfTYHlwrL7lqLXkMBfAapc3YwUlGHsPZAv81sh8CYBCA5wE8lxMbcwzjngXwsLKW4yZIB/OLvL1izEAAh/LvJ3Na/RE87uL9yMOt674ux7Ybaoic0VkyIFyoIkS+Y/hZMkBEHlXRIicYvl5+qrwzzjd8y2SeiHSrM2VcUhC7v4g8xdgrI9s11H/TiIvlDBF5MLruOhE5yvC15GwR2RrF32D4WfJJvs9uvufY51OB/WrDHsqkgvu40zk8HinvNk4SygEi8nIU87DhVyQuuXZF57i2wN/Jz9TbF9khIv0M3yK5hrHbOQP9cSDvKohzifVicO0xgW0JdWVfrhFB/EoRmS0i9/P1qyIy1IgJZWIQf5eILGKc4xeGfywzgvhXjFn2hsB+oxEfyqmB74roXs5zDseJyEZ+0LcaJ4hlivp4RT5g+Dk5XkQmM7tDOVpE7o3Osc2Ij2WDurLIuYZfkcxn3BUFPpb4FsuzPvBZVPGcM+n3QKT3LfhUIyaU9fRbEOheLyLPUT/FiAnlgujenRfYRkW2hUZ83GIJy0zK7sYLGwEcx751uuotNXHx82Vu8Avpzx2jD3JTYFck7nGwCVHMyII+2zNDaeyZbBUG1RCzH49uxvPmYAG96prmZh5HR9uM3CrF4bxXeQzjNR1XBj7bOW51fCwnNqaLr78c6H3JqJPHqluq2pQmCi4aqIUMi17/hckVMr3Cpj/rwxihNHvTZQxURymvargZ6j8CseppMX4jon987SYeH1OeNq4eeD2AIfwybuFjcwM5iC+aOIzmsdtYGnuExyNUlM1K7qE7LfgcLuK99VvIrYG9hZsIPRPdyyN7s+fdY72B/ZSmGs9W8IpnXQcoj2r05wfqpcoGQ1/0uwrA5xjjWtGnlWc+LqE/yJJJB4BL+aW2tg+F+MX4buOe+9dV7/uLQavne47DqPMPFJtrfQZtnJ2G97JfLYkVf/ijjR0IS1kO6AlzAGwr8e9vfCt3Kq9qXBfdDKsYm4crOyzgZsSFLLFUwX/wt7MO57YHLeb9c93ZkQXn8C21uwcHRbbBPFYtdXRwjx343r/Gv68LyhFVeSG6j062Wd1RGRsj+0Dudrgz0O1mjWkCsznOfqH4xP4nx11lXGTUoDaVxORRteu3cF+mx1n/u4UJUoUfADiDheUFvJef5sO7HVzhuCnnPI+wC3Qf/NnRQr6v861WUTZjqF3FreJgXesl1td6glmzrCWx1nErTBg7J0oszwNKUzuuuPotI9paDirCDzZPNAqvmzhmzMN/EfzNXMoVCD+oNgeyAW4y8wkA32eB+SFOnNrpsllF7M1XOUa7kd2ZK9R+hhOq56kvwr8/P1b8drAFagmPQyr+L56DuCPlP4Ful5omVpQlovlGD+Jnicj1LEVY9ljGRTUkT5fhWyY3q7PsYX5B7IDA76xAPzbQLzbiYrlKXTXju4avJd9TkSJPi8h4wzeWL9J/a6D3tPP1Mr5ebsSHcqZ6FwF5+7HKGMF1wJjLORjN4wg24acH9oklLZt/qHWgsmTN9halLeYUdl1txmD3d9xvb+Faq49zsnBHNDudynKJ+z/uM2JjxnNtdjhnUWuDEkAVTua28CHsTpexBSujg13xU0GJaBpLHYv5ejKX3P7M+5GHKw29h7a459tpZWJVuUylacZ9InIhvwGuSj9IRE4SkTki8oLyFplbcL1xRoXeM9PwT9Ig0tvfbvglB5J5PMMZz9AcOzhg7VRa4I38VRqrpfo6gLlKm2gYelvHOqdk8Hx4SVLNyEmqDnYpKamalHoUSKdxXGVOO3PYzF/9u9Ywd/Bxe2vJ5eKUVM1BPX/Rzy2tfIEDurxlFvezRz8EsEhZMo5m92ftl7oEwGylTTQk9f4NUs9EJskw1rye4G9hFa2pjeXTOIOVJWsRL1faRMPy/0qsntLOqXpqqVqEeoyxekt7Qfd3aUqq5mRfJ1Y7B+rWzPGy1P01L/vyRzfaWVI4RFmyhJqltImmYV+NsUZxTGW1VLM5rko0MfuiKxzNliolVQvT113hSCbVYcqSkqql6MuucDj3I1lJNZdLNYkWoa8S62BuwxipLMAVXKpJtBB9NcaalJNUc1NStSZ9lViPKk22zTh1fy1KXyXWNm7a/xv3aM0KngxJtBoA/gekqQW7eE203wAAAABJRU5ErkJggg=="}))))}var y,g=a.forwardRef(v),_=(n.p,["title","titleId"]);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e,t){var n=e.title,r=e.titleId,i=b(e,_);return a.createElement("svg",x({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"small_chevron",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,y||(y=a.createElement("path",{d:"M4.00012 7.17512C4.08383 7.08482 4.18451 7.01191 4.2964 6.96053C4.4083 6.90915 4.52922 6.88031 4.65226 6.87567C4.7753 6.87102 4.89805 6.89066 5.0135 6.93346C5.12895 6.97627 5.23484 7.04139 5.32512 7.12512L10.0001 11.5339L14.6751 7.12512C14.7654 7.0414 14.8713 6.97628 14.9867 6.93349C15.1022 6.89069 15.2249 6.87106 15.348 6.8757C15.471 6.88034 15.5919 6.90918 15.7038 6.96055C15.8157 7.01192 15.9164 7.08483 16.0001 7.17512C16.0838 7.2654 16.149 7.37129 16.1917 7.48674C16.2345 7.60219 16.2542 7.72494 16.2495 7.84797C16.2449 7.97101 16.2161 8.09193 16.1647 8.20382C16.1133 8.31572 16.0404 8.4164 15.9501 8.50012L10.6376 13.5001C10.4643 13.6609 10.2366 13.7502 10.0001 13.7502C9.76368 13.7502 9.53598 13.6609 9.36262 13.5001L4.05012 8.50012C3.95982 8.41641 3.88691 8.31573 3.83553 8.20383C3.78414 8.09194 3.75531 7.97102 3.75067 7.84797C3.74602 7.72493 3.76566 7.60218 3.80846 7.48673C3.85127 7.37128 3.91639 7.2654 4.00012 7.17512Z"})))}var k,C=a.forwardRef(w),E=(n.p,["title","titleId"]);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A(e,t){var n=e.title,r=e.titleId,i=T(e,E);return a.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,k||(k=a.createElement("path",{d:"M3.00085 17H21.0008C21.2557 17.0003 21.5009 17.0979 21.6862 17.2728C21.8715 17.4478 21.9831 17.687 21.998 17.9414C22.013 18.1958 21.9302 18.4464 21.7666 18.6418C21.603 18.8373 21.3709 18.9629 21.1178 18.993L21.0008 19H3.00085C2.74597 18.9997 2.50081 18.9021 2.31548 18.7272C2.13014 18.5522 2.01861 18.313 2.00367 18.0586C1.98874 17.8042 2.07152 17.5536 2.23511 17.3582C2.3987 17.1627 2.63075 17.0371 2.88385 17.007L3.00085 17H21.0008H3.00085ZM3.00085 11L21.0008 10.998C21.2557 10.9983 21.5009 11.0959 21.6862 11.2708C21.8715 11.4458 21.9831 11.685 21.998 11.9394C22.013 12.1938 21.9302 12.4444 21.7666 12.6398C21.603 12.8353 21.3709 12.9609 21.1178 12.991L21.0008 12.998L3.00085 13C2.74597 12.9997 2.50081 12.9021 2.31548 12.7272C2.13014 12.5522 2.01861 12.313 2.00367 12.0586C1.98874 11.8042 2.07152 11.5536 2.23511 11.3582C2.3987 11.1627 2.63075 11.0371 2.88385 11.007L3.00085 11L21.0008 10.998L3.00085 11ZM3.00085 5H21.0008C21.2557 5.00028 21.5009 5.09788 21.6862 5.27285C21.8715 5.44782 21.9831 5.68695 21.998 5.94139C22.013 6.19584 21.9302 6.44638 21.7666 6.64183C21.603 6.83729 21.3709 6.9629 21.1178 6.993L21.0008 7H3.00085C2.74597 6.99972 2.50081 6.90212 2.31548 6.72715C2.13014 6.55218 2.01861 6.31305 2.00367 6.05861C1.98874 5.80416 2.07152 5.55362 2.23511 5.35817C2.3987 5.16271 2.63075 5.0371 2.88385 5.007L3.00085 5H21.0008H3.00085Z"})))}var M,I,P=a.forwardRef(A),L=(n.p,["title","titleId"]);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D(e,t){var n=e.title,r=e.titleId,i=O(e,L);return a.createElement("svg",z({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"play",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,M||(M=a.createElement("g",{clipPath:"url(#clip0_147_5917)"},a.createElement("path",{d:"M8.90625 6.48C8.76369 6.39769 8.60197 6.35437 8.43735 6.3544C8.27273 6.35442 8.11103 6.3978 7.96849 6.48015C7.82595 6.5625 7.70762 6.68094 7.62538 6.82354C7.54314 6.96614 7.49989 7.12788 7.5 7.2925V12.7087C7.49989 12.8734 7.54314 13.0351 7.62538 13.1777C7.70762 13.3203 7.82595 13.4387 7.96849 13.5211C8.11103 13.6035 8.27273 13.6468 8.43735 13.6469C8.60197 13.6469 8.76369 13.6036 8.90625 13.5213L14.0625 10.5412C14.1575 10.4864 14.2364 10.4075 14.2912 10.3125C14.3461 10.2175 14.375 10.1097 14.375 10C14.375 9.8903 14.3461 9.78252 14.2912 9.68751C14.2364 9.59251 14.1575 9.51361 14.0625 9.45875L8.90625 6.48ZM0 10C0 7.34784 1.05357 4.8043 2.92893 2.92893C4.8043 1.05357 7.34784 0 10 0C12.6522 0 15.1957 1.05357 17.0711 2.92893C18.9464 4.8043 20 7.34784 20 10C20 12.6522 18.9464 15.1957 17.0711 17.0711C15.1957 18.9464 12.6522 20 10 20C7.34784 20 4.8043 18.9464 2.92893 17.0711C1.05357 15.1957 0 12.6522 0 10ZM10 1.25C8.85093 1.25 7.71312 1.47633 6.65152 1.91605C5.58992 2.35578 4.62533 3.0003 3.81282 3.81282C3.0003 4.62533 2.35578 5.58992 1.91605 6.65152C1.47633 7.71312 1.25 8.85093 1.25 10C1.25 11.1491 1.47633 12.2869 1.91605 13.3485C2.35578 14.4101 3.0003 15.3747 3.81282 16.1872C4.62533 16.9997 5.58992 17.6442 6.65152 18.0839C7.71312 18.5237 8.85093 18.75 10 18.75C12.3206 18.75 14.5462 17.8281 16.1872 16.1872C17.8281 14.5462 18.75 12.3206 18.75 10C18.75 7.67936 17.8281 5.45376 16.1872 3.81282C14.5462 2.17187 12.3206 1.25 10 1.25Z"}))),I||(I=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_147_5917"},a.createElement("rect",{width:20,height:20})))))}var R,F=a.forwardRef(D),B=(n.p,["title","titleId"]);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z(e,t){var n=e.title,r=e.titleId,i=U(e,B);return a.createElement("svg",j({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,R||(R=a.createElement("path",{d:"M17 10.2501C17.0002 10.1373 16.9754 10.0259 16.9273 9.92389C16.8792 9.82186 16.8091 9.73178 16.722 9.66014L13.776 6.72014C13.6354 6.57969 13.4448 6.5008 13.246 6.5008C13.0472 6.5008 12.8566 6.57969 12.716 6.72014C12.6465 6.7896 12.5914 6.87207 12.5538 6.96283C12.5162 7.0536 12.4968 7.15089 12.4968 7.24914C12.4968 7.34738 12.5162 7.44467 12.5538 7.53544C12.5914 7.62621 12.6465 7.70867 12.716 7.77814L14.434 9.50014L3.75 9.50014C3.55109 9.50014 3.36032 9.57915 3.21967 9.71981C3.07902 9.86046 3 10.0512 3 10.2501C3 10.449 3.07902 10.6398 3.21967 10.7805C3.36032 10.9211 3.55109 11.0001 3.75 11.0001L14.444 11.0001L12.711 12.7221C12.6414 12.7916 12.5861 12.8741 12.5484 12.965C12.5107 13.0559 12.4913 13.1533 12.4913 13.2516C12.4913 13.35 12.5107 13.4474 12.5484 13.5383C12.5861 13.6291 12.6414 13.7117 12.711 13.7811C12.7807 13.8508 12.8634 13.9061 12.9544 13.9438C13.0454 13.9816 13.143 14.001 13.2415 14.001C13.34 14.001 13.4376 13.9816 13.5286 13.9438C13.6196 13.9061 13.7023 13.8508 13.772 13.7811L16.78 10.7771C16.8502 10.7086 16.9059 10.6266 16.9437 10.536C16.9815 10.4455 17.0006 10.3483 17 10.2501Z",fill:"#185CFF"})))}var N,V=a.forwardRef(Z),G=n.p+"static/media/icon_arrow_right.dc0b6dda9099a47324eb86aceecfbe3a.svg",q=["title","titleId"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X(e,t){var n=e.title,r=e.titleId,i=H(e,q);return a.createElement("svg",W({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,N||(N=a.createElement("path",{d:"M3 10.2501C2.99979 10.1373 3.02461 10.0259 3.07269 9.92389C3.12076 9.82186 3.19089 9.73178 3.278 9.66014L6.224 6.72014C6.36463 6.57969 6.55525 6.5008 6.754 6.5008C6.95275 6.5008 7.14338 6.57969 7.284 6.72014C7.35348 6.7896 7.4086 6.87207 7.44621 6.96283C7.48381 7.0536 7.50317 7.15089 7.50317 7.24914C7.50317 7.34738 7.48381 7.44467 7.44621 7.53544C7.4086 7.62621 7.35348 7.70867 7.284 7.77814L5.566 9.50014L16.25 9.50014C16.4489 9.50014 16.6397 9.57915 16.7803 9.71981C16.921 9.86046 17 10.0512 17 10.2501C17 10.449 16.921 10.6398 16.7803 10.7805C16.6397 10.9211 16.4489 11.0001 16.25 11.0001L5.556 11.0001L7.289 12.7221C7.35863 12.7916 7.41388 12.8741 7.45157 12.965C7.48927 13.0559 7.50867 13.1533 7.50867 13.2516C7.50867 13.35 7.48927 13.4474 7.45157 13.5383C7.41388 13.6291 7.35863 13.7117 7.289 13.7811C7.21935 13.8508 7.13665 13.9061 7.04562 13.9438C6.9546 13.9816 6.85703 14.001 6.7585 14.001C6.65997 14.001 6.5624 13.9816 6.47138 13.9438C6.38035 13.9061 6.29765 13.8508 6.228 13.7811L3.22 10.7771C3.14979 10.7086 3.09413 10.6266 3.05633 10.536C3.01853 10.4455 2.99937 10.3483 3 10.2501Z"})))}var Y,K,Q,J,$=a.forwardRef(X),ee=(n.p,["title","titleId"]);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function re(e,t){var n=e.title,r=e.titleId,i=ne(e,ee);return a.createElement("svg",te({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Y||(Y=a.createElement("path",{d:"M9.87322 9.41739H7.70676V11.1488H9.73879C10.0905 11.1488 10.4001 11.0317 10.4001 10.224C10.4001 9.41739 9.87322 9.41739 9.87322 9.41739Z"})),K||(K=a.createElement("path",{d:"M7.70676 14.4176H9.76339C10.0719 14.411 10.6582 14.3168 10.6582 13.4094C10.6582 12.3334 9.87322 12.3442 9.87322 12.3442H7.70676V14.4176Z"})),Q||(Q=a.createElement("path",{d:"M14.1113 12.3442H16.5562C16.5562 12.3442 16.5706 11.1488 15.4208 11.1488C14.2709 11.1488 14.1113 12.3442 14.1113 12.3442Z"})),J||(J=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM11.9797 10.1045C11.9797 11.492 10.8442 11.5802 10.8442 11.5802C12.311 11.5802 12.2412 13.4298 12.2384 13.5043L12.2383 13.5067C12.2383 15.8742 9.87322 15.7967 9.87322 15.7967H6V8.0395H9.87322C11.0507 8.0395 11.9797 8.71524 11.9797 10.1045ZM12.5306 12.9929C12.5306 12.9929 12.5282 10.0121 15.3914 10.0121C18.4046 10.0121 17.9791 13.38 17.9791 13.38H14.1245C14.1245 14.8215 15.4352 14.7303 15.4352 14.7303C16.6714 14.7303 16.6282 13.8955 16.6282 13.8955H17.9377C17.9377 16.1106 15.3914 15.9582 15.3914 15.9582C12.3349 15.9582 12.5306 12.9929 12.5306 12.9929ZM13.7896 8.495H16.8605V9.4516H13.7896V8.495Z"})))}var ie,ae,oe=a.forwardRef(re),se=(n.p,["title","titleId"]);function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ce(e,t){var n=e.title,r=e.titleId,i=ue(e,se);return a.createElement("svg",le({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,ie||(ie=a.createElement("g",{clipPath:"url(#clip0_145_24917)"},a.createElement("path",{d:"M12.3125 11.9784C12.3521 11.964 12.3941 11.9532 12.4361 11.9412C12.3296 11.7052 12.218 11.4715 12.1013 11.2404C9.84527 11.9088 7.68527 11.9148 7.30007 11.9088C7.29647 11.9388 7.29647 11.97 7.29647 12C7.29647 13.134 7.70447 14.2236 8.44607 15.0792C8.69327 14.6808 10.0037 12.726 12.3125 11.9784ZM9.14807 15.7356C9.80076 16.2358 10.5734 16.5558 11.3886 16.6636C12.2038 16.7714 13.033 16.6633 13.7933 16.35C13.5728 15.1534 13.2426 13.9796 12.8069 12.8436C10.2617 13.7436 9.30047 15.438 9.14807 15.7356ZM15.0665 8.43238C14.5118 7.95594 13.8537 7.61535 13.1444 7.43767C12.4352 7.25998 11.6942 7.25009 10.9805 7.40878C11.6067 8.25964 12.1764 9.15076 12.6857 10.0764C14.2253 9.48478 14.9213 8.63158 15.0665 8.43238ZM11.6465 10.3968C11.1293 9.48982 10.5624 8.61209 9.94847 7.76758C9.31465 8.07641 8.75797 8.52315 8.31923 9.07505C7.88049 9.62696 7.5708 10.27 7.41287 10.9572H7.43327C7.92047 10.9572 9.65207 10.9176 11.6465 10.3968ZM13.8173 12.5952C14.3753 14.1468 14.6321 15.4356 14.7053 15.8484C15.728 15.1274 16.4225 14.0297 16.6361 12.7968C16.0146 12.6203 15.3717 12.531 14.7257 12.5316C14.4161 12.5316 14.1101 12.5532 13.8173 12.5952ZM12.0005 0.47998C5.63807 0.47998 0.480469 5.63758 0.480469 12C0.480469 18.3624 5.63807 23.52 12.0005 23.52C18.3629 23.52 23.5205 18.3624 23.5205 12C23.5205 5.63758 18.3629 0.47998 12.0005 0.47998ZM12.0005 17.6364C10.5058 17.6351 9.07262 17.0409 8.01549 15.9843C6.95835 14.9276 6.36358 13.4947 6.36167 12C6.36294 10.5049 6.95743 9.07135 8.01464 8.01415C9.07184 6.95695 10.5054 6.36245 12.0005 6.36118C13.4953 6.36309 14.9283 6.95782 15.9852 8.01492C17.0421 9.07203 17.6365 10.5052 17.6381 12C17.6365 13.4946 17.042 14.9275 15.985 15.9842C14.9281 17.0409 13.4951 17.6351 12.0005 17.6364ZM13.1069 10.8888C13.2113 11.1048 13.3085 11.3172 13.3973 11.526L13.4825 11.73C13.8149 11.6904 14.1701 11.6712 14.5409 11.6712C15.2661 11.6726 15.9897 11.7417 16.7021 11.8776C16.6747 10.8555 16.3159 9.87 15.6797 9.06958C15.4877 9.31678 14.6981 10.2252 13.1069 10.8888Z"}))),ae||(ae=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_145_24917"},a.createElement("rect",{width:24,height:24,fill:"transparent"})))))}var fe,he,de=a.forwardRef(ce),pe=(n.p,["title","titleId"]);function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ye(e,t){var n=e.title,r=e.titleId,i=ve(e,pe);return a.createElement("svg",me({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,fe||(fe=a.createElement("g",{clipPath:"url(#clip0_56_1739)"},a.createElement("path",{d:"M12.0005 0.47998C5.63807 0.47998 0.480469 5.63758 0.480469 12C0.480469 18.3624 5.63807 23.52 12.0005 23.52C18.3629 23.52 23.5205 18.3624 23.5205 12C23.5205 5.63758 18.3629 0.47998 12.0005 0.47998ZM14.7293 8.44078H12.9977C12.7925 8.44078 12.5645 8.71078 12.5645 9.06958V10.32H14.7305L14.4029 12.1032H12.5645V17.4564H10.5209V12.1032H8.66687V10.32H10.5209V9.27118C10.5209 7.76638 11.5649 6.54358 12.9977 6.54358H14.7293V8.44078Z"}))),he||(he=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_56_1739"},a.createElement("rect",{width:24,height:24,fill:"transparent"})))))}var ge=a.forwardRef(ye);n.p;n.p;var _e,xe,be=["title","titleId"];function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ce(e,t){var n=e.title,r=e.titleId,i=ke(e,be);return a.createElement("svg",we({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,_e||(_e=a.createElement("g",{clipPath:"url(#clip0_56_1738)"},a.createElement("path",{d:"M12.0005 0.47998C5.63807 0.47998 0.480469 5.63758 0.480469 12C0.480469 18.3624 5.63807 23.52 12.0005 23.52C18.3629 23.52 23.5205 18.3624 23.5205 12C23.5205 5.63758 18.3629 0.47998 12.0005 0.47998ZM9.18047 16.7748H6.84767V9.26758H9.18047V16.7748ZM7.99967 8.34598C7.26287 8.34598 6.78647 7.82398 6.78647 7.17838C6.78647 6.51958 7.27727 6.01318 8.02967 6.01318C8.78207 6.01318 9.24287 6.51958 9.25727 7.17838C9.25727 7.82398 8.78207 8.34598 7.99967 8.34598ZM17.7005 16.7748H15.3677V12.6144C15.3677 11.646 15.0293 10.9884 14.1857 10.9884C13.5413 10.9884 13.1585 11.4336 12.9893 11.862C12.9269 12.0144 12.9113 12.2304 12.9113 12.4452V16.7736H10.5773V11.6616C10.5773 10.7244 10.5473 9.94078 10.5161 9.26638H12.5429L12.6497 10.3092H12.6965C13.0037 9.81958 13.7561 9.09718 15.0149 9.09718C16.5497 9.09718 17.7005 10.1256 17.7005 12.336V16.7748Z"}))),xe||(xe=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_56_1738"},a.createElement("rect",{width:24,height:24,fill:"transparent"})))))}var Ee,Se,Te=a.forwardRef(Ce),Ae=(n.p,["title","titleId"]);function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pe(e,t){var n=e.title,r=e.titleId,i=Ie(e,Ae);return a.createElement("svg",Me({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ee||(Ee=a.createElement("g",{clipPath:"url(#clip0_56_1740)"},a.createElement("path",{d:"M12.0005 0.47998C5.63807 0.47998 0.480469 5.63758 0.480469 12C0.480469 18.3624 5.63807 23.52 12.0005 23.52C18.3629 23.52 23.5205 18.3624 23.5205 12C23.5205 5.63758 18.3629 0.47998 12.0005 0.47998ZM16.6865 9.91678C16.6913 10.0152 16.6925 10.1136 16.6925 10.2096C16.6925 13.2096 14.4113 16.6668 10.2377 16.6668C9.00442 16.6688 7.79683 16.3146 6.76007 15.6468C6.93647 15.6684 7.11767 15.6768 7.30127 15.6768C8.36447 15.6768 9.34247 15.3156 10.1189 14.706C9.64573 14.6967 9.18727 14.54 8.8074 14.2578C8.42753 13.9756 8.14517 13.5819 7.99967 13.1316C8.33946 13.1962 8.68949 13.1827 9.02327 13.092C8.50973 12.9881 8.04791 12.7099 7.71612 12.3044C7.38433 11.8989 7.203 11.3911 7.20287 10.8672V10.8396C7.50887 11.0088 7.85927 11.112 8.23127 11.124C7.74983 10.8035 7.40901 10.3112 7.27852 9.74774C7.14803 9.18429 7.23773 8.59228 7.52927 8.09278C8.09922 8.79358 8.80998 9.36688 9.61555 9.77555C10.4211 10.1842 11.3035 10.4192 12.2057 10.4652C12.091 9.97835 12.1403 9.46727 12.3461 9.01139C12.5518 8.5555 12.9024 8.18037 13.3434 7.9443C13.7843 7.70823 14.2909 7.62445 14.7843 7.70599C15.2778 7.78753 15.7305 8.02981 16.0721 8.39518C16.5799 8.29471 17.0668 8.10845 17.5121 7.84438C17.3428 8.37014 16.9885 8.81659 16.5149 9.10078C16.9647 9.0466 17.4039 8.92567 17.8181 8.74198C17.5139 9.19785 17.1306 9.59571 16.6865 9.91678Z"}))),Se||(Se=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_56_1740"},a.createElement("rect",{width:24,height:24,fill:"transparent"})))))}var Le,ze,Oe=a.forwardRef(Pe),De=(n.p,["title","titleId"]);function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Be(e,t){var n=e.title,r=e.titleId,i=Fe(e,De);return a.createElement("svg",Re({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Le||(Le=a.createElement("g",{clipPath:"url(#clip0_56_1742)"},a.createElement("path",{d:"M13.9241 11.7996L11.2289 10.542C10.9937 10.4328 10.8005 10.5552 10.8005 10.8156V13.1844C10.8005 13.4448 10.9937 13.5672 11.2289 13.458L13.9229 12.2004C14.1593 12.09 14.1593 11.91 13.9241 11.7996ZM12.0005 0.47998C5.63807 0.47998 0.480469 5.63758 0.480469 12C0.480469 18.3624 5.63807 23.52 12.0005 23.52C18.3629 23.52 23.5205 18.3624 23.5205 12C23.5205 5.63758 18.3629 0.47998 12.0005 0.47998ZM12.0005 16.68C6.10367 16.68 6.00047 16.1484 6.00047 12C6.00047 7.85158 6.10367 7.31998 12.0005 7.31998C17.8973 7.31998 18.0005 7.85158 18.0005 12C18.0005 16.1484 17.8973 16.68 12.0005 16.68Z"}))),ze||(ze=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_56_1742"},a.createElement("rect",{width:24,height:24,fill:"transparent"})))))}var je,Ue,Ze=a.forwardRef(Be),Ne=(n.p,["title","titleId"]);function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qe(e,t){var n=e.title,r=e.titleId,i=Ge(e,Ne);return a.createElement("svg",Ve({width:185,height:132,viewBox:"0 0 185 132",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,je||(je=a.createElement("rect",{width:185,height:132,fill:"url(#pattern2)"})),Ue||(Ue=a.createElement("defs",null,a.createElement("pattern",{id:"pattern2",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_255_18632",transform:"translate(0 -0.003108) scale(0.00512821 0.00718726)"})),a.createElement("image",{id:"image0_255_18632",width:195,height:140,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAACMCAYAAADBcR0TAAAOIElEQVR4nO2dC5RVVRnH/wMDCA6iICgPhZRQMl+jOOYDSzKLzGdmVpqvMEw0H6hQVr6tUJHQNB9oPoKwUDNfGVkKYoousxRNE1+g8RBEecjguPaa/158s/c+956RuXeuzP+3FmvO3Xufc889Z3/7e54DhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCFFCqkp9cd+Yt9hv1gJ4BcA70aCm9ATQAcC8qEe0efr16V6yS9AuaikNXwcwK4cgOH4O4E9RqxAlplzCMIGr/eeinphvUosMinqy2QvANpm9adzxd072iDZJOYThcAC9uf0PAKdEI9ZyJIDO/DQh6s3mQQDjM3vTXAbgb8ke0SYph8/wFFdgZyJtwuYdAfwrGgz8D8CnzOddAcyORjXFHfsptmwKYFE0IsZpqeUAqgEMAzA9GiEqkk+6z/AE/7YH8Cy3fwdgq2DcfoEgOK6JjhZzuWm5OOpN80MKApqpgcR6TDmEwdv+GwF43ykLAJ8BcFEw7rJoz0bNsE/U2vTYnzefRwDYMhoVc65p2Y6mnGjjlEMYhgQT7yVub2va6wBsH+3ZyK+jlrWkNEEx3+EEAF2DtsujUaLNUQ5hsBPWTcIXmEPoRW0BhlOzGAzgq4k+55QfFrUChwSCFnJ+1AL0A3Bc1CraFOUQhtuCz05TPA+gD4C+ADoVMYUc13Kc5bxoVNPxKY4wka2QS6MW0aYohzC46M5Kbq9hBGtDAPUUiiujPWL6MuzqcVGj70Wj1jKU/kZIIQFyme/RUatoM5RDGN6j6QJGlNYwqjScq/2J0R5pbIj1rOSIplwXaJPhORJz51FjiTZIdZl+8v0AdgJwDoC3AVwIYGHO0KnjFhOWrQFwajQixn1ffwAvsufCaESMS/gdDODqoKeW+QwnyDdFezXyHeYvHmYNVsjOPCd3jN9GvaXBmYVdADxjcjGWLQB8kVr6lqi3kaP4u1xe6Mmodz2inIV6Ic7UWRC1pulrCvd+CuBnyVFNeZaT2N3oPQDMiEbErGZo9q2gx2mVP3N7f2a8LbuYiTKdibyQV3ns2RkmXCmYwd/uFqDNE8efyroxhzMtHwn661hT5jgUwLToCGVmfSjUS/HjRFuKe4wguPM9LTEmxWgKAnJqBcfEhCA47gUwh9sps+54s70vgM2C/m1M/uMn0d6lYyyPvFkQ4gY17MHm88mJs/B+2bxKEIRS01qaYUuaL2GEKMVgMxFH5cwYu7KOrbntchv/jkbEOPOlB4ClUU8jbrL8CkADgG4AlrG9I4DFDAp4TuFYz3iadovoqLtjfImFi3fRlPkKgAcAPBp981q8idg+6mmkgb/VTlxnsg0AcDOAY0z7iCDqtoah7uX83JklNJ2ojX1IugMXhNQS3UBz6i7TdjTN1dRcexPADdzen5ooC+d73tCvT/es+7POlMtnCDkwpyA8agTBMSYakeZHprVQDsMyqYAgOKZwglcxIODt/gMoCO/zn8ufHBsIw3f59xZOGDCvcQT36c7f1qWIMGycU8s5TXUjt2/mZD4sEIaj+Xch74XLAR3EUhkE9+gGs989FORCHEvf6oIcFsD2LI/5Nv2TQrhr9tkC/etEawnDFN7UblFPU2zU6KgCOQKLK/eYzM99MxJ2KQqFXUH/5mGWf5xkhMFPsD9wpZ1BZ3l7+i3DOIkdt5rjzedft/p+aL6jEPVcwdtz9V9mVtwGmmN1nIxeGG6nMHiz6E5q5j3Z73yGb/A3jTTC4H/XE1zBQT/PC8IdAFaYc23gRK3lxL6JQQWwOvj14Fw3ozY4lsLgKxP+Q7/KahL3e79FLV8yWksYFnD1nhj1rMVdkMfM57x2vx2XVyv8kUJUjKsoDHVcxZ1J8TXu4yJmM2kydefKO9rY3S/lqMDNgzeRDk2MPZRCudy0vUjnfldO9js5AUHT4+8UFCcMe9MMcoGEL3PM9eZYHcx2qp7rOGoRb0K+y79nJqJZznSaawTKa8xbMxKgR2aYWi1GazrQV5nVMYUtphueswDPTcTfcLsHV6g8nJtz3DRz84ZyFQRv5L3cvoN/96GZ4TVTVlb847JFYr+e/FsftE/i3/3oC/jixjv51z1n4hlq+tcEFQQfmu2eiOlh9rN/U5Esn8/x5+on+sbRyKZCWDJaUxgcp0ctjbjM9H3mc95CuovNCpN3grsV/bmoNc0aahEwvOuz5w8Yf8ObJ7UUjBp+DstS1pXUvctaOaea/t8zFAwjJG4l94Jxkaknu58+TYrmfH9qbKot6xhZY1uU1haGyYz8hNiJnPeRzpXUNuDqV+iJOkveEK/HJwrreG4IkoePA3iZ5swBbJtZRAt6VkctTbEr88qoN3v/BUZzHUBn+Y3goSZvstaZx3MLabPmfP8HUQuwKmppJNRqhca2KK0tDEhkk+fR7vX8MtojzXhzg07PWGFCHv8YdvyjTGJ5FgehRNBptYQZ7SzWZLR7Gsx2auL5idQx6omz/TcHn/8aPCW4KPFiBhvSTU1wf/7++715kzrX1cFY/9uKXYOS0VoOtOUeRl388wxjTd8OAHaP9kjjhaZjcIxCnFmgrxC3GRNvamLcjUa7fUDTJMQvRO2M4I5hFCcU5Co6o+dQw/Rm1MpOyAaGdZGxyN1Hf8c/Y35rNKIxkuSTb6lzto757GCSN5honxcC/13OHFsSRJP8MyXtgn1OYljXXoN2iWvS4lSCMIBJnJm8WXbFyhsNuporNJhM6hKNiJlTJKZfiGuNMExKjJtLrVPH1TW1MvpnOTqbhF0vM6FTbGomWKFnNlLXrZ4a63iGL+dEIxq1hxeGVA3WEpqiP2AyNEWD8fEuYTSqP/+l8Mk8L0g9jCMeEmrgFqU1a5NCFlBL+LDfID4IlIfNjenydpEJ5TkwYQY0hz1ow8/K2Kc34+JPZ7ykYBAjZM9xUSr2apx6Zne3pUBk3buXMwoFwbzOEApCVih5GI/9UNSzlrrE04Kel7gYeLZmBjx1vgtYRAj6hakImcctlDNKWZuUOsEWpRnCMJhx79f5eTIztMWYwnctIUg2FeJNPt3WEvTkZF5cLkevhagKfJBPBOtroV7I80YQ+uUUBMfZZjtvODVvWUchJtAOn8gQ68ACY1uSHXO+jC2LakaUyiEIGzcjeNDqVJIwWPKUaIPx/Ve5fUjiVTMpFhWo3W8OO9A2P4LlDC9Tu51OM62GjvzePGYfZm1Hse+0RI1PL2a0z2EpCShkY83icCG1X60xKwZxAelG/2sPtp/FMgbLQfRzfCHj2fSzLLWm9GGASZCNMccbYK73DrTz+9Pn2I3tVWwbS8fYM4RtfgHZktnrY+g/nW3edtiFvyOV8W5RKsWBtmwVlEQXwj+m6YT6igLjLHnLOoqxiKUWX6CNfhMdvBm82aPoqE5kGcRRnGBzeeMf4ps6jjQvVLuaE+s+Op4jeZxnuN2VY6s5Yet4Dmew3GEQS8hP4/cuYO3RYKM12zF8vSlrgjpxYm9nwty1nPT78hq/yolfT2HtwJKTHszT/ILX35fN+3D1UgrSAN7XDRjCncSE3lQWMZ5PE3NDXpunqW1PZL5oHq/fQDrlJaESNcOKoAAsi3+ap99Af6MY77bwS8Pa8xpW80a+Qr9ld/olZ1DLeeE+hZN6ISfOX4Ky5U4sGDzVFOU9Tkd9MSNQ01gR+4i5f/M5pp4m0Cz6UYupsaxzPpMh1A0oJCOooYaZsonrabIOZ0BiFb97FNv25Ni3zPe73/8av9/XlNUwAjWCv6k3t69gWHsaBfJFar4rOPFPpXCfwPNawuRsSd+NW4nCMD+RiEthcwQfmjLpQlwWZHHXha5cEc/l5Kkxdvgq46DvREFdyjGDTHSpW5ArWGGSUH5ijWZ7LwpLf5pHHYz5shvNiWVc8XtTMJ5g+Ni+U3YTrtTvmFKRT/N4NgDwIJ/ue5qlGj6Uu4sZ40OgQxg+Xh5E8jqaha0/+9+h9gNfJreU16ea5+WvTQ33reeC8EiRCNc6U6k+w3UFQn+g2RA+ojg78Timxd2scVHrx2dhUKy2mjd6I8bZ3Y2/m88Yj+O1buDk91psSZDIWmqEYyVNqtc4Aas41oViv89j+JqifnyoZwWFwZttJzMnYJ3lV1iMN5C+x3RqikuC/zLgNn7HXJpJj9G0Gcfy9SvpK02hBprPOiYboaw3NVsfMCQ8gb/nbi4ol1JAq/n7/PXownzOJP6OkRklIC1GJYVWQw7PyIKCTuDdUWtjrDqVTAJvYku+CqaGK6lPqFWZNj+h96VZstI8RdfASfGeeWXOKnPM1fy8iRGuXSj8VezfidG3VTRZZlHjbcDj+0kzlBM1fNKvP89hDvd332OLFTtTiPaiz1FvjveaySNsRd/hSWqtagqk177+miyj5unK82nPql5fG9Wd59CRx3ifkagl7N+HJtkLbSXPkOKFRDLqv4k2y+3BO5Y8Pbmai+L0ol8yzrw4uiJoK3mGFCMTbcUeqD8jamk0ByQI+fk/HdqKEoRSU+nCMN2k60FVOTka1ZT5iSfoLohGCRFQ6cIAOouevJN6jCkFviOolREiySdBGGaZMo3rot407xntkLdEQ7RxKjEDnWI0IyipUugsrmGUIiu6JIQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghygOAjwCn4OteGCPa5gAAAABJRU5ErkJggg=="}))))}var We,He,Xe=a.forwardRef(qe),Ye=(n.p,["title","titleId"]);function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Je(e,t){var n=e.title,r=e.titleId,i=Qe(e,Ye);return a.createElement("svg",Ke({width:185,height:132,viewBox:"0 0 185 132",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,We||(We=a.createElement("rect",{width:185,height:132,fill:"url(#pattern3)"})),He||(He=a.createElement("defs",null,a.createElement("pattern",{id:"pattern3",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_255_18634",transform:"translate(0 -0.003108) scale(0.00512821 0.00718726)"})),a.createElement("image",{id:"image0_255_18634",width:195,height:140,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAACMCAYAAADBcR0TAAAENklEQVR4nO3dPaxkUwAH8D/2Q+z62pclQeKjECIqmxWJhIoNErtRaOhkSVAoKYRCJ6JAgkItEvG1EQ3ZLSTCFhoFQuGjEoVlWdZHxruTfe+dtzNzZ+57c+fe369758zHPWfeP+fce8+cCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOs6Y73Cvvn+x5+bavHNSfYkeb6oabnLLtnV93+DnFmUMK2lJEeS7NODi0kYmjEIwtFqpP2sCw3qI2GY3a4qCJdXr7R1kRvTZ8Iwm6U1QWCBbfHhTU0QOsbIMB1B6CBhqO9CQegmYajv0gaCMMv9HVPbDSIM9f3ZwGs8l+SJonRyrye5bUNb2UPCMB/nJ3kmyR1TvPvJJDcm+SDJFUUtUxOG+fi6etdDSe6a4giGN/YG5y5XFbVMRRjmY9uKd303yZ01j2L4/F0C0RxhaIf3ppwyDVyQ5NMkVxY11CIM7XGoRiC2r/l7MEJ8keS64pFMTBjaZdJziLOKkuTsJJ8n2VvUMBHXrNtncA6xP8nbI47sYHVFaq3dSX4rSpmIMLTTG0l2jrin8U1RwsxMk9rpd5/N5tPh7fRHkn/73gmbTRjqOz7mGX8VJaXTTX+GBkE4UZSyoYRh2e6i5PTG9dkki/D0ews5gV52X5Knk/yQ5J+idrVtRclqB6urQaOMC99Sdd+gyanSsST3J/mqqOF/topZ3irmnCRvJrm9qOyWY9VWNl+ubZWtYgzXQ8erLV5eLWq65dxqkd/VHW/nVIRhtYMC0V/CUBoE4pWitFuGgbim4+2sRRjW92CSl9et6Y5hIK7teDsnJgyn91APArGjump1T1HTQy6tjjYIxCdrFsVdlOTxEc/6sFpsN8q+MVeufq0u9Z4sapY9MGK59sfV2qZJLVU7fvSeMIz32jqPGBWG9yfYhfvEmDD8kuTZovSUPSPC8NEi7gLeBqZJ9Y27CjPJ3eyLi5LVtqzzBZ6VzitKTlkqSpiIMNSnzzrKB1vfuOUaLChhqO/bJC8t2kEznjDUN1ii/XCSFxbtwBlNGKb3qEB0izDMRiA6RBhmNwjEiyte5e9FbUjfCUMzHlkxQuxY9Mb0lTvQzRmMENdbGr24hKFZtya5oUsN6hPTpOYdbeAVt/tK7uYThnba4U735hOGdrq3oZ/LogbnDO1zIMlbfe+EeRCGdrk7yTt974R5MU1qD0GYM2Foh/2CMH/CMB8rT44PjPlhEjaJc4b5GP46p6lRixgZ5mOwneVTgtAuRob5eGwDV7fuLEqYiJFhPjZymfdPRQkTEYZuOZzkyb53wrRMk7rjcLVqlikZGbrhiCDMThgW08qftxqMCLf0vUOaIAyLzdSoQcKwmG5K8p0gNEsYFs/WapftvX3vCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2EhJ/gNzkXdCBj1FwgAAAABJRU5ErkJggg=="}))))}var $e,et,tt=a.forwardRef(Je),nt=(n.p,["title","titleId"]);function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}function it(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function at(e,t){var n=e.title,r=e.titleId,i=it(e,nt);return a.createElement("svg",rt({width:185,height:132,viewBox:"0 0 185 132",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,$e||($e=a.createElement("rect",{width:185,height:132,fill:"url(#pattern4)"})),et||(et=a.createElement("defs",null,a.createElement("pattern",{id:"pattern4",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_255_18635",transform:"translate(0 -0.003108) scale(0.00512821 0.00718726)"})),a.createElement("image",{id:"image0_255_18635",width:195,height:140,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAACMCAYAAADBcR0TAAAKeklEQVR4nO3cDZCVVRkH8D8ryoeaqRlBoQKZZZhrJfQpjGYhCKxa9jFESThJY419WVM202g2WTlZmmFflJRaWaCBmCUppiJYUWaNYaKiGPEthGQsNGfe/+2+e57nnHt39967Iv/fzM7sPue93+8573Oec+5CRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERE+ki/Zj3s42s2mpjjGAC/A9Bmm7ABwFsAXAfg5aa1sJb30Wla5DntJcMOafjL628irTUDwMGJRzyIneBGAGNNa/WYcQAWmxaRbvJG5FaaVuOxZgL4mYl21WEiIj3Ql2nSyQB+Y6LWCADfBnCKaSk8BuAIE007AcCxAJ6JjggDwz4AfgTgv8lby7PCcy1NmmkivjcCuCLTGQ4H0A5ghWnx/RLAELcFeBLANSYqe4W+SpMGdSO9OZ8n+k7TUlXvfb0y0xGCizQZ33v11ZXhTAADTdT3WgAHAJgD4Bz3iKIzfN5ErSkmUrWTlatWGMnX9UIA+7Fy9gCA+xKPvV+m0ACmfJsB7DYteQNZnDiK978tZLh8Hk9mbrkvgHKeshXAdnNUIQy4h5X+3gFgC38fyCKIZxeApwD8x2lrir7qDB8wkbxJAH6Y6QzHcd7wqGnpKtcZFpQ+pGY5jVe6kxLztb8D+DGAywD8uxRfxHQxJZxg6wGsAnAX5z0PJY4F36tPADgDwDDTWtzfzQC+xtJ3bD7nfBVrmKo+ZY4ErgLw/tLf4XUdzee7NFM2D1foTQAeZucMhZR7zFEN5H0gDZGZQIc3/wkTzXuCI9gfOJp6PsK5RcqLaox2UzifaJY50UmRsxrALAC38KRYm3ndnnCV+yiAK522UMG7GsBg0+L7MoBPRS2POEWLoQD+6dzDEgBvjmKjeJJ3djNVn833pSkT6L6YM7zXRArbOBJ5OfuL+fMN01J1uol0NclEqkKKsdBEG+eObnSEYDivVEP593pzRF5/DgynRkd9GMDcbnSE4AIAP4liG6K/tyc+t8AbFSvVunWmJe9cAN/LHtELfdEZUifFKl66U1eNabw8p4yrkVdPNZGq65mjNkOYh5zYg/u9ocaVrB5XlD7jcTUGk0cSaU5wFoAvmWjfmMHyeMO1ujO0Z3LEu3lC3m1aCjM5gv/JtBTCa5loooVB3NqRMicR763wmO9y7iOMpJcAGA/gpbxqXV1q/xdPwNRou41X2DN4RZwO4DvmqCIdqVTPfmpaC1/kBPooTuzf54z8YKo0ir83K71eyeJKBwe/ryQm0N2dc9al1RPos02kqpKv35Q4gcIJPZqp1A9Ma6GDE9DYKby9J+Suy5x4I1zi3Mc65tAPlmL/4IT1OpZ3L65RGXqak+SyuUyvJkTxNo6k3pwjdKZ5pb83cJ3ltwB+H1WBgs/wREx10t4KWcEvSvcRPsvlTkc+rhkP3uorw7tNpBBGul/z95szawofYv6d8jaWIWOTTaSqWYtsYTFwjIkWV68HTbRwB9OZWivzYaX8eSYK/NlEitLle0y0uJLMM9HC6sRtpvCqsNm0NIY3YHlzuQNMpAFa2RkmOCNNxS2l7RGhvHm7OaIwhSOm9wYFB7JsGTvNRKqa1Rm8vPauzFpCTpyWdCby+7eaSDEJbzdR4FIT6Sp0yL9FsRcwVWpWCdq7GnplI++4XmtlmpTbfhFPjOdncvxxLBmmqkNT2bkqxrKs6lnKibsn1MI/yyuNlxa0cY5zFU/y2HATAe40ka4m8Lk+w8cNqcr9zuR+fwCf5NxjNweByc5Jv4XlzlFR/HGmZrWE+dsromNGOPu6GsXbE/YFE/ErVL3Wqs5wYGbBq9MZ6W9K1MjB+vlETqwGmNbicWaV/s5VkXIT5/GZMnDZ1kRn8NK1p02kaigX18pCZ329c5IMZv2/lmsB/NWZL2yrcbuKHSZSvK54ZN7txCq8Kl0qIxnN1G03jwkd8WXmqNqDSo+knlSjncUlfM/tTg66mqOip515sFc9ARf1yrl6qhPudOrnZfWeMKmUYZOJFKNqitd5UnOneoQOdCFPrHirxIjEnCN2tIkUq83xc+2Xea5eZ/BiYGm8gxWyqYmOEHzLRBqgVZ1hholUzTaRwo0mUtVRI9evbNwbxc15noWZExndmKQ930QKfzERuwhW1ulcAbyyYj0Wc0CopBMro9sM4ACVcyivjmU7uYcqnsMMyuwxOtJEepfmTGeHbLhWdIZQVXmDiRY6+X2EoaWf4dzAdYM5uup83i71plRSo9S8I/i+iXR1J5/DPJb74p8Q/zlTEc9yp7MNyUxc12RSjdgu7sNabVoK90Rb2n9ljiieR6ojg6XbOI1ezvnC1ijeL9G5wmf/6ii2Mdp3Va+lnCfO7cFt69KKOcN0E6nqx5LqgNJo05+TxnYusHk15SEccS5P5M7HMK/2Kjqoc/tFyLXfYaL128nL+aejW1zAQejiqCJ0Ikum9djM17iDaxPxiRgm/rdxvQBc0PtcdMwhPMGmRRWuUPH7urNeAa7xBPc6OwkuYnwJ/z6Ug0l8Famkv17avJ7rTW382cINhz2twnVLKzbqPeRUM+pxENclUmnUbH44qZr9lbzMjzYtpQ1fTbY/V5O9vUDhg/8jU6FwRXyNOaIYicdwg+LxpfgGTop3cfBY54zyWzhoVFKtC9kBPbfyfRzGq6mX8lQm82D7psT5s4iFgvGJsujprBYO5oJn+fslS1gtrKkZG/W8F9MQ7Awn9GJ1dwbnDd7WADC/PoJvrLe4lTOGJ1orvKkX1Y8FLJmuiK6QGzkJrlxZTuKVIDY/2sC4MLNlJWcdt9GUc/3zauwS9pQ71CCWtcudodyetSfuWs1NnGv5IN/81LxgX6ZSl5uWvFUt7Ajg9wEmJsqUOfeW1mbiEnI8iC1OXEE7ovLwJGdrQy0PcFCLJ73hyvvdGrctW+l0xPh19Ok/qGjmg7cl9hjVayzfrNyW3fMSXz7JyVWhmmUR07XcrtuKjfzW3uv4PQY4C3gHOyfSrMTAcQ3nFxXv5EBTa9EtTHK/yvQs9aWpc/g9ktTVu+JapoHlcnM/Z/3jcHPLFmpmmtSR2ftSr1OZyz6cOf5IfjPsTNPiG5lZdW6F4/m62pmjVyaKj7IKtMA5uc6NUsHHmP/HK+OvYqWtbDDnC/E33/ZhCnYy083DSl/7rDwPr3N5wjaNtzPFqVQDH+deqYWcG8XauPFvZCm+LHGFM/a0OcP9iclrd6zgybPJmSBWnM0SYz3/dmZZ5h+SyR5kT/tXMZcxr0+tTNbSv7QIdVtm5P8YKyDbE1WbslprC7IXa2ZnSH3noCduzXSGY1nCCzX9j5vWqs4a2y9kL9fX/16yXrmtGeCE8HoT7WqRswdK5P/2lM6wtrSXyPuZzMnefU5b5eeb5l5FRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESeJQD8D7NVCqyicCElAAAAAElFTkSuQmCC"}))))}var ot,st,lt=a.forwardRef(at),ut=(n.p,["title","titleId"]);function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function ft(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ht(e,t){var n=e.title,r=e.titleId,i=ft(e,ut);return a.createElement("svg",ct({width:185,height:132,viewBox:"0 0 185 132",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,ot||(ot=a.createElement("rect",{width:185,height:132,fill:"url(#pattern5)"})),st||(st=a.createElement("defs",null,a.createElement("pattern",{id:"pattern5",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_255_18636",transform:"translate(0 -0.003108) scale(0.00512821 0.00718726)"})),a.createElement("image",{id:"image0_255_18636",width:195,height:140,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAACMCAYAAADBcR0TAAAMdElEQVR4nO2cCYydVRXH/+/NvE4p0GW6SVna2pbSAgUqKCBqtFpriwhEo2CM4BaNSyFGSYyJJmiiRnHBLSHuihqsC1YsARQQlQjUYjd2LFtL6TbtdGbamb5nbuZ/w+F893vLzDd0MP9f8uW9d/fv3Hvucu69D0IIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCiMNEqchsn3pmV8ZNiGFyFJ9teckcN6Mz4zYUyqopMcqZDeCiF6OIUgYx2pkG4OIXo4xSBjHaCcrw+qKn9CmKVob7ATzL5/OJ9K8z/n8BcIzznwfgnybMegCLXJipAP5swjR63sd4dzUIF54HAFyaeavnWQZgcyKef57KxBxkIYANJuyVdP9uIo2852rG+bbxX5OQ9akAnjZh3gxgIoA/5qSbeq5mI7w24Zf3fIf5NxNnY0ZCWaYAaAPw8oxPwbQXnN5UanJgPICa859g/HcmKnA6gMUAxvD3ZADzAfzHhClTQNPQHCG9H7IhNIoT/L8B4GEA92R8gbcDOCnj2jyhUo9lWQId/HxDC+/zGn7a9zkHwCsB3G3CtbGzKZnfnexlj8ykmuZVDHtkC+V7tXm3RnEmZlyyTKfLKQAezfgWSNHK0Gu+92d8gQPme19CWU4wigBW4IkuTM2lsx3AJhfnFQDGuXh95nuwTDwIoErlmhOMEvQLCn0FgHdnSg8c4d7lcaYBNrpZLoyn6spx0H3Gsj1gZBPeZwHLBSNXG2c8F5lWGaqsj3Hmd4wXleFhjmJRYWociSfz9wD9bF7dHLF7KbsqR7yXuXxsHfVS3gf5PpGdGQllOZ4uIY8/ZHwLpGhlGC4LEvHnZ1xeyO0ALmGlhcqsALiXPUkeqwF81FTy2QB+YhTvZDaY/S5+1XwPivAWAIeYd3h+y5GoWVLz4DDl+QDzCu8zFsDPOCrV440cMXfUCQPXAX2L063YQA+xwV2QEx5s1O/gFCwqQxh5L8/k9DyPMs0dps2VnDzziNOj4YzITTGalGFczgvPop25O+MzSM0JdSATIkvVjVyhR/27UYZ29vBeGSxBkf6bcBsuNTZKm2YzjSYo8BIAv8745BPTtfk1k1eUcdV95hHS73Izh2ZoM53hqS3GbZnRZE2aYF48LvzA4feETOjn8b1rJeHmaUt0BLZB1BI9Ily67W4qVnZTgKHS5vKpmLUFEuWOdHCBX8n45JNKq1GbKCXes9F7l907NMvxZnp4ipm+jQijSRk6zZC4llaXwIwGylAUzcoijkS+0VWdQrVCSvFsfjs5xXiOTx5LAczN8XspYuu9wmnguMQ6shBSPcNwGGviptK2i2Pfgy80C7sHOVIsods8zqXBOGNy0oykytGod61Xtsgvubjt58LdTosmm0VkHuVEPnCLbl+2kNenAHyOitGTKG9kBtcxm1l+K4cyn5RsGsnBy9t3HB0uTl46rTKb4XuoBKHs59P69uEhpFeXlDCGQzefCq0mJdfr9fHFgjD3GvcSG3wPy7SJabyLgp5t0qoxj96EdSbSzfl+xTSe/catN1E5B0xaXZkUB/kTnxSX05TYU2etEcq7m5VaNspky7bfyS187uJj6WX8A5zDlym7FbT19/M9KvQbYP5dJu3UGqeXZWgz79HH7yGdfYmRrDchOyvPvRga8xgrdELvB3Aa15WXjoQyFH1Q71xqcKiUR/hYFtKEWWKjuN+Y4E7isBgq4T5j5gs9zBNUkBp/L+K0qkpT5AaTR6iwswAczYbwGEeaszjaVLjwfcBV6gIzLO/hVC1lHs7jTACT6Bcazj8S4cIodwZHgjJ78Cdozx9PuW1xpuI8TmZ5ozLEdVA/827n3kM75b2WinqW6bWDXJ506S+iUrdx3baBU6/jWObd3PexplMru+D/L67/Zhl5/jtH+epxM6d+b6OVK84Oltm2W9RBvaJHhhvYCIVolg7XKfdzJPiBmdLdRqVcZpTwZpq3w++VRUi7aGWYkXERojUqnBLVuPu8kyPtelqU4vpkqUl1VCrDMxoZRIsc4XbAq5zGncep1i30s3s6m82mX09RAi9aGc7ki7RxwbfH+Xdyblzi4mo7zZFH0RrTxgVaNB9OoV+ZYbv5fSrXJjUuzvbxHE60cuykW6TEXqaDeXQljgJ0ck0Blu3ZJjagxvKs0QB7tG11NgfBMNPNPH4HyzndrCN82UqUw9Esz37Kp5Nne6zbFMr3kDkuEach2zgFOcbsZXg5WZmXTLoTnWy203I2huH2JuQ5yZw9alaekT6zARsP8z1k/C/ieqdQilaGH5tGHY43fNMtUq8C8CYKcDNPbQYhfYhngUK8VQC+wHgf5NZ/CP9zAF9jpXyFO5I19hxf5gnLeARjLeNGKjwZOpMNJCzGvugWyJ8EsJxpPsIyeWW2tDONJWx8oQLf2UAZZrIck81p0B8B+B79wvvfaMyoYIO7isctQj7rOI34OIALGS40mPdwobmSC9VoCTqKn5/gYv16s1l4DYBfuDKGvM+lnMJC/NOMewHLHBrlxyift9JtK4+QbHXyXGHk+ZGEwuTxjDGrbuFnVIo+nqkqnKKVYTF7lsCdGd9BU9kZ/H6EsUkvM2d6rjcNoduE38WzNG20eJxO96fZu+0yaQRLy1dN71Fi+CjgjQlL2hyT5oTEpprntVTmmM41Ztc8j3E8BxWnknGNdYaxvPger0RrzWn8HS0y8015yyburJyp6iT26Gebek+t8RYYOXZR3nOMW7QWrqfixPKfw7NZESvP8S22ta2mrh7n53p+bmphhGmJonegrX0+z/4f6WHP3O52Go/hxsrF5iQpuDs9zkwLIr2cptxohvwOd1Ww5mzdqROzvmz1BF7hfY2oCBs5ajUyxR5yZU/Z4b3cau5Mz75EuBj/Lh5cTDHA/G1eBxLhbPmiHHqcf41mzseM+4XuWEYr8vRsMb/jKBDrrPDpUaRoZWi0b+H9B9gDTDFuV/ACyioO0ZFjqSh5RxfWcX8issL1Rq2WrR6XmXP7oYF9nUP7UGkl71RY6/b7YRwLaaUM+1lPkeVuBz5VzmaJSrbP3WG476WkDK0ywGHZ3z1IUWHYPCGHzZ6/md8LOXQ3S7M91xQqbJTdHQB+lwl1+FjNqeNIEt/9JnOCdTIVogjiRuAWN3rd4O5sFMrhVoaDbLRxcyVYLn4D4Fc8irzKVezpDcq8xliiOjk6IDGapE6l2jVCqY7SrTT3LnZx8V7kf+T4svkj6o3YzmuxzebVjFse67izHLkkJ5w/lt6IWOd+d/w61+EVSr2GNdLEU57zTcMLdwrey3M+l/H7alOOeKY9r8LuMQstcJE7JXHHwTf0cJXydeb3QM7Z+0UsW4x/N61ic92TupcxVEpDqKefvghTJbDjWWN+L865VBUPCLbzcywNKGMzIQeJU05/l3x3kfsKnsN5uecgLRwzjdsjiZe1c8YTze2qFP3cpo//prCYex9rXNjzae2KR7HnuLPyG3MO213FtQuokOdRIbwcS03eGY5KbZVzOU2acYTwV1/zRizLWnYMZyfKZeNfSXNwVLaqu21Yb4SM5b+Tc/ujaYW72J0VA62It7F+Yl5jaGpNTWXjH4b5kWFEKVoZ6h1FhjvqW3V3j+Hs1BG7MJ1pTG6pNMEF5GdZOR2cKt3qyjPdXDRP5XdtxnUQW3ElmgzHZ0Ll449wx++2bFPNhZYUMayd1vketo/7B1YZyuZabGR2Qp5wcaquzP4s0b08uBcNCqGj+ZLrsDpyRsu8vLfz84mMzwiSarDDYQ9fvJ09vD/CvZ9hShxio229i73LQ4m8n6T9voPmurmM20WB+02ukMZfOUWq8c8BpnG3d3edKRY4LH+mziLtOY4gjaYgebe6DjGNMmUQ07mJClCvF47xb+b3bppJq5Sdl/WtlJ3dc9jB9cTSBu8Q7yffzjrro+zKrD+bzx72+gvoP5nrwB2so7x8yond78gAFazRfe5C0X+titHK93lyNfWXPS9A/7Uq/t+5o96fDY8Eo+2vYoSI3DKMG3JCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghxEsOAP8DHaX9Qhv1TKgAAAAASUVORK5CYII="}))))}var dt,pt,mt=a.forwardRef(ht),vt=(n.p,["title","titleId"]);function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt.apply(this,arguments)}function gt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _t(e,t){var n=e.title,r=e.titleId,i=gt(e,vt);return a.createElement("svg",yt({width:185,height:132,viewBox:"0 0 185 132",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,dt||(dt=a.createElement("rect",{width:185,height:132,fill:"url(#pattern6)"})),pt||(pt=a.createElement("defs",null,a.createElement("pattern",{id:"pattern6",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_255_18637",transform:"translate(0 -0.003108) scale(0.00512821 0.00718726)"})),a.createElement("image",{id:"image0_255_18637",width:195,height:140,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAACMCAYAAADBcR0TAAAPoklEQVR4nO2dCZiVVRnH/zNg0qCA7IyICCSgJmqRAmpibqhpuWCYWqBhpm1aKVmomVmZa5saCilpmru4pamgUhmipogUGCKKsioiss1Mz/fc/3EO7znfd2dg7p25l//vee5z7z3f+dZ73nPe7ZwLIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQjSAikI9pIVvLQ/KWjjfBTABwPtqOC2fntUdm/waK4OSLY9WAG4AcAWAz2/pD2NLphyE4esAfhmUNoz+AF4BMIa1d87YqwuAvkGpKBtal8GNfAbA6GTkBHBisDWdoQD+BqANgBcA/ArANgB+AWB7ANXctp6dxqcpNPNSjyhKmlIXhkTFOZyfRwHYGsCxQa2Q7gCeYen1AH4H4FQA3wxqbsxjQYkoG0pdTToKQDfv+zEAvhHUChnPkj/RVpjSAEGYDmBJUCrKhlIXhuOCEuDXADoEpfUkHrSvAFhM1egJqlj5uDTPdlHilIIwpF1jouIND0pz9c8KSutJ7IEq2gaJDdAjqBHyKkcPUcakNbSWRNLoz2XDrfKuq8qoSD4jvM89aQg7klFjEYAPAJwZ7BnnS9FSUVaUgjCsAzCMsYDXAHyf5SsBvBfUzuGrPQfTfdqd35cwuLZnA+//DAAvBqWi7CgVm+G/fO/GmMI0fr8qqJljvfd5IICdAMwE0BnAO/QefSrYKyQxqq8NSkVZUirCYINd+wF4hI36g6A28Czf2wP4Dj8ntsFT/Pw2hWp+sGdOkG6ibfEbqliJUOwQ1BRlRankJiXG6xFBKXAlgCcB3GvKd+Zocl8kxeJaqj5gZzCMDb8n4xYrAKwGsC2AzwHYn9Hn5LU0uALRLBQiN6lUhOGOjGBaEhkeAGAyv3+NNsG+3khgSaLW//LKhlJo+gHYC0AfU38FhaEmOJJoFgohDKUSgV5gvr8L4GG+b8fg2QwAuwC4m3WuCI5Sz2TmJQ2nYb5TUGNjFkoQyp9SsRluMN//CuAcAGvZoBNX6hxPEAYBGBwcpZ7nAZwP4PEGCELCv4MSUXaUysgwC8BEJuSB9sNUpl5sxbLZTLNIVKpvsewtAE97x6ngKHMFjeMHAazitkMyItfKSdoCKKVEvTGMFSSjQFsA7TgSjOT2xIX6FwDHe739NCbwxTjGlP2TtkSMuyNloswotdykJEP1BwCW01W6MqiRswVcgO3jwdZ00upOyAjuiTKi2CNDBxq9m8NldI92pefIspKp3DDestsB7Aagztv2KIBv06Xqvj/LqZ91TPm4MDhDy6MtPWHOyK9ktH5VCVx7i6HYwnApA2jTGAl+g8bpW0HNbN7n617mLVmW0T3ayisfEslOdXGDpN7FvLbuHF0qmcM0njGLqZtwnX1olySCVcuyOiOQTmBbcW5Flhcsjd2ZYu5j3ceNpW1KQLMQjGf+Vw2fx5sADi3SuT+i2MLwIXOFDjblLzKafH2wRzZ/B/Bnk0jXncb0YLpdHW9HhGEx39fR6B6Wcbb19D49RDVtXqQBWqooWA2lSyPv3xEz/D8MSrLZgwHGRIj2Yebvw5l7NB0DaPNl3U/BKbYwPM1VKJLG9D/2kDvSFXodp20eEOyVzSgeN+lN1vC4SY92K0cfR13kKP79j+doUOPV35VeJ9BrdajXY2UJzqayqbbJcwC+6vWsFSmpJlkkToLe3vZFGXWbGrsiyUtFPPdHFFsY7gIwlipBKza+Dex1ExvgEj6ITwZ7hhxKQRjIRrCfCYwtNHvEekq/7PFgKzDXEwafaxswKsBz+/okve1t5loraedMM3V7s7Oo9nrLd6hazvXqJZ3LH4Mz5RhgbIk5dD4cyQzeKbxO60DYhmW1jOf47M0Rry3tkrkcpdMYwI6lK7cvY6f1Ejuwj5n9XuP7zjxXZ6bIvJKRVbDZFFsYjmXPP8KoMMmPeycb9I8BjMszs+xmACeZsl34cHvywdfxx2/Fz92Do+RcsId73yvZq85gz9gr2CMXpzgjKI2zdaQ0MeQnBaUbczTzrrICgrcAOIUNfQxHVp92FPbZXlmiFl4N4IdsyHOoYh4EoJPZfwqPnfwup7PsBNpWnwiuJqc2nsc4jyNR+26k4MVIfuufRp7TInaa9p5AoTuSHUCTUixhSHrxn1MvjbE7X8lD/xkjxDEDrgMN0iGRYzgD9diM1G5L0us8EJTmGtnNQWmux9o1KE3H9nhgb9fD9Natacyv8c7vC8LaSIM5kYI5LmUEej/S27vR1/Ee1T0rCPBGIjcT8MyUUdLRl3GeZF76/RTG55kEmUY1y+29nW06S58hHAWbfI2rQsYZqpj2/HuqBmmC4FPNBz4wIgjtOCchJgg+MXWosbhj+KrMo+xF1zTiWG2CklycZAE9aW/w8wK6RkHBWEtVaiQ9Um04Ys0yxzqI77Wm3HnJYkLiM5ACEbunGqqv03hNVhDOojr7I1M+ke8XpwjCc/wdazyHRpWp4wTBqmcO64BpEgo5MpzrrULRWCZQN/yPt9+TedQGh20Ym4Iztp1350d0405mL7oH9d58xAJ5lSmdkBP+upT1n/amHu/jVAV7HmeQxkamhIu4EEIF53cnnrf7vO3rOflpCV821pKoeb/l55e5zI77bToxY/gws88cRv1f4fcdvGm79r7AeNJl7ATvN96m9UHtJqCQwnAjVZbGqBWOefwRkh+zI4fFPYNacZrinlx8Yj4bZiWF06kOz1LdyZfJanu8LFZzmzvmCOZgDeYzbBvZ17mG7TZ3rFgjG0eV1SdJUbf7+x4dm7pyGFXGCjpAbCd1vKcCOcZ4ggBvZAQnYflM5wgKtoObjA1ZkPVwCykMrzPie31KpDiNpDF8lj/QQBpM9mFlEet1G4sThqTnPQ3AgWb/PlQHTslz3FgDPpOj3AaOAq15PjfS9KHXbVCwZ0iaMDi1xwpjHdVWi52/sYrPsZYN3sY/2hmHxAKqNHX0dq2KCOLLwVnrsXXvMt9tOy1IekwxDOixnKJ5fgN69wX0Nr3J77PZoxyXkXBnuZ1Jdz517F3sKDWNcQ/wWThv0hyWDYwIguNk9l5vB1vqiQnDVNND+lRxBLK96iP00pzg2QnwbINtTf0NfLfnX5LSkJLG7bM6JWLuGMs5JGnEZiWm5ZK1jVy/nb9iO8PYcTabYnmT7uQrcYl9gUZwb+q6H7DR3+UN36czpbo/fdi3MSg0nA0iNs1pqfcem55pVQGwIc8MSutJa7SOk7gQWRqxES1W5hhpBGEpR1cXPDzB1Hfqgm1MTtWyzyktL8x6k6pp0M9nY32JU2AdY1KEoTOv6YVgS25OymimtrThDMVFfFlhtL+f9SyVtDA4pniLcXXig17p/UgH8iH7Q/Cu9Ls/wNdU/lDdKFBuUbAhjA8sZO/+RdZ16kfM5++XHcXh+hY2htEpsQmfUXmEISa0aR4SRHryWjbsXlR9rHfKGd02fcEJg21Eaee21+kEYAVHznNMAz+QvfcDHGm60LM02Jt//pxZgWQYHSKv8Tl35fZ5EUPf2gRWWNOEerNozvkMy4xH5qQU377jCL5W0LXWj3aJc4MO4Y/Unjk2vU2PGZvvvcH7PImNZwiNzBEprkGfvbhPbNRBRBdHHqP7duPC7ErVZg07Batbu3vvZ8qdUFl1K2ZQI+KyBQWvBwXoRbrHfQ/RDvw7AIuLjJ/M49rn7j+TmYywW6zQ2vvLeoabTEuZ3HNUHkHwac+GkZZ+4LjApDD3DmpsnLj3Bht24j+/B8BP2NstZaM6LzKcg8P9o0Fpjjb8YZ0hWmkE0LKEgj7RXNs/2KN2oWC46LpbCLm1KV+acv409SI535GRQFYtXa9g53AR3ahpncQ9nn0xmzbiVSn5Zm4qbR/vGsHrX+3Vq4jcX0H+FirWWzYJjVgdo9ozmBvCBOYR3ZJR91X+sEMpZHXscfub9Omn2OjBaKkLDE7iAz+bvdt1NLbPp9vQ50I2khjOC+MLw/I8AgEGy/Zho1vH5fPfYU+93msUK3isbuwta+mZWk9Voh1VQXf+ujzxkUHshbfi+eZ67k9Ha9ox23PkreF1LKR6FOu1+1N9clkFb1JYPuRoVWUi8ss84ajgCFnj3ffantUd0wR7k2kJwvBCA92Ijv3oc9432JJjMRvSPdSFG7r410zP2zWDPdpkb/szdLOeRh3apw8Tz0SRKLelYpJe+PJGCsIoNvQ0QZhLI+5y5jrdFtRIx+/RnEq10lONhjEYdIiXFtKePW8vCUPp09zCkObDtySqwpc5vN4abM1t/wP1/f29/2g7iKpQBYfycVy4eIiZ6wAT7u9MVWE+hcqxHf/6qn0eNU2UIM0pDJMYOziOXopBnpvU6bazaZxOpE7qjK5VnII5i43zbm9Kpr/UZCczivSginNKShqyT0UkWRAcKa70gnWiTGhub9J7DMa4RcI6srHV0CPiZ6BW0bW6liNBzNd8QMTn7nMHYw9dKDRDgxr11GZkfY6UMJQfLW3dpOUZbrPVxuUWI0vtSlbBuIafl9IG+B4nmMRcphWRoJWjmoa59bTEaMPgUmeqajO1akXLpNz+FH1/7/O7nBt9CV2B1wS1c9HjvhSImcbluXWeecR7ByUhF9Kwfprerak85sVBTdHslMoq3A2hkoGxxXSDLoyE9bPYkTPyOjIleRZzl9I8UmfTdkgjthy+zxO0ldYFW0RetuRVuBtCHaeMbip7chLPQxSkByO5Qj5pKpQjNrHHZzjnReyTMtNMFJlyUpNiS8E0hum0A8YyKv0Y0zGOZhDOYvN+LKODkpBBtF9if+Eriky52Qybw2JOaHfsyFSOvWhTXGAmqJyaRyAWRlKuY6w1K/+JZqKcbIamoAvz623jrPM6jt2YKNiPRnEs49OnM2f6HcDlbDow4DeTczzSbBKRwZb8N1bFZCgNcEv3SNS6IWzFUaYn95/dHDdVbhRCGKQmhUxnfpO/Yt28TRCE1pzItI7ZnE9wlYerUxYnE82MhCHODC6JOJ5zBnplTIxJY9vIXOC+XOD4deZaiRaEhCGdGgbHenMKaWP++ATMa8rKuZ/MHH/RQpAw5Gc15/ouaeR+6zgPOIsbM7aJIiNhKCz5/vVnGCcriRaAhKGwTPOmlaZxXkq5KDIShsJzAaeKpi02djgN7YK5uUXDkDAUhxvoSTqNQbZZjHgvptt1XwmDEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEK0ZAD8H0htM9oeYeLiAAAAAElFTkSuQmCC"}))))}var xt,bt,wt=a.forwardRef(_t),kt=(n.p,["title","titleId"]);function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function St(e,t){var n=e.title,r=e.titleId,i=Et(e,kt);return a.createElement("svg",Ct({width:185,height:132,viewBox:"0 0 185 132",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,xt||(xt=a.createElement("rect",{width:185,height:132,fill:"url(#pattern7)"})),bt||(bt=a.createElement("defs",null,a.createElement("pattern",{id:"pattern7",patternContentUnits:"objectBoundingBox",width:1,height:1},a.createElement("use",{xlinkHref:"#image0_255_18633",transform:"translate(0 -0.003108) scale(0.00512821 0.00718726)"})),a.createElement("image",{id:"image0_255_18633",width:195,height:140,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAACMCAYAAADBcR0TAAALKklEQVR4nO3de7BVVR0H8O+9yDOFAoS6YhZgoIRE4xjmo1IpMMs/xB5amKaRQoJKE01OSVHaQyLppeCkTo+hGBTLHmY6laNhWKgVEI8CH2mK3isoGY/brDnfPffHepyz97n7XI7x/cycufus/Tjn7LPXWr/12OdCRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERKQRWso85mNPPBukHWCmAVgIYCCAvQA6eY47+Uip9j1k61r58I+THf9xAN8G8K3INv+3RrQNLu2jHRSkSHe8E8Dh++kMugy4GMASAC8Fa6WmVp2iUi3cz6//cwD/DVIlF2WGcq0D8P39+PozDqQQqWzKDOWbtZ9e9xuu2RakSm7KDOXrAPClHn7N7QA+GaRKIcoMjfG5Hm7EXgRgV5AqhSgzNMZuAFf00Gs9DGBZkCqFKTM0juvv/3cPvM45QYrUReMMjXU6gEUAjua53s1X6/Qe4CCdG7UcDaBPzne1FMBfg1SpS7WRz8I0Ap3Un5lhj+n67PSW3fjAeACrc2YG10YYBGBnsOYAohHol5+8F+x1BWqFiw/0jFA2tRmax/sAvD3nu3Gh0Y1BqnRLT9UMHwMwEsDdAO4M1obeCmBIkFopCZ8C8Eiwpou7oA7x0lwY8gKAJwCsD/aomArgRI4grw3Wph0HYHhirXutv3P5DQCOBHBHsFXFd4OUtA8n11TaHK9NhMAutGpnZtoTrAUmADiD73FNsLbLCADnAfgzp4DEuHNyEoBRDBNf4Pm4C8CLke3BzoDX8VxUi7ndd3wCgB8B2BysrVPshNUt0Wa4GsA883wKgF8FW3W5BsCngtR9bQTwZTYgrdsAnBlsvS/3BV7pfYlHAPgnl5/il7072DM0i5PjqmkD8C/TPnCDY1/ztv9KgUGzHwI4N0iteC+AlUFq6FG+76+aNQMAPM2/boxkKIAdwZ4VD7N944wxGT7zdU4N6R/sWelh+zx726yTAfyWz3/BzoeY17BQczaNaBs8OrJNXRodJg3yMgI4baCas6usy4zm7MzpJq1fjozgTGTJN8mkHWmWh/N953FWjW062UsEM1XiaW+btgIZwTWyLwxSu+Q5d+DMWpcBr/LexwAu92UBEePWjTXpR3vbLAcwx2QEV4vfxwLBGQbgm5FpK28yy+Mir5ux39WoYG03NDozTA9SKiWJfwKtDrP8BQBH8XEsj2fn3yzhlwOGfNvNugu4n3utt/Dk2/U3mGU707NIo9QebylDpuMZ5rnMdihrGjBMcp/9Zu8YRWL/2TXenw0/XM33ZvOYxHaJDQHdSPlhXPYn+O1FnLtmnjdr7Ej720wB8STDpGMY0hzB+y0yi1n7ZOznssf32ZH2VM1Vl0a3GT7Ov5v55WSlgft7SbB1hY1l1/GReRDAA4x5e7HnxVWvv+aXafdd7e37AKvXFXw+nrH1Vu9CqHUjTuq9/gXAH4MtuuyMhBMnMmzMY32OdoV9P1sZElqrGKJuAfBKpp8K4JbIZ06dA//82OXJZtmNr9xrnruLeCaAd5kS3dUSz0SOk3rtItsV1siaYYKpAVw1+QlT2lyQiCd9rwpSKhfFNvP8sGCLimFBSiXTWG3BFvV7RR17Fpnu/YEgpbqDE2ufNzE3TGhUBntxnm5qbWsaQ6elVToqYo37TEeQUpJGZoa5Zvke/v0l//at0SOSiVWDw02pBlbHMbGTdpz3PLVvPYqey9lV4nLf0hq9OzHPRdKcU7y4e3WwRf1sT5mrsTewA2WyKSzWMHS6qErJ3pvbxx6vDrYuSaPCJFfqv5/Le01ocpPpJZjlxe0xh/J2xhaelAls+GUDU64E+X1kP7DUH8iLdCDj+GvN+vWmB6kMsyO9PJsAnB9pNDvzg5Q49xkvj66p7gRvsuAANnztXKa7S84Mf2Aol4XHh7MDZR5rcxc2/TRHO2lslXszGhbaN+rAH2TuBrvJ2rm8gqX9wYzZx9cYM/giG3kt7C3q5a2fyf7rmGXsHm1NhAIzgpTuGeo1CMEvdWQiM6z1erRS3Pv/EIDvJNZbtqs8azynLMtZOxflRsb/xh4yez/4EPb2ncmuVbfd7Ylj9/Jq/x7RqMwwk3872c2W2cPuvKyf/VJWlyl9EtMTtnKc4fpgTZd+QUqFy3yfNX3aZXHtovtNuLSXDeZUo3pWzlK5hf32N+a4v9lmhg7+YsZAjpvYz38Gz2FqX1QJYfwGdGysajEz7xSGZZPYo5edmzaOh0xMhH8uxLs1SK0YxvdfukZkhnGmROrkl25PmG3wnsfMkirdb+NFltnBOPSeGo0ssNt1g3neztL43mDLcvzA6zqs5UHG2O+usR3YxnKZ/7JgTdpKnt9WlsbLuTyKoZsfpuXtWvXPu58ZxjAEdbXyz/gA20fns6bPLEhc2C68/GiQWtHGTF66RmSG2Wa51Xvuc6HURyKjkZmbmSHq4Rpu/2jESUuI9V7VcqEZjKplDjNE0Ub/XpayU9mtOoC1c2+OxGfaeQFn14Q/pSXTl7VNxo5tuNtdP83C6hRvvy183Rf5OZw3BkeviPVCZUYEKSUpuzfpIK+BtoHV4EPmscabdzIzOEqXVLdpHiPr3K+zxryYlHpu83wyZ1sgc12QkuYXdHd6A36f4UBm5lmvy/WkxJGP9S7WjWY560B4B3uTYlaZtHpuVW1YD2jZB55mutC2cdR1Iofas8dEDjZljqrR0OsJtqpv5WDcIZGH33dv96tWmlVTax6WdTbPab1meHOubvGOY9tRV3rTLpzBXobc7PX62Abx9yLtvd6cVZD5XTc+S+nKzgw2pl0SrO2y1ish7AVhL6pUIzim1du3yMVpv7R+HOF+PPJ4jCVsFkLYgbY57KpNPR6KhA7glI6rgtS0m5Jr9v3MsY6Hl7ya2BVE7zHPF5jlofye7uA4x3LWAseYbfwQeL5p5I/kDIAF3O4adijYGsd+bvt+q313vc1y7DPWrew2gx3UqlX9LzQ3stsTZLtP25Hff7xR7SKhjh1vaInUANZkDvxs9/YblGOC3zns2/fNZ0GSZ4Lg8TxfsfEV29uUagDfwAyRXdSXsu8fvFjP4tTo7EJLzR693DSOM89wfON2zi59PcMxXztH1B816XaAtVpm6Mi5XWFlZ4ZLeJJujXTd+X7M/vOx3qDSXM5s3VTwVx92cbBnLqv7VcEWaRsZgkxhyRPrVmzhBXa/iZPnMdOl7mew2mv8/OQVkSnpKdcnJjsuYu3Tx5ue7ZvKqSmDIlPQVzAUm864fyS3282a8T7WTn8Kjlqxmj1KM/jbs2NYk+5gZvsNM+Q2b7+VzOCjvNkLvkc4jeW0Gp+xsFgfcd0S9zNIflvYXsnDzUD9STfPba9IV2lMf25X7++49mfNHStk6n1PrtDaVeY90Lrts7mk+tZjivRCpeS56MAZt935QeOddc4Erqb0H01TZmgudxWYKzSE8b6URJmh+Vxc4B1dXXaPyoFMmaH5rK7yowG+AeyylBIoMzSn1F2AMZclfklEClJmaE5bI6PD1dT6kQXJQZmhec2pMnDmO5ejydINygzN67mC//SkyI+QSYQyQ3Obz8GqPE7OeeecJCgzNLfdvD8gr6WRW2MlJ2WG5reowJ1d43L8yp8k6CfpXx5O5RTqtsS0hhZOl1hX5beIRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERHoOgP8B8AQh8eu9aocAAAAASUVORK5CYII="}))))}var Tt,At=a.forwardRef(St),Mt=(n.p,["title","titleId"]);function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}function Pt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lt(e,t){var n=e.title,r=e.titleId,i=Pt(e,Mt);return a.createElement("svg",It({width:45,height:45,viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Tt||(Tt=a.createElement("path",{d:"M13.7918 6.28421C15.3262 5.12212 17.1994 4.49534 19.1243 4.49996C19.6643 4.49996 20.094 4.78121 20.3438 4.97471C20.6228 5.19521 20.8838 5.47646 21.1178 5.75771C21.2837 5.95923 21.3744 6.21218 21.3743 6.47321V14.625H18.933C18.6676 13.8743 18.1454 13.2417 17.4587 12.8389C16.772 12.436 15.965 12.2889 15.1803 12.4236C14.3956 12.5582 13.6838 12.9659 13.1706 13.5746C12.6575 14.1833 12.376 14.9538 12.376 15.75C12.376 16.5461 12.6575 17.3166 13.1706 17.9253C13.6838 18.534 14.3956 18.9417 15.1803 19.0764C15.965 19.211 16.772 19.0639 17.4587 18.661C18.1454 18.2582 18.6676 17.6256 18.933 16.875H21.3743V38.0587C21.3744 38.2253 21.3375 38.3898 21.2663 38.5404C21.1951 38.691 21.0913 38.8239 20.9625 38.9295C19.923 39.78 18.5325 40.5 16.8743 40.5C14.2058 40.5 12.219 39.1545 10.9343 37.5457C10.0112 36.3995 9.37901 35.0471 9.09152 33.6037C8.21735 33.3706 7.40683 32.9438 6.72002 32.355C5.47802 31.2907 4.49927 29.565 4.49927 27C4.49927 25.7467 4.58252 24.615 4.76927 23.625H11.8118C13.2428 23.625 14.4218 24.6937 14.6018 26.0752C13.8535 26.346 13.225 26.8725 12.8272 27.5616C12.4294 28.2508 12.288 29.0584 12.4278 29.8417C12.5676 30.6251 12.9797 31.3339 13.5913 31.8429C14.2029 32.3519 14.9747 32.6285 15.7704 32.6237C16.5662 32.619 17.3346 32.3332 17.9401 31.8169C18.5456 31.3006 18.9492 30.587 19.0796 29.802C19.2101 29.017 19.0589 28.2112 18.6529 27.5268C18.2469 26.8425 17.6122 26.3235 16.8608 26.0617C16.7659 24.7875 16.1928 23.5964 15.2564 22.7271C14.3199 21.8579 13.0895 21.3748 11.8118 21.375H5.49152C5.83577 20.7045 6.29702 20.1375 6.89777 19.7347C7.04973 19.6341 7.2092 19.5454 7.37477 19.4692C6.73577 17.5972 6.90227 15.4057 7.51877 13.6845C7.91252 12.5775 8.53802 11.5312 9.39752 10.8337C9.96452 10.3725 10.6395 10.0687 11.3775 10.0102C11.7015 8.47346 12.6128 7.20221 13.794 6.28421H13.7918ZM23.6243 32.625H25.3118C26.6544 32.625 27.9421 32.0916 28.8915 31.1422C29.8409 30.1928 30.3743 28.9051 30.3743 27.5625V23.4337C31.1249 23.1683 31.7575 22.6461 32.1603 21.9594C32.5632 21.2727 32.7103 20.4657 32.5757 19.681C32.441 18.8963 32.0333 18.1845 31.4246 17.6713C30.8159 17.1582 30.0454 16.8767 29.2493 16.8767C28.4531 16.8767 27.6826 17.1582 27.0739 17.6713C26.4652 18.1845 26.0575 18.8963 25.9229 19.681C25.7882 20.4657 25.9353 21.2727 26.3382 21.9594C26.741 22.6461 27.3736 23.1683 28.1243 23.4337V27.5625C28.1243 29.115 26.8643 30.375 25.3118 30.375H23.6243V6.47321C23.6242 6.21218 23.7148 5.95923 23.8808 5.75771C24.1125 5.47646 24.3758 5.19521 24.6548 4.97471C24.9023 4.78121 25.332 4.49996 25.8743 4.49996C27.7991 4.49534 29.6723 5.12212 31.2068 6.28421C32.388 7.20221 33.2993 8.47346 33.621 10.0102C34.359 10.0665 35.034 10.3725 35.601 10.8337C36.4605 11.5312 37.086 12.5775 37.4798 13.6845C38.0963 15.4057 38.2628 17.5995 37.6238 19.467C37.7858 19.5435 37.9455 19.6335 38.1008 19.737C38.7195 20.1487 39.1898 20.7382 39.5363 21.4335C40.218 22.7947 40.4993 24.6937 40.4993 27C40.4993 29.5672 39.5205 31.2907 38.2785 32.355C37.5917 32.9438 36.7812 33.3706 35.907 33.6037C35.682 34.8592 35.052 36.3127 34.0643 37.5457C32.7818 39.1545 30.7928 40.5 28.1243 40.5C26.4683 40.5 25.0755 39.78 24.0383 38.9295C23.909 38.8241 23.8049 38.6913 23.7333 38.5407C23.6617 38.3901 23.6244 38.2255 23.6243 38.0587V32.625ZM15.7493 14.625C15.4509 14.625 15.1648 14.7435 14.9538 14.9545C14.7428 15.1654 14.6243 15.4516 14.6243 15.75C14.6243 16.0483 14.7428 16.3345 14.9538 16.5455C15.1648 16.7564 15.4509 16.875 15.7493 16.875C16.0476 16.875 16.3338 16.7564 16.5448 16.5455C16.7557 16.3345 16.8743 16.0483 16.8743 15.75C16.8743 15.4516 16.7557 15.1654 16.5448 14.9545C16.3338 14.7435 16.0476 14.625 15.7493 14.625ZM15.7493 28.125C15.4509 28.125 15.1648 28.2435 14.9538 28.4545C14.7428 28.6654 14.6243 28.9516 14.6243 29.25C14.6243 29.5483 14.7428 29.8345 14.9538 30.0455C15.1648 30.2564 15.4509 30.375 15.7493 30.375C16.0476 30.375 16.3338 30.2564 16.5448 30.0455C16.7557 29.8345 16.8743 29.5483 16.8743 29.25C16.8743 28.9516 16.7557 28.6654 16.5448 28.4545C16.3338 28.2435 16.0476 28.125 15.7493 28.125ZM29.2493 21.375C29.5476 21.375 29.8338 21.2564 30.0448 21.0455C30.2557 20.8345 30.3743 20.5483 30.3743 20.25C30.3743 19.9516 30.2557 19.6654 30.0448 19.4545C29.8338 19.2435 29.5476 19.125 29.2493 19.125C28.9509 19.125 28.6647 19.2435 28.4538 19.4545C28.2428 19.6654 28.1243 19.9516 28.1243 20.25C28.1243 20.5483 28.2428 20.8345 28.4538 21.0455C28.6647 21.2564 28.9509 21.375 29.2493 21.375Z"})))}var zt,Ot,Dt,Rt,Ft,Bt,jt=a.forwardRef(Lt),Ut=(n.p,["title","titleId"]);function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt.apply(this,arguments)}function Nt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vt(e,t){var n=e.title,r=e.titleId,i=Nt(e,Ut);return a.createElement("svg",Zt({width:87,height:80,viewBox:"0 0 87 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,zt||(zt=a.createElement("path",{d:"M79.5641 40.1638C79.5641 45.4965 76.0271 50.8263 68.9914 54.8956C54.8934 63.037 32.0368 63.0384 17.9388 54.8956C10.4152 50.5492 6.94744 44.7623 7.45589 39.0713C7.41136 39.2762 7.37791 39.4834 7.35567 39.692C6.67774 47.1213 8.96355 52.224 17.9388 57.402C32.0368 65.5448 54.8934 65.5434 68.9914 57.402C77.0632 52.7386 79.7292 46.8249 79.5641 40.1638Z",fill:"url(#paint0_linear_2761_4803)"})),Ot||(Ot=a.createElement("g",{filter:"url(#filter0_di_2761_4803)"},a.createElement("path",{d:"M43.4662 61.0024C63.4036 61.0024 79.566 51.6673 79.566 40.152C79.566 28.6367 63.4036 19.3016 43.4662 19.3016C23.5289 19.3016 7.36642 28.6367 7.36642 40.152C7.36642 51.6673 23.5289 61.0024 43.4662 61.0024Z",fill:"url(#paint1_radial_2761_4803)"}),a.createElement("path",{d:"M79.5005 40.152C79.5005 45.8763 75.4827 51.0712 68.9599 54.8387C62.4387 58.6051 53.4255 60.9368 43.4662 60.9368C33.507 60.9368 24.4937 58.6051 17.9726 54.8387C11.4497 51.0712 7.43198 45.8763 7.43198 40.152C7.43198 34.4277 11.4497 29.2328 17.9726 25.4653C24.4937 21.6989 33.507 19.3672 43.4662 19.3672C53.4255 19.3672 62.4387 21.6989 68.9599 25.4653C75.4827 29.2328 79.5005 34.4277 79.5005 40.152Z",stroke:"url(#paint2_linear_2761_4803)",strokeWidth:.131111,strokeLinejoin:"round"}))),a.createElement("g",{style:{mixBlendMode:"multiply"},filter:"url(#filter1_f_2761_4803)"},Dt||(Dt=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.9433 41.4581C60.272 41.4003 62.5573 40.8305 64.6283 39.7914C67.1874 38.3524 68.1693 36.6201 68.2434 34.9979C68.3016 36.9446 67.7166 40.5458 64.6283 42.2836C62.557 43.3219 60.2719 43.8917 57.9433 43.9504C57.6686 43.9661 57.3931 43.9474 57.1233 43.8948C56.8787 43.8481 56.6431 43.7641 56.4254 43.6459L47.3443 38.5346L22.2497 24.1747L24.2142 23.3013L47.3431 36.0435L56.4242 41.1547C56.6422 41.2732 56.8782 41.3569 57.1233 41.4025C57.3929 41.4563 57.6686 41.475 57.9433 41.4581ZM67.0096 30.1112C67.0782 29.1978 67.0858 28.281 67.0324 27.3667C67.0324 27.4545 67.021 27.54 67.0085 27.6256C66.8523 28.5489 66.3857 29.3954 65.6822 30.0323C66.0648 30.3422 66.4172 30.6859 66.7348 31.059C66.8718 30.7573 66.9643 30.4382 67.0096 30.1112ZM53.1753 44.5015C53.1766 44.5413 53.1739 44.5811 53.1673 44.6204C52.9974 45.4266 52.6411 46.1844 52.1255 46.8363C51.61 47.4882 50.9487 48.0171 50.192 48.3827C46.9559 50.0133 43.3066 50.7022 39.6797 50.3672C37.3395 50.2423 35.0324 49.7717 32.8372 48.9716C31.4532 49.4117 30.0132 49.663 28.5584 49.7183C25.4426 49.7603 22.3652 49.0443 19.6051 47.6349C17.5759 46.428 15.7329 44.9465 14.1311 43.2348C13.9465 42.9226 13.8213 42.5804 13.7616 42.2248C13.7084 41.8842 13.7405 41.5361 13.8551 41.2103C13.9184 41.0366 14.0022 40.8706 14.1049 40.7158C11.5355 40.0641 10.0097 39.3691 8.66754 38.1921L7.62363 39.1535C9.31884 40.9683 11.3176 42.3851 13.7411 43.0526C13.6674 43.959 13.8022 44.8701 14.1357 45.7193C15.1256 47.2582 18.1271 49.285 19.6097 50.1183C22.329 51.6309 25.4357 52.3538 28.563 52.2017C30.0177 52.1463 31.4576 51.8954 32.8418 51.4562C35.0373 52.255 37.3443 52.7255 39.6843 52.8517C43.3113 53.187 46.9608 52.4976 50.1965 50.8661C50.9536 50.5007 51.6151 49.9719 52.1308 49.32C52.6466 48.668 53.003 47.9101 53.173 47.1038C53.1779 47.0737 53.1806 47.0432 53.181 47.0127C53.1808 46.9888 53.1815 46.8837 53.1826 46.7285C53.1868 46.1319 53.1961 44.796 53.1753 44.5015Z",fill:"#083090",fillOpacity:.4}))),Rt||(Rt=a.createElement("g",{filter:"url(#filter2_b_2761_4803)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.9426 39.8136C60.2713 39.7558 62.5566 39.186 64.6277 38.1469C67.1867 36.708 68.1686 34.9757 68.2428 33.3534C68.3009 35.3001 67.7159 38.9014 64.6277 40.6392C62.5563 41.6775 60.2712 42.2472 57.9426 42.3059C57.6679 42.3217 57.3924 42.303 57.1226 42.2503C56.878 42.2037 56.6425 42.1197 56.4247 42.0014L47.3436 36.8902L19.0946 21.0008C18.9609 20.9385 18.8429 20.8483 18.7491 20.7365C18.6552 20.6247 18.5879 20.4942 18.5517 20.3541C18.4993 20.0297 18.4765 17.8507 18.4993 17.3629C18.4998 17.3892 18.5018 17.4153 18.5038 17.4413C18.5061 17.4712 18.5084 17.501 18.5084 17.5307C18.5175 17.6418 18.5323 17.7529 18.5517 17.864C18.5879 18.0038 18.6552 18.134 18.7488 18.2456C18.8424 18.3572 18.9601 18.4473 19.0934 18.5096L47.3425 34.399L56.4236 39.5103C56.6415 39.6288 56.8775 39.7124 57.1226 39.758C57.3922 39.8119 57.6679 39.8305 57.9426 39.8136ZM67.0092 28.4667C67.0778 27.5533 67.0854 26.6365 67.032 25.7222C67.032 25.8099 67.0206 25.8955 67.008 25.981C66.8519 26.9043 66.3853 27.7509 65.6817 28.3878C66.0644 28.6976 66.4167 29.0413 66.7343 29.4145C66.8713 29.1128 66.9639 28.7937 67.0092 28.4667ZM6.47535 28.6909C6.75931 29.2461 7.16382 29.7346 7.66084 30.1223C7.26079 30.3766 6.9191 30.7087 6.65728 31.0979C6.20779 29.7449 5.99122 28.3286 6.01637 26.9067C6.03477 27.5268 6.19138 28.1356 6.47535 28.6909ZM53.1691 42.9759C53.1757 42.9366 53.1784 42.8968 53.177 42.857C53.1979 43.1515 53.1885 44.4874 53.1843 45.084C53.1832 45.2392 53.1825 45.3443 53.1827 45.3682C53.1823 45.3987 53.1797 45.4292 53.1748 45.4593C53.0048 46.2656 52.6484 47.0236 52.1326 47.6755C51.6168 48.3274 50.9553 48.8562 50.1983 49.2216C46.9625 50.8532 43.3131 51.5425 39.686 51.2073C37.346 51.081 35.0391 50.6105 32.8436 49.8117C31.4593 50.2509 30.0194 50.5018 28.5647 50.5572C25.4374 50.7093 22.3307 49.9864 19.6114 48.4738C18.1289 47.6405 15.1273 45.6138 14.1374 44.0748C13.8039 43.2256 13.6691 42.3145 13.7429 41.4081C11.3193 40.7406 9.13616 39.4249 7.44095 37.6102C6.68153 36.746 6.27089 35.6421 6.28572 34.5045C6.28686 34.4112 6.27888 33.3189 6.25949 32.5745C6.36688 33.5262 6.77995 34.4206 7.43981 35.1301C9.21975 37.0496 11.5373 38.4196 14.1066 39.0713C14.004 39.2261 13.9201 39.3921 13.8569 39.5658C13.7422 39.8917 13.7101 40.2397 13.7634 40.5803C13.8231 40.9359 13.9482 41.2781 14.1329 41.5903C15.7346 43.302 17.5777 44.7835 19.6068 45.9904C22.3669 47.3998 25.4443 48.1159 28.5602 48.0738C30.015 48.0185 31.4549 47.7672 32.839 47.3271C35.0341 48.1272 37.3413 48.5978 39.6814 48.7227C43.3084 49.0577 46.9576 48.3688 50.1937 46.7382C50.9505 46.3726 51.6117 45.8437 52.1273 45.1918C52.6428 44.5399 52.9991 43.7821 53.1691 42.9759Z",fill:"url(#paint3_linear_2761_4803)"}))),Ft||(Ft=a.createElement("g",{filter:"url(#filter3_bi_2761_4803)"},a.createElement("mask",{id:"path-7-inside-1_2761_4803",fill:"white"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.6748 28.3878C66.924 29.3596 67.7983 30.7152 68.1552 32.2334C68.2068 32.4765 68.2389 32.7232 68.251 32.9712C68.3205 34.7068 67.3934 36.5958 64.6336 38.1514C62.5626 39.1905 60.2773 39.7603 57.9485 39.8181C57.6739 39.835 57.3982 39.8164 57.1286 39.7625C56.8834 39.7169 56.6474 39.6332 56.4295 39.5148L51.3684 36.668L47.3484 34.4068L19.0994 18.5174C18.966 18.4551 18.8483 18.365 18.7547 18.2534C18.6611 18.1419 18.5938 18.0116 18.5577 17.8719C18.5383 17.7608 18.5235 17.6496 18.5143 17.5385C18.4922 17.3056 18.503 17.0708 18.5463 16.8407C18.5984 16.6012 18.7045 16.3759 18.8567 16.1811C19.0089 15.9863 19.2036 15.8268 19.4267 15.714C22.0203 14.3391 24.8914 13.5339 27.8383 13.3551C30.2936 13.1418 32.7674 13.4391 35.0959 14.2273C36.1376 13.7614 37.2633 13.5001 38.4088 13.4584C40.2949 13.3818 42.1815 13.6002 43.9968 14.1051C46.6418 14.7008 49.066 15.9979 51.0012 17.853C51.284 17.7963 51.5782 17.7496 51.885 17.7152C53.1208 17.5894 54.3691 17.6482 55.5867 17.8897C58.3138 18.4898 60.9207 19.5237 63.3027 20.9497C65.9576 22.4376 66.9635 23.9998 67.033 25.3943C67.043 25.5902 67.0346 25.7866 67.0079 25.981C66.8499 26.9051 66.3809 27.7518 65.6748 28.3878ZM52.6243 42.1227C52.802 42.2164 52.9535 42.3511 53.0656 42.5149C53.1082 42.5798 53.1394 42.6511 53.158 42.726C53.1786 42.8079 53.1817 42.893 53.1671 42.976C52.9987 43.7846 52.6428 44.545 52.1268 45.1992C51.6107 45.8534 50.9481 46.384 50.1895 46.7506C46.9536 48.3817 43.3042 49.0706 39.6772 48.7351C37.337 48.6101 35.0299 48.1396 32.8347 47.3395C31.4507 47.7795 30.0107 48.0308 28.5559 48.0862C25.4286 48.2383 22.3219 47.5153 19.6026 46.0028C18.5595 45.4266 17.5544 44.7876 16.593 44.0894L16.4608 43.9783C16.2806 43.8438 16.1004 43.7083 15.9385 43.5749C15.2017 42.9011 14.5484 42.1455 13.9918 41.3238C13.9692 41.2779 13.9505 41.2303 13.9359 41.1815C13.8551 40.9908 13.7969 40.7918 13.7626 40.5882C13.7093 40.2476 13.7414 39.8996 13.8561 39.5737C13.9193 39.4 14.0031 39.234 14.1058 39.0792C11.5364 38.4275 9.21892 37.0575 7.43899 35.138C6.7476 34.4037 6.32881 33.4648 6.24954 32.4713C6.24776 32.31 6.26151 32.1489 6.2906 31.9901C6.37622 31.605 6.54179 31.241 6.77713 30.9206C7.01248 30.6001 7.31261 30.33 7.65909 30.1267C7.16097 29.7385 6.75578 29.249 6.47176 28.6925C6.18774 28.1359 6.03173 27.5257 6.01462 26.9044C6.01516 26.6137 6.04766 26.3239 6.11155 26.0399C6.44542 25.016 6.98897 24.0687 7.70932 23.2553C8.42968 22.4419 9.31187 21.7793 10.3026 21.3076C10.9263 21.0057 11.6091 20.8371 12.3051 20.8131C12.9179 20.78 13.5321 20.7819 14.1446 20.8187C14.5468 20.8333 14.9401 20.9378 15.2941 21.1242L24.9283 26.5433L28.0678 28.3089L52.6243 42.1227Z"})),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.6748 28.3878C66.924 29.3596 67.7983 30.7152 68.1552 32.2334C68.2068 32.4765 68.2389 32.7232 68.251 32.9712C68.3205 34.7068 67.3934 36.5958 64.6336 38.1514C62.5626 39.1905 60.2773 39.7603 57.9485 39.8181C57.6739 39.835 57.3982 39.8164 57.1286 39.7625C56.8834 39.7169 56.6474 39.6332 56.4295 39.5148L51.3684 36.668L47.3484 34.4068L19.0994 18.5174C18.966 18.4551 18.8483 18.365 18.7547 18.2534C18.6611 18.1419 18.5938 18.0116 18.5577 17.8719C18.5383 17.7608 18.5235 17.6496 18.5143 17.5385C18.4922 17.3056 18.503 17.0708 18.5463 16.8407C18.5984 16.6012 18.7045 16.3759 18.8567 16.1811C19.0089 15.9863 19.2036 15.8268 19.4267 15.714C22.0203 14.3391 24.8914 13.5339 27.8383 13.3551C30.2936 13.1418 32.7674 13.4391 35.0959 14.2273C36.1376 13.7614 37.2633 13.5001 38.4088 13.4584C40.2949 13.3818 42.1815 13.6002 43.9968 14.1051C46.6418 14.7008 49.066 15.9979 51.0012 17.853C51.284 17.7963 51.5782 17.7496 51.885 17.7152C53.1208 17.5894 54.3691 17.6482 55.5867 17.8897C58.3138 18.4898 60.9207 19.5237 63.3027 20.9497C65.9576 22.4376 66.9635 23.9998 67.033 25.3943C67.043 25.5902 67.0346 25.7866 67.0079 25.981C66.8499 26.9051 66.3809 27.7518 65.6748 28.3878ZM52.6243 42.1227C52.802 42.2164 52.9535 42.3511 53.0656 42.5149C53.1082 42.5798 53.1394 42.6511 53.158 42.726C53.1786 42.8079 53.1817 42.893 53.1671 42.976C52.9987 43.7846 52.6428 44.545 52.1268 45.1992C51.6107 45.8534 50.9481 46.384 50.1895 46.7506C46.9536 48.3817 43.3042 49.0706 39.6772 48.7351C37.337 48.6101 35.0299 48.1396 32.8347 47.3395C31.4507 47.7795 30.0107 48.0308 28.5559 48.0862C25.4286 48.2383 22.3219 47.5153 19.6026 46.0028C18.5595 45.4266 17.5544 44.7876 16.593 44.0894L16.4608 43.9783C16.2806 43.8438 16.1004 43.7083 15.9385 43.5749C15.2017 42.9011 14.5484 42.1455 13.9918 41.3238C13.9692 41.2779 13.9505 41.2303 13.9359 41.1815C13.8551 40.9908 13.7969 40.7918 13.7626 40.5882C13.7093 40.2476 13.7414 39.8996 13.8561 39.5737C13.9193 39.4 14.0031 39.234 14.1058 39.0792C11.5364 38.4275 9.21892 37.0575 7.43899 35.138C6.7476 34.4037 6.32881 33.4648 6.24954 32.4713C6.24776 32.31 6.26151 32.1489 6.2906 31.9901C6.37622 31.605 6.54179 31.241 6.77713 30.9206C7.01248 30.6001 7.31261 30.33 7.65909 30.1267C7.16097 29.7385 6.75578 29.249 6.47176 28.6925C6.18774 28.1359 6.03173 27.5257 6.01462 26.9044C6.01516 26.6137 6.04766 26.3239 6.11155 26.0399C6.44542 25.016 6.98897 24.0687 7.70932 23.2553C8.42968 22.4419 9.31187 21.7793 10.3026 21.3076C10.9263 21.0057 11.6091 20.8371 12.3051 20.8131C12.9179 20.78 13.5321 20.7819 14.1446 20.8187C14.5468 20.8333 14.9401 20.9378 15.2941 21.1242L24.9283 26.5433L28.0678 28.3089L52.6243 42.1227Z",fill:"url(#paint4_linear_2761_4803)",fillOpacity:.35}),a.createElement("path",{d:"M68.1552 32.2334L68.2835 32.2062L68.2828 32.2034L68.1552 32.2334ZM65.6748 28.3878L65.587 28.2903L65.4707 28.3951L65.5943 28.4912L65.6748 28.3878ZM68.251 32.9712L68.382 32.966L68.3819 32.9648L68.251 32.9712ZM64.6336 38.1514L64.6925 38.2687L64.698 38.2656L64.6336 38.1514ZM57.9485 39.8181L57.9453 39.6869L57.9405 39.6872L57.9485 39.8181ZM57.1286 39.7625L57.1542 39.634L57.1526 39.6336L57.1286 39.7625ZM56.4295 39.5148L56.3652 39.629L56.3669 39.6299L56.4295 39.5148ZM51.3684 36.668L51.3041 36.7823V36.7823L51.3684 36.668ZM47.3484 34.4068L47.4127 34.2926V34.2925L47.3484 34.4068ZM19.0994 18.5174L19.1638 18.4028L19.1549 18.3987L19.0994 18.5174ZM18.5577 17.8719L18.4281 17.8945L18.4307 17.9047L18.5577 17.8719ZM18.5143 17.5385L18.645 17.5278L18.6449 17.5261L18.5143 17.5385ZM18.5463 16.8407L18.4181 16.8128L18.4174 16.8165L18.5463 16.8407ZM18.8567 16.1811L18.96 16.2618V16.2618L18.8567 16.1811ZM19.4267 15.714L19.4858 15.8311L19.4881 15.8299L19.4267 15.714ZM27.8383 13.3551L27.8463 13.486L27.8497 13.4857L27.8383 13.3551ZM35.0959 14.2273L35.0538 14.3515L35.1025 14.368L35.1494 14.347L35.0959 14.2273ZM38.4088 13.4584L38.4135 13.5894L38.4141 13.5894L38.4088 13.4584ZM43.9968 14.1051L43.9616 14.2316L43.968 14.233L43.9968 14.1051ZM51.0012 17.853L50.9104 17.9476L50.9598 17.995L51.0269 17.9815L51.0012 17.853ZM51.885 17.7152L51.8717 17.5848L51.8703 17.5849L51.885 17.7152ZM55.5867 17.8897L55.6149 17.7616L55.6122 17.761L55.5867 17.8897ZM63.3027 20.9497L63.2354 21.0623L63.2386 21.0641L63.3027 20.9497ZM67.033 25.3943L66.9021 25.4009L66.9021 25.401L67.033 25.3943ZM67.0079 25.981L67.1372 26.0031L67.1378 25.9988L67.0079 25.981ZM53.0656 42.5149L53.1752 42.443L53.1738 42.4408L53.0656 42.5149ZM52.6243 42.1227L52.5599 42.237L52.5631 42.2386L52.6243 42.1227ZM53.158 42.726L53.0307 42.7576L53.0308 42.7581L53.158 42.726ZM53.1671 42.976L53.2955 43.0028L53.2962 42.9988L53.1671 42.976ZM52.1268 45.1992L52.0238 45.118L52.1268 45.1992ZM50.1895 46.7506L50.1324 46.6325L50.1305 46.6335L50.1895 46.7506ZM39.6772 48.7351L39.6893 48.6044L39.6842 48.6042L39.6772 48.7351ZM32.8347 47.3395L32.8796 47.2163L32.8376 47.201L32.795 47.2145L32.8347 47.3395ZM28.5559 48.0862L28.5509 47.9552L28.5496 47.9552L28.5559 48.0862ZM19.6026 46.0028L19.6663 45.8882L19.666 45.888L19.6026 46.0028ZM16.593 44.0894L16.5085 44.19L16.516 44.1955L16.593 44.0894ZM16.4608 43.9783L16.5452 43.8777L16.5392 43.8732L16.4608 43.9783ZM15.9385 43.5749L15.8498 43.6718L15.8551 43.6761L15.9385 43.5749ZM13.9918 41.3238L13.8742 41.3817L13.8781 41.3898L13.8832 41.3973L13.9918 41.3238ZM13.9359 41.1815L14.0615 41.1439L14.0594 41.137L14.0566 41.1304L13.9359 41.1815ZM13.7626 40.5882L13.633 40.6084L13.6333 40.61L13.7626 40.5882ZM13.8561 39.5737L13.7329 39.5288L13.7324 39.5302L13.8561 39.5737ZM14.1058 39.0792L14.2151 39.1517L14.3173 38.9976L14.1381 38.9522L14.1058 39.0792ZM7.43899 35.138L7.53513 35.0489L7.53445 35.0481L7.43899 35.138ZM6.24954 32.4713L6.11813 32.4727L6.11885 32.4817L6.24954 32.4713ZM6.2906 31.9901L6.16252 31.9617L6.16163 31.9665L6.2906 31.9901ZM6.77713 30.9206L6.88281 30.9982L6.77713 30.9206ZM7.65909 30.1267L7.72543 30.2398L7.89204 30.1421L7.73969 30.0233L7.65909 30.1267ZM6.47176 28.6925L6.58854 28.6329L6.47176 28.6925ZM6.01462 26.9044L5.88345 26.9042L5.88356 26.908L6.01462 26.9044ZM6.11155 26.0399L5.98635 25.9991L5.98364 26.0112L6.11155 26.0399ZM10.3026 21.3076L10.3589 21.426L10.3597 21.4256L10.3026 21.3076ZM12.3051 20.8131L12.3096 20.9442L12.3122 20.944L12.3051 20.8131ZM14.1446 20.8187L14.1367 20.9496L14.1398 20.9497L14.1446 20.8187ZM15.2941 21.1242L15.3584 21.0099L15.3552 21.0082L15.2941 21.1242ZM24.9283 26.5433L24.864 26.6576L24.864 26.6576L24.9283 26.5433ZM28.0678 28.3089L28.1321 28.1946L28.1321 28.1946L28.0678 28.3089ZM68.2828 32.2034C67.919 30.6556 67.0278 29.2742 65.7553 28.2843L65.5943 28.4912C66.8202 29.445 67.6777 30.7748 68.0275 32.2634L68.2828 32.2034ZM68.3819 32.9648C68.3695 32.7098 68.3365 32.4562 68.2834 32.2062L68.0269 32.2607C68.0771 32.4969 68.1083 32.7366 68.12 32.9776L68.3819 32.9648ZM64.698 38.2656C67.4889 36.6925 68.454 34.7629 68.382 32.966L68.12 32.9765C68.1871 34.6508 67.2979 36.4991 64.5692 38.0372L64.698 38.2656ZM57.9518 39.9492C60.2997 39.8909 62.604 39.3164 64.6924 38.2686L64.5748 38.0342C62.5211 39.0646 60.2548 39.6297 57.9453 39.687L57.9518 39.9492ZM57.1029 39.8911C57.3836 39.9471 57.6707 39.9666 57.9566 39.949L57.9405 39.6872C57.6771 39.7035 57.4127 39.6856 57.1542 39.634L57.1029 39.8911ZM56.3669 39.6299C56.5969 39.755 56.846 39.8433 57.1046 39.8914L57.1526 39.6336C56.9209 39.5905 56.6979 39.5115 56.4921 39.3996L56.3669 39.6299ZM51.3041 36.7823L56.3652 39.629L56.4938 39.4005L51.4326 36.5537L51.3041 36.7823ZM47.2841 34.5211L51.3041 36.7823L51.4326 36.5537L47.4127 34.2926L47.2841 34.5211ZM19.0351 18.6317L47.2841 34.5211L47.4127 34.2925L19.1636 18.4032L19.0351 18.6317ZM18.6543 18.3377C18.7603 18.4641 18.8934 18.5659 19.0439 18.6362L19.1549 18.3987C19.0386 18.3444 18.9364 18.2659 18.8552 18.1692L18.6543 18.3377ZM18.4307 17.9047C18.4718 18.0635 18.5482 18.2113 18.6543 18.3377L18.8552 18.1692C18.774 18.0724 18.7158 17.9597 18.6846 17.839L18.4307 17.9047ZM18.3837 17.5493C18.3932 17.6648 18.4085 17.7799 18.4285 17.8944L18.6868 17.8493C18.668 17.7416 18.6538 17.6345 18.645 17.5278L18.3837 17.5493ZM18.4174 16.8165C18.3719 17.0586 18.3606 17.3057 18.3838 17.5509L18.6449 17.5261C18.6239 17.3055 18.6341 17.083 18.6751 16.865L18.4174 16.8165ZM18.7534 16.1004C18.5891 16.3106 18.4746 16.5539 18.4182 16.8128L18.6744 16.8686C18.7223 16.6485 18.8198 16.4413 18.96 16.2618L18.7534 16.1004ZM19.3675 15.597C19.1274 15.7184 18.9176 15.8902 18.7534 16.1004L18.96 16.2618C19.1002 16.0824 19.2797 15.9352 19.4858 15.831L19.3675 15.597ZM27.8304 13.2242C24.8648 13.4042 21.9755 14.2144 19.3653 15.5982L19.4881 15.8299C22.0651 14.4637 24.9179 13.6637 27.8463 13.4859L27.8304 13.2242ZM35.1379 14.1031C32.7922 13.3091 30.3003 13.0096 27.827 13.2244L27.8497 13.4857C30.2869 13.274 32.7425 13.5691 35.0538 14.3515L35.1379 14.1031ZM38.404 13.3274C37.2418 13.3697 36.0995 13.6348 35.0423 14.1076L35.1494 14.347C36.1757 13.888 37.2849 13.6305 38.4135 13.5894L38.404 13.3274ZM44.0319 13.9788C42.2034 13.4702 40.3032 13.2503 38.4034 13.3274L38.4141 13.5894C40.2866 13.5134 42.1595 13.7302 43.9616 14.2314L44.0319 13.9788ZM51.0919 17.7583C49.1393 15.8866 46.6936 14.578 44.0256 13.9772L43.968 14.233C46.5899 14.8235 48.9927 16.1093 50.9104 17.9476L51.0919 17.7583ZM51.8703 17.5849C51.5597 17.6198 51.2618 17.667 50.9754 17.7244L51.0269 17.9815C51.3061 17.9256 51.5967 17.8795 51.8996 17.8455L51.8703 17.5849ZM55.6122 17.761C54.3819 17.5171 53.1205 17.4576 51.8717 17.5848L51.8983 17.8456C53.1212 17.7211 54.3564 17.7793 55.5612 18.0183L55.6122 17.761ZM63.3701 20.8373C60.9758 19.4039 58.3557 18.3648 55.6149 17.7616L55.5586 18.0177C58.2719 18.6149 60.8655 19.6435 63.2354 21.0622L63.3701 20.8373ZM67.164 25.3878C67.0911 23.9281 66.0395 22.3331 63.3668 20.8354L63.2386 21.0641C65.8758 22.542 66.8358 24.0716 66.9021 25.4009L67.164 25.3878ZM67.1378 25.9988C67.1656 25.7963 67.1744 25.5917 67.164 25.3877L66.9021 25.401C66.9116 25.5887 66.9036 25.7769 66.878 25.9632L67.1378 25.9988ZM65.7625 28.4852C66.4902 27.8298 66.9741 26.9567 67.1372 26.0031L66.8787 25.9589C66.7257 26.8536 66.2716 27.6738 65.587 28.2903L65.7625 28.4852ZM53.1738 42.4408C53.0495 42.2592 52.8817 42.1103 52.6854 42.0067L52.5631 42.2386C52.7222 42.3226 52.8574 42.4429 52.9574 42.589L53.1738 42.4408ZM53.2852 42.6944C53.2631 42.6051 53.2259 42.5202 53.1752 42.443L52.956 42.5868C52.9905 42.6394 53.0157 42.6972 53.0307 42.7576L53.2852 42.6944ZM53.2962 42.9988C53.3141 42.8975 53.3103 42.7937 53.2851 42.6939L53.0308 42.7581C53.047 42.822 53.0494 42.8884 53.038 42.9532L53.2962 42.9988ZM52.2297 45.2804C52.7582 44.6104 53.1228 43.8314 53.2954 43.0028L53.0387 42.9493C52.8745 43.7378 52.5274 44.4796 52.0238 45.118L52.2297 45.2804ZM50.2465 46.8686C51.0228 46.4935 51.7012 45.9503 52.2297 45.2804L52.0238 45.118C51.5202 45.7564 50.8734 46.2745 50.1324 46.6325L50.2465 46.8686ZM39.6651 48.8656C43.3164 49.2034 46.9905 48.5099 50.2485 46.8677L50.1305 46.6335C46.9166 48.2534 43.2919 48.9378 39.6893 48.6045L39.6651 48.8656ZM32.7898 47.4627C34.9972 48.2672 37.3171 48.7404 39.6702 48.866L39.6842 48.6042C37.3569 48.4799 35.0626 48.0119 32.8796 47.2163L32.7898 47.4627ZM28.5609 48.2172C30.0275 48.1614 31.4791 47.9081 32.8745 47.4644L32.795 47.2145C31.4222 47.651 29.994 47.9003 28.5509 47.9552L28.5609 48.2172ZM19.5389 46.1174C22.2797 47.6419 25.4107 48.3704 28.5623 48.2171L28.5496 47.9552C25.4465 48.1061 22.3641 47.3888 19.6663 45.8882L19.5389 46.1174ZM16.516 44.1955C17.4817 44.8968 18.4914 45.5388 19.5392 46.1175L19.666 45.888C18.6276 45.3145 17.6271 44.6783 16.6701 43.9833L16.516 44.1955ZM16.3764 44.0787L16.5087 44.1898L16.6774 43.989L16.5451 43.8779L16.3764 44.0787ZM15.8551 43.6761C16.0198 43.8117 16.2023 43.949 16.3824 44.0834L16.5392 43.8732C16.3588 43.7386 16.181 43.6048 16.0218 43.4737L15.8551 43.6761ZM13.8832 41.3973C14.4456 42.2276 15.1057 42.9909 15.85 43.6717L16.0269 43.4782C15.2977 42.8112 14.6511 42.0635 14.1003 41.2502L13.8832 41.3973ZM13.8103 41.2191C13.827 41.2749 13.8484 41.3293 13.8742 41.3817L14.1094 41.2658C14.09 41.2265 14.074 41.1857 14.0615 41.1439L13.8103 41.2191ZM13.6333 40.61C13.6694 40.8237 13.7304 41.0326 13.8152 41.2327L14.0566 41.1304C13.9798 40.949 13.9245 40.7598 13.8918 40.5663L13.6333 40.61ZM13.7324 39.5302C13.6105 39.8764 13.5764 40.2464 13.633 40.6084L13.8921 40.5679C13.8422 40.2488 13.8722 39.9227 13.9797 39.6172L13.7324 39.5302ZM13.9966 39.0068C13.8882 39.1701 13.7997 39.3454 13.7329 39.5288L13.9793 39.6185C14.039 39.4546 14.1181 39.2979 14.2151 39.1517L13.9966 39.0068ZM7.34285 35.2272C9.14021 37.1654 11.48 38.5485 14.0736 39.2063L14.1381 38.9522C11.5928 38.3066 9.29764 36.9495 7.53513 35.0489L7.34285 35.2272ZM6.11885 32.4817C6.20052 33.5053 6.63197 34.4721 7.34353 35.2279L7.53445 35.0481C6.86323 34.3352 6.45711 33.4242 6.38024 32.4608L6.11885 32.4817ZM6.16163 31.9665C6.13103 32.1335 6.11657 32.303 6.11844 32.4727L6.38065 32.4698C6.37896 32.317 6.39199 32.1643 6.41956 32.0138L6.16163 31.9665ZM6.67146 30.843C6.42544 31.178 6.25221 31.5587 6.16261 31.9617L6.41858 32.0186C6.50023 31.6514 6.65815 31.3041 6.88281 30.9982L6.67146 30.843ZM7.59275 30.0137C7.23105 30.2258 6.91748 30.508 6.67146 30.843L6.88281 30.9982C7.10748 30.6923 7.39418 30.4341 7.72543 30.2398L7.59275 30.0137ZM6.35498 28.7521C6.6478 29.3259 7.06542 29.8302 7.57848 30.2302L7.73969 30.0233C7.25652 29.6467 6.86375 29.1721 6.58854 28.6329L6.35498 28.7521ZM5.88356 26.908C5.90121 27.5489 6.06214 28.1783 6.35498 28.7521L6.58854 28.6329C6.31334 28.0936 6.16225 27.5025 6.14568 26.9008L5.88356 26.908ZM5.98364 26.0112C5.91764 26.3045 5.88407 26.6039 5.88351 26.9042L6.14573 26.9047C6.14625 26.6236 6.17768 26.3433 6.23947 26.0687L5.98364 26.0112ZM7.61117 23.1684C6.87902 23.9951 6.32639 24.9581 5.9869 25.9993L6.2362 26.0806C6.56446 25.0739 7.09893 24.1423 7.80748 23.3422L7.61117 23.1684ZM10.2462 21.1892C9.23977 21.6684 8.34332 22.3417 7.61117 23.1684L7.80748 23.3422C8.51604 22.5421 9.38398 21.8902 10.3589 21.426L10.2462 21.1892ZM12.3006 20.6821C11.5864 20.7067 10.8857 20.8797 10.2454 21.1896L10.3597 21.4256C10.9669 21.1317 11.6317 20.9675 12.3096 20.9442L12.3006 20.6821ZM14.1525 20.6878C13.535 20.6507 12.9158 20.6488 12.298 20.6822L12.3122 20.944C12.92 20.9112 13.5292 20.913 14.1367 20.9496L14.1525 20.6878ZM15.3552 21.0082C14.9836 20.8126 14.5711 20.7029 14.1493 20.6877L14.1398 20.9497C14.5225 20.9636 14.8965 21.063 15.233 21.2403L15.3552 21.0082ZM24.9926 26.429L15.3584 21.01L15.2298 21.2385L24.864 26.6576L24.9926 26.429ZM28.1321 28.1946L24.9926 26.429L24.864 26.6576L28.0036 28.4232L28.1321 28.1946ZM52.6885 42.0084L28.1321 28.1946L28.0036 28.4232L52.56 42.2369L52.6885 42.0084Z",fill:"url(#paint5_linear_2761_4803)",mask:"url(#path-7-inside-1_2761_4803)"}))),Bt||(Bt=a.createElement("defs",null,a.createElement("filter",{id:"filter0_di_2761_4803",x:.810869,y:17.9905,width:85.3107,height:54.8118,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:5.24444}),a.createElement("feGaussianBlur",{stdDeviation:3.27778}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0980392 0 0 0 0 0.211765 0 0 0 0 0.482353 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2761_4803"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2761_4803",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2.62222}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4803"})),a.createElement("filter",{id:"filter1_f_2761_4803",x:5.0014,y:20.679,width:65.868,height:34.8775,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:1.31111,result:"effect1_foregroundBlur_2761_4803"})),a.createElement("filter",{id:"filter2_b_2761_4803",x:4.70329,y:16.0518,width:64.8543,height:36.5492,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:.655556}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4803"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4803",result:"shape"})),a.createElement("filter",{id:"filter3_bi_2761_4803",x:2.08128,y:9.35475,width:70.1066,height:43.3965,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:1.96667}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4803"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4803",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:.983333}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4803"})),a.createElement("linearGradient",{id:"paint0_linear_2761_4803",x1:76.1279,y1:27.2757,x2:9.4404,y2:48.7321,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#00298D"}),a.createElement("stop",{offset:.189268,stopColor:"#2349A7"}),a.createElement("stop",{offset:.646435,stopColor:"#3155AD"}),a.createElement("stop",{offset:1,stopColor:"#032C91"})),a.createElement("radialGradient",{id:"paint1_radial_2761_4803",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(43.4662 40.152) rotate(90) scale(28.6214 49.5543)"},a.createElement("stop",{offset:.0520833,stopColor:"#062E8D"}),a.createElement("stop",{offset:1,stopColor:"#2968FE"})),a.createElement("linearGradient",{id:"paint2_linear_2761_4803",x1:31.9512,y1:18.103,x2:51.5522,y2:59.7903,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:0}),a.createElement("stop",{offset:1,stopColor:"white",stopOpacity:.43})),a.createElement("linearGradient",{id:"paint3_linear_2761_4803",x1:68.309,y1:66.805,x2:21.0184,y2:-2.0613,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint4_linear_2761_4803",x1:6.01462,y1:10.2198,x2:63.3373,y2:55.0987,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.0529546,stopColor:"#3FA6E0"}),a.createElement("stop",{offset:.461273,stopColor:"#79CFFF"}),a.createElement("stop",{offset:1,stopColor:"#79CFFF"})),a.createElement("linearGradient",{id:"paint5_linear_2761_4803",x1:66.6261,y1:54.0076,x2:11.4166,y2:15.1172,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.923987,stopColor:"#BDE7FF",stopOpacity:0})))))}var Gt,qt,Wt=a.forwardRef(Vt),Ht=(n.p,["title","titleId"]);function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xt.apply(this,arguments)}function Yt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kt(e,t){var n=e.title,r=e.titleId,i=Yt(e,Ht);return a.createElement("svg",Xt({width:53,height:54,viewBox:"0 0 53 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Gt||(Gt=a.createElement("g",{filter:"url(#filter0_d_2726_2041)"},a.createElement("path",{d:"M35.4989 7.1875C35.4989 6.73995 35.6767 6.31072 35.9931 5.99426C36.3096 5.67779 36.7388 5.5 37.1864 5.5H42.8114C43.2589 5.5 43.6882 5.67779 44.0046 5.99426C44.3211 6.31072 44.4989 6.73995 44.4989 7.1875V12.8125C44.4989 13.2601 44.3211 13.6893 44.0046 14.0057C43.6882 14.3222 43.2589 14.5 42.8114 14.5C42.3638 14.5 41.9346 14.3222 41.6181 14.0057C41.3017 13.6893 41.1239 13.2601 41.1239 12.8125V11.26L31.0664 21.3175C30.75 21.6335 30.3211 21.811 29.8739 21.811C29.4267 21.811 28.9978 21.6335 28.6814 21.3175L23.1239 15.76L13.6289 25.255C13.4744 25.4208 13.2881 25.5538 13.0811 25.646C12.8741 25.7382 12.6506 25.7878 12.4241 25.7918C12.1975 25.7958 11.9724 25.7541 11.7623 25.6693C11.5522 25.5844 11.3613 25.4581 11.201 25.2978C11.0408 25.1376 10.9145 24.9467 10.8296 24.7366C10.7447 24.5265 10.7031 24.3014 10.707 24.0748C10.711 23.8482 10.7606 23.6248 10.8529 23.4178C10.9451 23.2108 11.0781 23.0245 11.2439 22.87L21.9314 12.1825C22.2478 11.8665 22.6767 11.689 23.1239 11.689C23.5711 11.689 24 11.8665 24.3164 12.1825L29.8739 17.74L38.7389 8.875H37.1864C36.7388 8.875 36.3096 8.69721 35.9931 8.38074C35.6767 8.06428 35.4989 7.63505 35.4989 7.1875ZM12.4364 32.5C12.8839 32.5 13.3132 32.6778 13.6296 32.9943C13.9461 33.3107 14.1239 33.7399 14.1239 34.1875V39.8125C14.1239 40.2601 13.9461 40.6893 13.6296 41.0057C13.3132 41.3222 12.8839 41.5 12.4364 41.5C11.9888 41.5 11.5596 41.3222 11.2431 41.0057C10.9267 40.6893 10.7489 40.2601 10.7489 39.8125V34.1875C10.7489 33.7399 10.9267 33.3107 11.2431 32.9943C11.5596 32.6778 11.9888 32.5 12.4364 32.5ZM23.1239 27.4375C23.1239 26.9899 22.9461 26.5607 22.6296 26.2443C22.3132 25.9278 21.8839 25.75 21.4364 25.75C20.9888 25.75 20.5596 25.9278 20.2431 26.2443C19.9267 26.5607 19.7489 26.9899 19.7489 27.4375V39.8125C19.7489 40.2601 19.9267 40.6893 20.2431 41.0057C20.5596 41.3222 20.9888 41.5 21.4364 41.5C21.8839 41.5 22.3132 41.3222 22.6296 41.0057C22.9461 40.6893 23.1239 40.2601 23.1239 39.8125V27.4375ZM30.4364 30.25C30.8839 30.25 31.3132 30.4278 31.6296 30.7443C31.9461 31.0607 32.1239 31.4899 32.1239 31.9375V39.8125C32.1239 40.2601 31.9461 40.6893 31.6296 41.0057C31.3132 41.3222 30.8839 41.5 30.4364 41.5C29.9888 41.5 29.5596 41.3222 29.2431 41.0057C28.9267 40.6893 28.7489 40.2601 28.7489 39.8125V31.9375C28.7489 31.4899 28.9267 31.0607 29.2431 30.7443C29.5596 30.4278 29.9888 30.25 30.4364 30.25ZM41.1239 22.9375C41.1239 22.4899 40.9461 22.0607 40.6296 21.7443C40.3132 21.4278 39.8839 21.25 39.4364 21.25C38.9888 21.25 38.5596 21.4278 38.2431 21.7443C37.9267 22.0607 37.7489 22.4899 37.7489 22.9375V39.8125C37.7489 40.2601 37.9267 40.6893 38.2431 41.0057C38.5596 41.3222 38.9888 41.5 39.4364 41.5C39.8839 41.5 40.3132 41.3222 40.6296 41.0057C40.9461 40.6893 41.1239 40.2601 41.1239 39.8125V22.9375Z"}))),qt||(qt=a.createElement("defs",null,a.createElement("filter",{id:"filter0_d_2726_2041",x:0,y:0,width:53,height:55,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:4}),a.createElement("feGaussianBlur",{stdDeviation:2}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2726_2041"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2726_2041",result:"shape"})))))}var Qt,Jt,$t,en,tn,nn,rn,an=a.forwardRef(Kt),on=(n.p,["title","titleId"]);function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}function ln(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function un(e,t){var n=e.title,r=e.titleId,i=ln(e,on);return a.createElement("svg",sn({width:86,height:80,viewBox:"0 0 86 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Qt||(Qt=a.createElement("path",{d:"M79.3346 42.4256C79.3346 47.7583 75.7976 53.0881 68.7618 57.1573C54.6638 65.2987 31.8072 65.3002 17.7092 57.1573C10.1857 52.8109 6.71792 47.0241 7.22636 41.3331C7.18184 41.538 7.14839 41.7452 7.12615 41.9538C6.44822 49.3831 8.73402 54.4858 17.7092 59.6638C31.8072 67.8066 54.6638 67.8052 68.7618 59.6638C76.8336 55.0004 79.4997 49.0867 79.3346 42.4256Z",fill:"url(#paint0_linear_2761_4693)"})),Jt||(Jt=a.createElement("g",{filter:"url(#filter0_di_2761_4693)"},a.createElement("path",{d:"M43.2371 63.2641C63.1745 63.2641 79.3369 53.9291 79.3369 42.4138C79.3369 30.8984 63.1745 21.5634 43.2371 21.5634C23.2998 21.5634 7.13733 30.8984 7.13733 42.4138C7.13733 53.9291 23.2998 63.2641 43.2371 63.2641Z",fill:"url(#paint1_radial_2761_4693)"}),a.createElement("path",{d:"M79.2714 42.4138C79.2714 48.1381 75.2536 53.333 68.7308 57.1004C62.2096 60.8669 53.1964 63.1986 43.2371 63.1986C33.2779 63.1986 24.2646 60.8669 17.7435 57.1004C11.2206 53.333 7.20288 48.1381 7.20288 42.4138C7.20288 36.6894 11.2206 31.4946 17.7435 27.7271C24.2646 23.9607 33.2779 21.629 43.2371 21.629C53.1964 21.629 62.2096 23.9607 68.7308 27.7271C75.2536 31.4946 79.2714 36.6894 79.2714 42.4138Z",stroke:"url(#paint2_linear_2761_4693)",strokeWidth:.131111,strokeLinejoin:"round"}))),a.createElement("g",{style:{mixBlendMode:"multiply"},filter:"url(#filter1_f_2761_4693)"},$t||($t=a.createElement("path",{d:"M60.7316 38.2752C60.7399 38.3676 60.7361 38.4607 60.7201 38.552C59.7724 42.4008 56.4132 45.8855 51.3182 48.3221C45.6305 50.8659 39.4461 52.0133 33.2535 51.6735C27.2556 51.5487 21.3833 49.8816 16.171 46.824C11.7491 44.0114 9.26845 40.3106 9.21381 36.4618V38.8747C9.22962 42.7605 11.7189 46.4969 16.1782 49.3376C21.3888 52.3918 27.2586 54.0564 33.2535 54.1797C39.4487 54.5194 45.6357 53.371 51.3254 50.8253C56.4204 48.3917 59.7796 44.904 60.7273 41.0552C60.8136 40.6955 60.7503 38.2811 60.7503 38.2811C60.7503 38.2811 60.7374 38.2826 60.7316 38.2752Z",fill:"#083090",fillOpacity:.4})),en||(en=a.createElement("path",{d:"M67.9443 28.5674V28.7998C67.9069 29.8952 66.3207 30.699 64.4786 30.699H42.0552C41.1447 30.7173 40.2448 30.4957 39.4409 30.0551C39.1525 29.9191 38.9024 29.7099 38.7143 29.447C38.5261 29.1842 38.406 28.8764 38.3652 28.5526V31.0143C38.3967 31.3488 38.5136 31.6688 38.704 31.9418C38.8945 32.2148 39.1517 32.431 39.4495 32.5686C40.2536 33.0086 41.1534 33.2302 42.0639 33.2126H64.4844C66.3265 33.2126 67.9127 32.4088 67.95 31.3133L67.9443 28.5674Z",fill:"#083090",fillOpacity:.4}))),tn||(tn=a.createElement("g",{filter:"url(#filter2_b_2761_4693)"},a.createElement("path",{d:"M60.682 35.9446C60.6904 36.037 60.6865 36.1301 60.6704 36.2214C59.7158 40.0703 56.3322 43.5549 51.2002 45.9915C45.4712 48.5353 39.2419 49.6827 33.0044 49.343C26.963 49.2181 21.048 47.551 15.7979 44.4934C11.3439 41.6808 8.84523 37.98 8.79019 34.1312V36.5441C8.80612 40.43 11.3134 44.1663 15.8052 47.007C21.0536 50.0613 26.966 51.7258 33.0044 51.8491C39.2445 52.1889 45.4764 51.0405 51.2075 48.4947C56.3394 46.0611 59.7231 42.5735 60.6776 38.7246C60.7645 38.3649 60.7008 35.9505 60.7008 35.9505C60.7008 35.9505 60.6878 35.952 60.682 35.9446Z",fill:"url(#paint3_linear_2761_4693)"}),a.createElement("path",{d:"M67.9462 26.2368V26.4692C67.9086 27.5646 66.3109 28.3684 64.4554 28.3684H41.8693C40.9521 28.3868 40.0456 28.1651 39.2359 27.7245C38.9454 27.5886 38.6936 27.3793 38.504 27.1165C38.3145 26.8536 38.1935 26.5458 38.1525 26.222V28.6837C38.1842 29.0183 38.3019 29.3382 38.4937 29.6112C38.6856 29.8842 38.9446 30.1005 39.2446 30.2381C40.0546 30.678 40.9609 30.8996 41.878 30.882H64.4612C66.3167 30.882 67.9144 30.0782 67.952 28.9828L67.9462 26.2368Z",fill:"url(#paint4_linear_2761_4693)"}))),nn||(nn=a.createElement("g",{filter:"url(#filter3_bi_2761_4693)"},a.createElement("path",{d:"M31.1377 18.7963C33.1757 18.6261 34.853 19.6283 34.853 20.8407V32.3634C34.8526 32.8049 35.0238 33.2284 35.3288 33.5409C35.6338 33.8535 36.0477 34.0295 36.4797 34.0303H57.2045C59.2614 34.0303 60.959 35.0191 60.6693 36.2211C59.7147 40.07 56.3311 43.5546 51.1991 45.9912C45.4701 48.535 39.2408 49.6824 33.0033 49.3427C26.9614 49.2175 21.0461 47.5505 15.7954 44.4931C11.3051 41.6524 8.79778 37.9146 8.7804 34.0303C8.7804 30.3295 11.0415 26.7516 15.1537 23.9538C19.9888 20.9162 25.4825 19.1447 31.1478 18.7963H31.1377ZM64.4527 28.3682C66.3082 28.3682 67.9059 27.5644 67.9435 26.469V26.1729C67.9084 24.0168 67.1977 21.929 65.9157 20.2161C64.3586 18.1384 62.3871 16.4228 60.1319 15.1831C57.4248 13.6606 54.5173 12.5443 51.499 11.8686C48.1724 11.1023 44.7693 10.7381 41.3596 10.7836C39.5041 10.8058 38.1411 11.7517 38.1411 12.8442V26.167C38.1725 26.5016 38.2901 26.8217 38.482 27.0948C38.6738 27.3678 38.933 27.584 39.2332 27.7213C40.0429 28.1619 40.9494 28.3836 41.8666 28.3653L64.4527 28.3682Z",fill:"url(#paint5_linear_2761_4693)",fillOpacity:.35}),a.createElement("path",{d:"M34.7875 32.3634C34.7871 32.8217 34.9647 33.2618 35.2819 33.5867C35.599 33.9117 36.0298 34.095 36.4796 34.0958H36.4797H57.2045C58.2237 34.0958 59.1497 34.341 59.7825 34.7308C60.4166 35.1214 60.7407 35.6447 60.6056 36.2056C59.6575 40.0279 56.2935 43.4997 51.1717 45.9317C45.4524 48.471 39.2337 49.6164 33.0069 49.2772L33.0047 49.2771C26.9744 49.1522 21.0703 47.4885 15.8294 44.4371C11.351 41.6036 8.86326 37.8839 8.84595 34.0301C8.84601 30.3584 11.0892 26.7987 15.1896 24.0086C20.0152 20.9772 25.4979 19.2094 31.1518 18.8618L31.1518 18.8609C32.1559 18.7787 33.068 18.9846 33.7274 19.3571C34.3901 19.7315 34.7875 20.2671 34.7875 20.8407V32.3634ZM34.7875 32.3634L34.853 32.3634H34.7875V32.3634ZM60.0998 15.2402L60.1003 15.2405C62.3473 16.4757 64.3117 18.1852 65.8632 20.2555C67.1367 21.957 67.843 24.0312 67.878 26.1735V26.4678C67.8598 26.981 67.4755 27.4387 66.8491 27.7715C66.2242 28.1034 65.3719 28.3027 64.4527 28.3027L41.8666 28.2997L41.8653 28.2997C40.9596 28.3178 40.0643 28.0989 39.2646 27.6638L39.2646 27.6636L39.2605 27.6617C38.971 27.5293 38.7209 27.3207 38.5356 27.0571C38.351 26.7943 38.2374 26.4862 38.2066 26.1639V12.8442C38.2066 12.3273 38.5293 11.8356 39.0905 11.4673C39.651 11.0995 40.4429 10.8601 41.3604 10.8491L41.3605 10.8491C44.7649 10.8037 48.1628 11.1674 51.4842 11.9325L51.4846 11.9326C54.4967 12.6069 57.3982 13.7208 60.0998 15.2402Z",stroke:"url(#paint6_linear_2761_4693)",strokeWidth:.131111}))),rn||(rn=a.createElement("defs",null,a.createElement("filter",{id:"filter0_di_2761_4693",x:.581774,y:20.2523,width:85.3107,height:54.8119,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:5.24444}),a.createElement("feGaussianBlur",{stdDeviation:3.27778}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0980392 0 0 0 0 0.211765 0 0 0 0 0.482353 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2761_4693"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2761_4693",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2.62222}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4693"})),a.createElement("filter",{id:"filter1_f_2761_4693",x:6.59158,y:25.9303,width:63.9807,height:30.9299,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:1.31111,result:"effect1_foregroundBlur_2761_4693"})),a.createElement("filter",{id:"filter2_b_2761_4693",x:7.47908,y:24.9109,width:61.7841,height:28.3077,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:.655556}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4693"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4693",result:"shape"})),a.createElement("filter",{id:"filter3_bi_2761_4693",x:4.84706,y:6.84645,width:67.0298,height:46.4879,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:1.96667}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4693"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4693",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:.983333}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4693"})),a.createElement("linearGradient",{id:"paint0_linear_2761_4693",x1:75.8984,y1:29.5375,x2:9.21087,y2:50.9938,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#00298D"}),a.createElement("stop",{offset:.189268,stopColor:"#2349A7"}),a.createElement("stop",{offset:.646435,stopColor:"#3155AD"}),a.createElement("stop",{offset:1,stopColor:"#032C91"})),a.createElement("radialGradient",{id:"paint1_radial_2761_4693",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(43.2371 42.4138) rotate(90) scale(28.6214 49.5543)"},a.createElement("stop",{offset:.0520833,stopColor:"#062E8D"}),a.createElement("stop",{offset:1,stopColor:"#2968FE"})),a.createElement("linearGradient",{id:"paint2_linear_2761_4693",x1:31.7221,y1:20.3648,x2:51.3231,y2:62.0521,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:0}),a.createElement("stop",{offset:1,stopColor:"white",stopOpacity:.43})),a.createElement("linearGradient",{id:"paint3_linear_2761_4693",x1:60.7754,y1:60.0366,x2:41.4706,y2:15.262,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint4_linear_2761_4693",x1:67.9819,y1:33.0145,x2:65.3414,y2:19.6122,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint5_linear_2761_4693",x1:8.7804,y1:7.44454,x2:68.6199,y2:48.4132,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.0529546,stopColor:"#0D7BE0"}),a.createElement("stop",{offset:.461273,stopColor:"#79CFFF"}),a.createElement("stop",{offset:1,stopColor:"#79CFFF"})),a.createElement("linearGradient",{id:"paint6_linear_2761_4693",x1:66.3956,y1:55.0423,x2:9.47366,y2:19.9786,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.923987,stopColor:"#BDE7FF",stopOpacity:0})))))}var cn,fn=a.forwardRef(un),hn=(n.p,["title","titleId"]);function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dn.apply(this,arguments)}function pn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mn(e,t){var n=e.title,r=e.titleId,i=pn(e,hn);return a.createElement("svg",dn({width:45,height:47,viewBox:"0 0 45 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,cn||(cn=a.createElement("path",{d:"M21.0938 33.3438V34.75C21.0938 35.123 20.9456 35.4806 20.6819 35.7444C20.4181 36.0081 20.0605 36.1562 19.6875 36.1562H16.875V37.5625C16.875 38.3084 16.5787 39.0238 16.0512 39.5512C15.5238 40.0787 14.8084 40.375 14.0625 40.375H8.4375C7.69158 40.375 6.97621 40.0787 6.44876 39.5512C5.92132 39.0238 5.625 38.3084 5.625 37.5625V33.9259C5.62516 33.1801 5.92158 32.4648 6.44906 31.9375L17.3334 21.0531C16.666 18.7869 16.729 16.3681 17.5134 14.1397C18.2978 11.9113 19.7638 9.98635 21.7036 8.63784C23.6433 7.28933 25.9584 6.58569 28.3204 6.6267C30.6825 6.6677 32.9718 7.45126 34.8635 8.86627C36.7553 10.2813 38.1536 12.2559 38.8602 14.5102C39.5668 16.7645 39.5458 19.1841 38.8002 21.4257C38.0545 23.6674 36.6221 25.6175 34.706 26.9994C32.7899 28.3814 30.4874 29.125 28.125 29.125H25.3097V31.9375C25.3097 32.3105 25.1615 32.6681 24.8978 32.9319C24.6341 33.1956 24.2764 33.3438 23.9034 33.3438H21.0909H21.0938ZM30.9375 17.875C31.6834 17.875 32.3988 17.5787 32.9262 17.0512C33.4537 16.5238 33.75 15.8084 33.75 15.0625C33.75 14.3166 33.4537 13.6012 32.9262 13.0738C32.3988 12.5463 31.6834 12.25 30.9375 12.25C30.1916 12.25 29.4762 12.5463 28.9488 13.0738C28.4213 13.6012 28.125 14.3166 28.125 15.0625C28.125 15.8084 28.4213 16.5238 28.9488 17.0512C29.4762 17.5787 30.1916 17.875 30.9375 17.875Z"})))}var vn,yn,gn,_n,xn,bn=a.forwardRef(mn),wn=(n.p,["title","titleId"]);function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kn.apply(this,arguments)}function Cn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function En(e,t){var n=e.title,r=e.titleId,i=Cn(e,wn);return a.createElement("svg",kn({width:86,height:80,viewBox:"0 0 86 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,vn||(vn=a.createElement("path",{d:"M79.335 40.1991C79.335 45.5318 75.798 50.8616 68.7623 54.9308C54.6643 63.0722 31.8077 63.0737 17.7097 54.9308C10.1861 50.5844 6.71834 44.7976 7.22679 39.1066C7.18227 39.3115 7.14881 39.5187 7.12658 39.7273C6.44865 47.1566 8.73445 52.2593 17.7097 57.4373C31.8077 65.5801 54.6643 65.5787 68.7623 57.4373C76.8341 52.7739 79.5001 46.8602 79.335 40.1991Z",fill:"url(#paint0_linear_2761_4745)"})),yn||(yn=a.createElement("g",{filter:"url(#filter0_di_2761_4745)"},a.createElement("path",{d:"M43.2371 61.0376C63.1745 61.0376 79.3369 51.7026 79.3369 40.1873C79.3369 28.6719 63.1745 19.3369 43.2371 19.3369C23.2998 19.3369 7.13733 28.6719 7.13733 40.1873C7.13733 51.7026 23.2998 61.0376 43.2371 61.0376Z",fill:"url(#paint1_radial_2761_4745)"}),a.createElement("path",{d:"M79.2714 40.1873C79.2714 45.9116 75.2536 51.1065 68.7308 54.8739C62.2096 58.6404 53.1964 60.9721 43.2371 60.9721C33.2779 60.9721 24.2646 58.6404 17.7435 54.8739C11.2206 51.1065 7.20288 45.9116 7.20288 40.1873C7.20288 34.4629 11.2206 29.2681 17.7435 25.5006C24.2646 21.7342 33.2779 19.4025 43.2371 19.4025C53.1964 19.4025 62.2096 21.7342 68.7308 25.5006C75.2536 29.2681 79.2714 34.4629 79.2714 40.1873Z",stroke:"url(#paint2_linear_2761_4745)",strokeWidth:.131111,strokeLinejoin:"round"}))),gn||(gn=a.createElement("g",{filter:"url(#filter1_b_2761_4745)"},a.createElement("path",{d:"M18.0492 22.4108C19.1043 21.8631 20.2704 21.5777 21.4531 21.5777C22.6359 21.5777 23.802 21.8631 24.857 22.4108C25.1754 22.5993 25.4874 22.8547 25.7313 23.1367C26.0674 22.7899 26.2401 22.3115 26.2614 21.8232C26.2206 21.3899 26.0686 20.9755 25.8209 20.6219C25.5732 20.2684 25.2386 19.9883 24.851 19.8102C23.7962 19.2616 22.63 18.9756 21.4471 18.9756C20.2643 18.9756 19.098 19.2616 18.0433 19.8102C17.6559 19.9884 17.3215 20.2685 17.074 20.6221C16.8266 20.9756 16.5867 21.2673 16.6105 21.8035C16.6323 22.2941 16.8227 22.8093 17.1603 23.1579C17.4067 22.8739 17.7284 22.6014 18.0492 22.4108Z",fill:"url(#paint3_linear_2761_4745)"}),a.createElement("path",{d:"M64.7683 44.6097C64.7278 45.0428 64.5598 45.4163 64.3123 45.7698C64.0649 46.1234 63.7522 46.4127 63.3649 46.5909C62.3182 47.1611 61.1814 47.437 59.9962 47.4142H53.7634C52.5781 47.4374 51.3759 47.1932 50.3293 46.6226L31.6996 35.6052C27.7789 36.2805 23.7709 36.2186 19.8718 35.4226C16.4451 34.8077 13.2145 33.3522 10.4559 31.1804C9.44407 30.426 8.61019 29.4488 8.01555 28.3207C7.42091 27.1925 7.08064 25.9421 7.01978 24.6614V24.6721C7.01978 24.6721 7.03924 26.4917 7.01978 27.0824C7.05085 28.3957 7.37785 29.6838 7.97521 30.8461C8.57258 32.0083 9.42414 33.0133 10.4633 33.7825C13.2204 35.9517 16.4481 37.406 19.8718 38.0216C23.771 38.8168 27.7788 38.8786 31.6996 38.2042L50.3263 49.2247C51.373 49.7949 52.5443 50.0821 53.7295 50.0593H59.9533C61.1385 50.0823 62.3099 49.7951 63.3565 49.2247C63.744 49.0466 64.0787 48.7665 64.3264 48.413C64.5741 48.0594 64.7261 47.645 64.7668 47.2118",fill:"url(#paint4_linear_2761_4745)"}))),_n||(_n=a.createElement("g",{filter:"url(#filter2_bi_2761_4745)"},a.createElement("path",{d:"M52.7379 31.7943H55.1454C55.7378 31.7828 56.3232 31.9265 56.8462 32.2116C57.0403 32.3002 57.2079 32.4401 57.3319 32.617C57.4558 32.7939 57.5316 33.0013 57.5514 33.2181V36.0657H59.9589C61.144 36.0424 62.3153 36.3291 63.3621 36.8988C63.7498 37.077 64.0846 37.3573 64.3323 37.7111C64.58 38.065 64.7319 38.4797 64.7724 38.9132V44.6084C64.7319 45.0415 64.5802 45.4559 64.3328 45.8094C64.0853 46.163 63.7509 46.4431 63.3636 46.6213C62.3171 47.1922 61.1457 47.4795 59.9604 47.4559H53.7351C52.5498 47.4791 51.3785 47.1919 50.3319 46.6213L31.7022 35.6054C27.7815 36.2807 23.7735 36.2188 19.8744 35.4228C16.4477 34.8079 13.2171 33.3524 10.4585 31.1806C9.41876 30.412 8.56683 29.4071 7.96941 28.2447C7.37198 27.0823 7.04528 25.7939 7.01489 24.4806C7.13042 23.1531 7.53465 21.869 8.19792 20.7226C8.86118 19.5761 9.76661 18.5965 10.8477 17.8557C13.714 15.751 17.0221 14.3648 20.5062 13.8083C24.4199 13.0946 28.4276 13.1154 32.3341 13.8697C35.7902 14.4541 39.0606 15.8742 41.8742 18.0122C42.9342 18.7671 43.8126 19.7594 44.4427 20.9139C45.0728 22.0684 45.4381 23.3547 45.5109 24.6754V27.526H50.3244C50.9173 27.5147 51.5031 27.6583 52.0268 27.9434C52.2206 28.0322 52.3879 28.1722 52.5115 28.349C52.6352 28.5259 52.7107 28.7332 52.7304 28.9498V31.7943H52.7379ZM26.2659 21.8217C26.2251 21.3885 26.0732 20.974 25.8254 20.6205C25.5777 20.2669 25.2431 19.9869 24.8555 19.8088C23.8008 19.2601 22.6345 18.9742 21.4517 18.9742C20.2688 18.9742 19.1026 19.2601 18.0478 19.8088C17.6604 19.987 17.326 20.2671 17.0785 20.6206C16.8311 20.9742 16.6015 21.42 16.6389 21.8217C16.6793 22.255 16.8309 22.6697 17.0784 23.0235C17.3258 23.3774 17.6603 23.6577 18.0478 23.8362C19.1028 24.3839 20.2689 24.6693 21.4517 24.6693C22.6344 24.6693 23.8005 24.3839 24.8555 23.8362C25.243 23.6576 25.5775 23.3772 25.8252 23.0234C26.0729 22.6696 26.2249 22.2551 26.2659 21.8217Z",fill:"url(#paint5_linear_2761_4745)",fillOpacity:.35}),a.createElement("path",{d:"M55.1454 31.8599L55.1467 31.8599C55.7276 31.8486 56.3018 31.9895 56.8149 32.2692L56.8148 32.2693L56.819 32.2713C57.0023 32.3549 57.1609 32.4872 57.2782 32.6546C57.3949 32.8212 57.4666 33.0167 57.4859 33.2211V36.0657V36.1312H57.5514L59.9589 36.1312L59.9602 36.1312C61.1338 36.1081 62.2939 36.3921 63.3307 36.9563L63.3307 36.9565L63.3347 36.9583C63.7117 37.1316 64.0375 37.4043 64.2786 37.7487C64.5192 38.0923 64.667 38.4951 64.7069 38.9163V44.6053C64.667 45.0261 64.5194 45.4285 64.2791 45.7718C64.0382 46.116 63.7128 46.3885 63.3362 46.5617L63.3361 46.5616L63.3322 46.5637C62.2957 47.1292 61.1355 47.4137 59.9617 47.3904H59.9604L53.7351 47.3904L53.7338 47.3904C52.5604 47.4134 51.4006 47.1291 50.3643 46.5643C50.364 46.5641 50.3636 46.5639 50.3633 46.5637L31.7356 35.549L31.7149 35.5367L31.6911 35.5408C27.7784 36.2147 23.7786 36.1529 19.8875 35.3586L19.8859 35.3583C16.4699 34.7453 13.2493 33.2943 10.499 31.1291L10.4974 31.1279C9.46593 30.3653 8.62058 29.3682 8.02771 28.2147C7.43539 27.0623 7.11119 25.7849 7.08051 24.4826C7.19563 23.1659 7.59684 21.8924 8.25466 20.7554C8.91308 19.6173 9.81182 18.645 10.8848 17.9097L10.8848 17.9098L10.8865 17.9085C13.7444 15.81 17.0428 14.4278 20.5165 13.8731L20.5165 13.8731L20.5179 13.8728C24.4237 13.1606 28.4231 13.1813 32.3216 13.9341L32.3216 13.9341L32.3231 13.9343C35.7687 14.517 39.0293 15.9327 41.8346 18.0644L41.8345 18.0644L41.8362 18.0656C42.888 18.8146 43.7597 19.7994 44.3851 20.9453C45.0103 22.0906 45.3729 23.3668 45.4454 24.6772V27.526V27.5916H45.5109L50.3244 27.5916L50.3257 27.5916C50.9071 27.5805 51.4817 27.7213 51.9954 28.0009L51.9953 28.0011L51.9995 28.003C52.1825 28.0868 52.3407 28.2192 52.4578 28.3866C52.5743 28.5532 52.6458 28.7485 52.6649 28.9528V31.7943V31.8599H52.7304H52.7379L55.1454 31.8599ZM26.3312 21.8279L26.3323 21.828L26.3312 21.8156C26.2893 21.3711 26.1334 20.9458 25.8791 20.5829C25.6251 20.2204 25.282 19.9329 24.8844 19.7499C23.8207 19.1969 22.6446 18.9086 21.4517 18.9086C20.2587 18.9086 19.0826 19.1969 18.0189 19.7499C17.6215 19.933 17.2786 20.2205 17.0248 20.583C16.7764 20.938 16.5338 21.4009 16.5736 21.8278C16.6151 22.2724 16.7706 22.6979 17.0247 23.0611C17.2784 23.4239 17.6214 23.7117 18.0189 23.8951C19.0829 24.4471 20.2589 24.7348 21.4517 24.7348C22.6444 24.7348 23.8204 24.4471 24.8844 23.8951C25.2819 23.7115 25.625 23.4237 25.8789 23.061C26.1332 22.6979 26.2891 22.2724 26.3312 21.8279Z",stroke:"url(#paint6_linear_2761_4745)",strokeWidth:.131111}))),xn||(xn=a.createElement("defs",null,a.createElement("filter",{id:"filter0_di_2761_4745",x:.581774,y:18.0258,width:85.3107,height:54.8119,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:5.24444}),a.createElement("feGaussianBlur",{stdDeviation:3.27778}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0980392 0 0 0 0 0.211765 0 0 0 0 0.482353 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2761_4745"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2761_4745",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2.62222}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4745"})),a.createElement("filter",{id:"filter1_b_2761_4745",x:5.70866,y:17.6645,width:60.3708,height:33.7072,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:.655556}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4745"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4745",result:"shape"})),a.createElement("filter",{id:"filter2_bi_2761_4745",x:3.08156,y:9.35475,width:65.6242,height:42.0359,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:1.96667}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4745"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4745",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:.983333}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4745"})),a.createElement("linearGradient",{id:"paint0_linear_2761_4745",x1:75.8988,y1:27.311,x2:9.2113,y2:48.7673,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#00298D"}),a.createElement("stop",{offset:.189268,stopColor:"#2349A7"}),a.createElement("stop",{offset:.646435,stopColor:"#3155AD"}),a.createElement("stop",{offset:1,stopColor:"#032C91"})),a.createElement("radialGradient",{id:"paint1_radial_2761_4745",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(43.2371 40.1873) rotate(90) scale(28.6214 49.5543)"},a.createElement("stop",{offset:.0520833,stopColor:"#062E8D"}),a.createElement("stop",{offset:1,stopColor:"#2968FE"})),a.createElement("linearGradient",{id:"paint2_linear_2761_4745",x1:31.7221,y1:18.1383,x2:51.3231,y2:59.8256,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:0}),a.createElement("stop",{offset:1,stopColor:"white",stopOpacity:.43})),a.createElement("linearGradient",{id:"paint3_linear_2761_4745",x1:26.2711,y1:25.0705,x2:21.0178,y2:15.445,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint4_linear_2761_4745",x1:64.8263,y1:61.6759,x2:32.6656,y2:3.62503,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint5_linear_2761_4745",x1:26.3275,y1:9.33484,x2:29.8283,y2:52.3345,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.0952749,stopColor:"#2092FB"}),a.createElement("stop",{offset:.487412,stopColor:"#79CFFF"}),a.createElement("stop",{offset:1,stopColor:"#79CFFF"})),a.createElement("linearGradient",{id:"paint6_linear_2761_4745",x1:63.2612,y1:52.4482,x2:10.8297,y2:16.8098,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.923987,stopColor:"#BDE7FF",stopOpacity:0})))))}var Sn,Tn=a.forwardRef(En),An=(n.p,["title","titleId"]);function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function In(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pn(e,t){var n=e.title,r=e.titleId,i=In(e,An);return a.createElement("svg",Mn({width:45,height:47,viewBox:"0 0 45 47",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Sn||(Sn=a.createElement("path",{d:"M6.74934 6.60028C6.74605 6.30191 6.62438 6.01707 6.41108 5.80841C6.19778 5.59975 5.91033 5.48437 5.61196 5.48766C5.31359 5.49094 5.02875 5.61261 4.82009 5.82591C4.61143 6.03921 4.49605 6.32666 4.49934 6.62503V40.375C4.49934 40.6734 4.61786 40.9595 4.82884 41.1705C5.03982 41.3815 5.32597 41.5 5.62434 41.5H39.3743C39.6727 41.5 39.9589 41.3815 40.1698 41.1705C40.3808 40.9595 40.4993 40.6734 40.4993 40.375C40.4993 40.0767 40.3808 39.7905 40.1698 39.5795C39.9589 39.3686 39.6727 39.25 39.3743 39.25H6.74934V6.60028ZM35.9993 37V13.375C35.999 13.1633 35.939 12.956 35.8262 12.7769C35.7133 12.5978 35.5522 12.4542 35.3614 12.3625C35.1706 12.2709 34.9578 12.2349 34.7474 12.2588C34.5371 12.2827 34.3378 12.3654 34.1723 12.4975L23.5186 21.0183L16.3073 16.8985C16.1544 16.8113 15.9831 16.7611 15.8072 16.7521C15.6314 16.7431 15.4559 16.7756 15.2948 16.8468L8.99934 19.6435V37H35.9993Z"})))}var Ln,zn,On,Dn,Rn,Fn,Bn,jn,Un,Zn,Nn,Vn=a.forwardRef(Pn),Gn=(n.p,["title","titleId"]);function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}function Wn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hn(e,t){var n=e.title,r=e.titleId,i=Wn(e,Gn);return a.createElement("svg",qn({width:86,height:80,viewBox:"0 0 86 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ln||(Ln=a.createElement("path",{d:"M79.3346 45.2597C79.3346 50.5925 75.7976 55.9223 68.7618 59.9915C54.6638 68.1329 31.8072 68.1344 17.7092 59.9915C10.1857 55.6451 6.71792 49.8583 7.22636 44.1672C7.18184 44.3722 7.14839 44.5794 7.12615 44.7879C6.44822 52.2172 8.73402 57.32 17.7092 62.4979C31.8072 70.6408 54.6638 70.6393 68.7618 62.4979C76.8336 57.8345 79.4997 51.9209 79.3346 45.2597Z",fill:"url(#paint0_linear_2761_4768)"})),zn||(zn=a.createElement("g",{filter:"url(#filter0_di_2761_4768)"},a.createElement("path",{d:"M43.2371 66.0983C63.1745 66.0983 79.3369 56.7633 79.3369 45.2479C79.3369 33.7326 63.1745 24.3976 43.2371 24.3976C23.2998 24.3976 7.13733 33.7326 7.13733 45.2479C7.13733 56.7633 23.2998 66.0983 43.2371 66.0983Z",fill:"url(#paint1_radial_2761_4768)"}),a.createElement("path",{d:"M79.2714 45.2479C79.2714 50.9723 75.2536 56.1672 68.7308 59.9346C62.2096 63.7011 53.1964 66.0327 43.2371 66.0327C33.2779 66.0327 24.2646 63.7011 17.7435 59.9346C11.2206 56.1672 7.20288 50.9723 7.20288 45.2479C7.20288 39.5236 11.2206 34.3287 17.7435 30.5613C24.2646 26.7948 33.2779 24.4631 43.2371 24.4631C53.1964 24.4631 62.2096 26.7948 68.7308 30.5613C75.2536 34.3287 79.2714 39.5236 79.2714 45.2479Z",stroke:"url(#paint2_linear_2761_4768)",strokeWidth:.131111,strokeLinejoin:"round"}))),a.createElement("g",{style:{mixBlendMode:"multiply"},filter:"url(#filter1_f_2761_4768)"},On||(On=a.createElement("path",{d:"M21.4086 37.922H34.5104C35.2016 37.9352 35.8848 37.7704 36.4951 37.4432C36.721 37.3407 36.9161 37.1799 37.0608 36.9771C37.2054 36.7744 37.2944 36.5368 37.3188 36.2883L37.3063 34.3365C37.3063 22.5437 37.304 19.2173 37.304 34.3297C37.2798 34.5784 37.1908 34.8162 37.0462 35.0192C36.9016 35.2222 36.7064 35.3831 36.4803 35.4858C35.8696 35.812 35.1867 35.9768 34.4956 35.9645H21.4086",fill:"#083090",fillOpacity:.4})),Dn||(Dn=a.createElement("path",{d:"M21.4102 48.9734C21.4202 49.2023 21.3554 49.4282 21.2256 49.6163C21.0679 49.8425 20.8625 50.0307 20.6241 50.1674C20.3358 50.3354 20.0244 50.4596 19.7001 50.5359C18.978 50.7089 18.2257 50.7089 17.5035 50.5359C17.1795 50.4598 16.8685 50.3356 16.5807 50.1674C16.3418 50.031 16.1359 49.8428 15.978 49.6163C15.8742 49.4584 15.8148 49.2751 15.806 49.0859V50.9228C15.795 51.1518 15.86 51.378 15.9906 51.5657C16.1486 51.7913 16.354 51.979 16.5921 52.1156C16.8803 52.2843 17.1916 52.4089 17.5161 52.4853C18.2382 52.6583 18.9905 52.6583 19.7126 52.4853C20.0367 52.4089 20.3477 52.2843 20.6355 52.1156C20.8741 51.9793 21.0799 51.7915 21.2381 51.5657C21.3677 51.3775 21.4326 51.1517 21.4227 50.9228",fill:"#083090",fillOpacity:.4})),Rn||(Rn=a.createElement("path",{d:"M37.9924 59.7697C37.3769 60.0852 36.6961 60.2496 36.0055 60.2496C35.3149 60.2496 34.6341 60.0852 34.0186 59.7697L27.4198 55.9169C27.1936 55.8148 26.9743 55.654 26.8296 55.4511C26.6849 55.2483 26.5961 55.0105 26.5721 54.7618C26.5721 54.7618 26.5847 56.2819 26.5847 56.7136C26.6083 56.9623 26.6969 57.2002 26.8414 57.4033C26.9859 57.6063 27.1811 57.7672 27.4072 57.8697C27.4072 57.8697 33.4167 61.4101 34.0322 61.7249C34.6478 62.0396 35.3283 62.2037 36.0186 62.2037C36.7089 62.2037 37.3894 62.0396 38.0049 61.7249C38.2313 61.6226 38.4268 61.4618 38.5715 61.2587C38.7161 61.0556 38.8049 60.8176 38.8287 60.5688C38.8287 60.1348 38.8161 59.5263 38.8161 58.617C38.7918 58.8653 38.7028 59.1026 38.5581 59.305C38.4135 59.5074 38.2183 59.6677 37.9924 59.7697Z",fill:"#083090",fillOpacity:.4})),Fn||(Fn=a.createElement("path",{d:"M70.604 40.1158C70.5808 40.3646 70.4924 40.6028 70.3479 40.8059C70.2034 41.009 70.0079 41.1698 69.7815 41.2719C69.1657 41.5866 68.485 41.7507 67.7945 41.7507C67.1041 41.7507 66.4234 41.5866 65.8076 41.2719L45.965 29.6995C45.7432 29.5976 45.5305 29.4451 45.387 29.2466C45.2435 29.0481 45.1497 28.8262 45.1215 28.5823C45.1215 28.9267 45.1306 30.1436 45.1306 30.5133C45.154 30.7621 45.2425 31.0002 45.387 31.2033C45.5315 31.4064 45.9531 31.6694 45.9531 31.6694L65.819 43.2293C66.4347 43.5441 67.1155 43.7081 67.8059 43.7081C68.4964 43.7081 69.1771 43.5441 69.7928 43.2293C70.0191 43.1271 70.2145 42.9663 70.359 42.7632C70.5035 42.5601 70.592 42.322 70.6154 42.0732C70.6177 41.6392 70.604 40.1158 70.604 40.1158Z",fill:"#083090",fillOpacity:.4})),Bn||(Bn=a.createElement("path",{d:"M59.1749 47.4227C58.5591 47.7375 57.8908 47.918 57.2003 47.918C56.5099 47.918 55.8292 47.754 55.2134 47.4392L45.9484 42.0187C45.7219 41.9167 45.5199 41.7805 45.3754 41.5774C45.2309 41.3742 45.1425 41.1361 45.1193 40.8872C45.1193 40.8872 45.1307 42.4084 45.1307 42.8389C45.1544 43.0878 45.2432 43.3258 45.3878 43.5289C45.5325 43.7319 45.9544 43.995 45.9544 43.995C45.9544 43.995 54.6102 49.0762 55.2259 49.3909C55.8417 49.7057 56.5224 49.8697 57.2129 49.8697C57.9033 49.8697 58.584 49.7057 59.1998 49.3909C59.4259 49.2885 59.6212 49.1276 59.7656 48.9246C59.9101 48.7215 59.9987 48.4835 60.0224 48.2348C60.0224 47.8009 60.0098 46.2831 60.0098 46.2831C59.9864 46.5319 59.8979 46.77 59.7534 46.9731C59.6089 47.1762 59.4012 47.3205 59.1749 47.4227Z",fill:"#083090",fillOpacity:.4})),jn||(jn=a.createElement("path",{d:"M48.589 53.6044C47.9732 53.9192 47.2925 54.0833 46.6021 54.0833C45.9116 54.0833 45.2309 53.9192 44.6152 53.6044L30.0678 45.1087C29.8416 45.0063 29.6233 44.865 29.4789 44.6619C29.3344 44.4588 29.2458 44.2209 29.2222 43.9722C29.2222 43.9722 29.2347 45.4934 29.2347 45.9239C29.2586 46.1724 29.3472 46.4101 29.4917 46.613C29.6361 46.8158 29.8313 46.9765 30.0573 47.0788C30.0573 47.0788 44.0119 55.2448 44.6277 55.5596C45.2434 55.8744 45.9242 56.0384 46.6146 56.0384C47.3051 56.0384 47.9858 55.8744 48.6015 55.5596C48.8277 55.4572 49.0229 55.2963 49.1674 55.0932C49.3119 54.8902 49.4004 54.6522 49.4241 54.4035C49.4241 53.9695 49.4116 52.4518 49.4116 52.4518C49.3873 52.6999 49.2985 52.9371 49.1541 53.1395C49.0096 53.342 48.8147 53.5023 48.589 53.6044Z",fill:"#083090",fillOpacity:.4}))),Un||(Un=a.createElement("g",{filter:"url(#filter2_b_2761_4768)"},a.createElement("path",{d:"M25.8998 21.8864C26.5154 22.2018 27.1962 22.3663 27.8868 22.3663C28.5773 22.3663 29.2582 22.2018 29.8737 21.8864L31.6886 20.8301V18.8692L29.862 19.898C29.2462 20.2127 28.5685 20.3826 27.8781 20.3826C27.1876 20.3826 26.5099 20.2249 25.8941 19.9101C25.668 19.8077 25.4855 19.6588 25.3411 19.4557C25.1966 19.2527 25.0873 19.025 25.0636 18.7762C25.0636 18.7762 25.0761 20.2974 25.0761 20.728C25.0993 20.9773 25.1878 21.2159 25.3325 21.4194C25.4772 21.623 25.673 21.7841 25.8998 21.8864Z",fill:"url(#paint3_linear_2761_4768)"}),a.createElement("path",{d:"M21.4086 36.2382H34.5104C35.2016 36.2515 35.8848 36.0867 36.4951 35.7595C36.721 35.657 36.9161 35.4962 37.0608 35.2934C37.2054 35.0906 37.2944 34.853 37.3188 34.6045L37.3063 32.6528V20.8186L39.1439 21.892C39.7597 22.2068 40.4404 22.3708 41.1309 22.3708C41.8213 22.3708 42.502 22.2068 43.1178 21.892C43.3442 21.7897 43.5396 21.6289 43.6843 21.4258C43.829 21.2228 43.9177 20.9847 43.9415 20.7359C43.9415 20.3031 43.929 18.7842 43.929 18.7842C43.9052 19.033 43.7947 19.2562 43.65 19.4593C43.5053 19.6623 43.3067 19.8189 43.0803 19.9212C42.4648 20.2359 41.808 20.3831 41.1177 20.3831C40.4275 20.3831 39.7529 20.2314 39.1373 19.9167L37.304 18.8538V32.6459C37.2798 32.8946 37.1908 33.1325 37.0462 33.3355C36.9016 33.5385 36.7064 33.6994 36.4803 33.802C35.8696 34.1283 35.1867 34.2931 34.4956 34.2808H21.4086",fill:"url(#paint4_linear_2761_4768)"}),a.createElement("path",{d:"M21.4102 47.2899C21.4202 47.5188 21.3554 47.7447 21.2256 47.9328C21.0679 48.159 20.8625 48.3472 20.6241 48.4839C20.3358 48.6519 20.0244 48.7761 19.7001 48.8524C18.978 49.0254 18.2257 49.0254 17.5035 48.8524C17.1795 48.7763 16.8685 48.6521 16.5807 48.4839C16.3418 48.3475 16.1359 48.1593 15.978 47.9328C15.8742 47.7749 15.8148 47.5916 15.806 47.4024V49.2393C15.795 49.4683 15.86 49.6945 15.9906 49.8823C16.1486 50.1078 16.354 50.2955 16.5921 50.4322C16.8803 50.6008 17.1916 50.7254 17.5161 50.8019C18.2382 50.9748 18.9905 50.9748 19.7126 50.8019C20.0367 50.7254 20.3477 50.6008 20.6355 50.4322C20.8741 50.2959 21.0799 50.1081 21.2381 49.8823C21.3677 49.694 21.4326 49.4682 21.4227 49.2393",fill:"url(#paint5_linear_2761_4768)"}),a.createElement("path",{d:"M37.9925 58.086C37.377 58.4015 36.6962 58.5659 36.0056 58.5659C35.315 58.5659 34.6342 58.4015 34.0187 58.086L27.4199 54.2332C27.1937 54.131 26.9744 53.9703 26.8297 53.7674C26.6851 53.5646 26.5962 53.3268 26.5723 53.0781C26.5723 53.0781 26.5848 54.5982 26.5848 55.0298C26.6085 55.2785 26.697 55.5165 26.8415 55.7196C26.986 55.9226 27.1812 56.0835 27.4074 56.1859C27.4074 56.1859 33.4168 59.7264 34.0324 60.0411C34.6479 60.3559 35.3284 60.5199 36.0187 60.5199C36.709 60.5199 37.3895 60.3559 38.0051 60.0411C38.2314 59.9389 38.4269 59.7781 38.5716 59.575C38.7163 59.3719 38.805 59.1339 38.8288 58.885C38.8288 58.4511 38.8162 57.8426 38.8162 56.9333C38.7919 57.1816 38.7029 57.4189 38.5582 57.6213C38.4136 57.8237 38.2184 57.984 37.9925 58.086Z",fill:"url(#paint6_linear_2761_4768)"}),a.createElement("path",{d:"M70.604 38.4323C70.5808 38.6811 70.4924 38.9193 70.3479 39.1224C70.2034 39.3256 70.0079 39.4864 69.7815 39.5884C69.1657 39.9032 68.485 40.0672 67.7945 40.0672C67.1041 40.0672 66.4234 39.9032 65.8076 39.5884L45.965 28.016C45.7432 27.9142 45.5305 27.7616 45.387 27.5631C45.2435 27.3646 45.1497 27.1427 45.1215 26.8988C45.1215 27.2432 45.1306 28.4602 45.1306 28.8299C45.154 29.0786 45.2425 29.3167 45.387 29.5198C45.5315 29.7229 45.9531 29.986 45.9531 29.986L65.819 41.5458C66.4347 41.8606 67.1155 42.0246 67.8059 42.0246C68.4964 42.0246 69.1771 41.8606 69.7928 41.5458C70.0191 41.4436 70.2145 41.2828 70.359 41.0797C70.5035 40.8766 70.592 40.6385 70.6154 40.3897C70.6177 39.9558 70.604 38.4323 70.604 38.4323Z",fill:"url(#paint7_linear_2761_4768)"}),a.createElement("path",{d:"M59.1749 45.7393C58.5591 46.054 57.8908 46.2346 57.2003 46.2346C56.5099 46.2346 55.8292 46.0705 55.2134 45.7558L45.9484 40.3353C45.7219 40.2332 45.5199 40.097 45.3754 39.8939C45.2309 39.6908 45.1425 39.4526 45.1193 39.2037C45.1193 39.2037 45.1307 40.7249 45.1307 41.1554C45.1544 41.4043 45.2432 41.6423 45.3878 41.8454C45.5325 42.0485 45.9544 42.3116 45.9544 42.3116C45.9544 42.3116 54.6102 47.3927 55.2259 47.7075C55.8417 48.0222 56.5224 48.1863 57.2129 48.1863C57.9033 48.1863 58.584 48.0222 59.1998 47.7075C59.4259 47.6051 59.6212 47.4442 59.7656 47.2411C59.9101 47.038 59.9987 46.8001 60.0224 46.5514C60.0224 46.1174 60.0098 44.5996 60.0098 44.5996C59.9864 44.8484 59.8979 45.0865 59.7534 45.2896C59.6089 45.4927 59.4012 45.637 59.1749 45.7393Z",fill:"url(#paint8_linear_2761_4768)"}),a.createElement("path",{d:"M48.589 51.9211C47.9732 52.2359 47.2925 52.3999 46.6021 52.3999C45.9116 52.3999 45.2309 52.2359 44.6152 51.9211L30.0678 43.4254C29.8416 43.323 29.6233 43.1816 29.4789 42.9786C29.3344 42.7755 29.2458 42.5375 29.2222 42.2888C29.2222 42.2888 29.2347 43.81 29.2347 44.2405C29.2586 44.489 29.3472 44.7268 29.4917 44.9296C29.6361 45.1324 29.8313 45.2932 30.0573 45.3955C30.0573 45.3955 44.0119 53.5615 44.6277 53.8763C45.2434 54.191 45.9242 54.3551 46.6146 54.3551C47.3051 54.3551 47.9858 54.191 48.6015 53.8763C48.8277 53.7738 49.0229 53.6129 49.1674 53.4099C49.3119 53.2068 49.4004 52.9689 49.4241 52.7202C49.4241 52.2862 49.4116 50.7684 49.4116 50.7684C49.3873 51.0165 49.2985 51.2538 49.1541 51.4562C49.0096 51.6586 48.8147 51.819 48.589 51.9211Z",fill:"url(#paint9_linear_2761_4768)"}))),Zn||(Zn=a.createElement("g",{filter:"url(#filter3_bi_2761_4768)"},a.createElement("path",{d:"M25.8861 19.932C25.66 19.8296 25.4647 19.6687 25.3203 19.4656C25.1758 19.2626 25.0872 19.0246 25.0636 18.7759C25.0874 18.5273 25.1761 18.2894 25.3205 18.0864C25.465 17.8834 25.6601 17.7224 25.8861 17.6198L32.5088 13.7669C33.1246 13.4521 33.8053 13.2881 34.4958 13.2881C35.1862 13.2881 35.8669 13.4521 36.4827 13.7669L43.1065 17.6198C43.3327 17.7222 43.5279 17.8831 43.6724 18.0862C43.8169 18.2892 43.9054 18.5272 43.9291 18.7759C43.9053 19.0247 43.8166 19.2628 43.6719 19.4659C43.5272 19.6689 43.3318 19.8298 43.1054 19.932C42.4898 20.2468 41.8093 20.4108 41.119 20.4108C40.4288 20.4108 39.7482 20.2468 39.1327 19.932L37.3041 18.8689V32.6457C37.2801 32.8945 37.1913 33.1324 37.0466 33.3354C36.902 33.5385 36.7066 33.6994 36.4804 33.8018C35.8697 34.1281 35.1869 34.2928 34.4958 34.2805H21.4087V47.2881C21.4197 47.5171 21.3547 47.7433 21.2241 47.9311C21.0663 48.1575 20.8604 48.3458 20.6215 48.4821C20.3337 48.6504 20.0227 48.7746 19.6986 48.8507C18.9767 49.0252 18.224 49.0252 17.5021 48.8507C17.178 48.7746 16.867 48.6504 16.5792 48.4821C16.3408 48.3455 16.1351 48.1578 15.9766 47.9322C15.847 47.7436 15.7821 47.5174 15.792 47.2881V32.648C15.8157 32.3994 15.9043 32.1617 16.0488 31.9588C16.1933 31.756 16.3885 31.5953 16.6146 31.493C17.2253 31.1657 17.9088 31.0009 18.6003 31.0143H31.6874V18.8689L29.8588 19.932C29.2431 20.2468 28.5624 20.4108 27.8719 20.4108C27.1815 20.4108 26.5019 20.2468 25.8861 19.932ZM27.3957 51.9217C28.0114 51.607 28.6922 51.4429 29.3826 51.4429C30.0731 51.4429 30.7538 51.607 31.3695 51.9217L37.9923 55.7747C38.2318 55.8567 38.4398 56.0122 38.5872 56.2195C38.7345 56.4267 38.8137 56.6752 38.8137 56.9302C38.8137 57.1851 38.7345 57.4337 38.5872 57.6409C38.4398 57.8482 38.2318 58.0037 37.9923 58.0857C37.3766 58.4008 36.6958 58.5651 36.0053 58.5651C35.3148 58.5651 34.634 58.4008 34.0184 58.0857L27.3885 54.2328C27.3885 54.2328 26.9469 53.9949 26.7991 53.7876C26.6513 53.5802 26.5718 53.3314 26.5718 53.0761C26.5718 52.8208 26.6513 52.572 26.7991 52.3647C26.9469 52.1574 27.1556 52.0032 27.3957 51.9217ZM34.0184 41.1299C33.4026 40.8151 32.7219 40.6511 32.0315 40.6511C31.341 40.6511 30.6603 40.8151 30.0445 41.1299C29.8046 41.2117 29.5961 41.3672 29.4485 41.5746C29.3008 41.7819 29.2214 42.0308 29.2214 42.286C29.2214 42.5413 29.3008 42.7901 29.4485 42.9975C29.5961 43.2049 30.0445 43.4421 30.0445 43.4421L44.615 51.9183C45.2307 52.2331 45.9114 52.3971 46.6019 52.3971C47.2923 52.3971 47.9731 52.2331 48.5888 51.9183C48.8284 51.8363 49.0364 51.6807 49.1837 51.4735C49.3311 51.2662 49.4103 51.0177 49.4103 50.7628C49.4103 50.5078 49.3311 50.2593 49.1837 50.052C49.0364 49.8448 48.8284 49.6892 48.5888 49.6072L34.0184 41.1299ZM45.94 38.0474C46.5473 37.7383 47.2364 37.5685 47.9269 37.5685C48.6173 37.5685 49.2981 37.7326 49.9138 38.0474L59.1854 43.4433C59.1854 43.4433 59.633 43.6808 59.7803 43.8881C59.9276 44.0953 60.0069 44.3439 60.0069 44.5988C60.0069 44.8537 59.9276 45.1023 59.7803 45.3095C59.633 45.5168 59.1854 45.7543 59.1854 45.7543C58.5696 46.0691 57.8889 46.2331 57.1984 46.2331C56.508 46.2331 55.8273 46.0691 55.2115 45.7543L45.94 40.3584C45.94 40.3584 45.4915 40.1211 45.3439 39.9138C45.1962 39.7064 45.1168 39.4576 45.1168 39.2023C45.1168 38.9471 45.1962 38.6982 45.3439 38.4909C45.4915 38.2835 45.7462 38.1476 45.94 38.0474ZM49.9138 25.7171C49.2981 25.4024 48.6173 25.2383 47.9269 25.2383C47.2364 25.2383 46.5557 25.4024 45.94 25.7171C45.7138 25.8195 45.5186 25.9804 45.3741 26.1835C45.2296 26.3865 45.1411 26.6245 45.1174 26.8732C45.1411 27.1219 45.2296 27.3599 45.3741 27.563C45.5186 27.766 45.94 28.0293 45.94 28.0293L65.8081 39.5904C66.4238 39.9051 67.1046 40.0692 67.795 40.0692C68.4855 40.0692 69.1662 39.9051 69.7819 39.5904C70.0168 39.4703 70.2295 39.3528 70.3769 39.1455C70.5242 38.9383 70.6034 38.6898 70.6034 38.4348C70.6034 38.1799 70.5242 37.9313 70.3769 37.7241C70.2295 37.5168 69.9963 37.3795 69.7819 37.2793L49.9138 25.7171Z",fill:"url(#paint10_linear_2761_4768)",fillOpacity:.35}),a.createElement("path",{d:"M25.916 19.8736L25.916 19.8736L25.9132 19.8723C25.6976 19.7747 25.5115 19.6213 25.3737 19.4276C25.2371 19.2357 25.1529 19.011 25.1294 18.7759C25.1531 18.541 25.2374 18.3163 25.374 18.1244C25.5117 17.9308 25.6978 17.7773 25.9132 17.6795L25.9134 17.6798L25.9191 17.6765L32.5402 13.8245C33.1464 13.5149 33.8163 13.3536 34.4958 13.3536C35.1752 13.3536 35.8452 13.5149 36.4513 13.8245L43.0736 17.6765L43.0734 17.6768L43.0795 17.6795C43.2951 17.7771 43.4812 17.9305 43.619 18.1242C43.7556 18.3161 43.8398 18.5409 43.8632 18.7759C43.8397 19.011 43.7553 19.2358 43.6185 19.4278C43.4805 19.6215 43.2942 19.7748 43.0784 19.8723L43.0784 19.8722L43.0756 19.8736C42.4692 20.1837 41.7989 20.3452 41.119 20.3452C40.4398 20.3452 39.77 20.184 39.1641 19.8744L37.3371 18.8122L37.2386 18.755V18.8689V32.6425C37.2152 32.8787 37.1306 33.1046 36.9932 33.2974C36.8553 33.491 36.669 33.6444 36.4534 33.7421L36.4533 33.742L36.4495 33.744C35.8487 34.065 35.1768 34.2271 34.4969 34.215H34.4958H21.4087H21.3432V34.2805V47.2881H21.3431L21.3432 47.2913C21.3535 47.5059 21.2927 47.7177 21.1704 47.8936C21.0181 48.1121 20.8195 48.2937 20.589 48.4252L20.5884 48.4255C20.3062 48.5905 20.0013 48.7122 19.6836 48.7868L19.6832 48.7869C18.9714 48.959 18.2293 48.959 17.5175 48.7869L17.5171 48.7868C17.1994 48.7122 16.8945 48.5905 16.6123 48.4255L16.6118 48.4253C16.3819 48.2935 16.1834 48.1124 16.0304 47.8948C15.909 47.7179 15.8483 47.5059 15.8575 47.291H15.8575V47.2881V32.6512C15.8806 32.4151 15.965 32.1895 16.1022 31.9968C16.24 31.8034 16.4261 31.6502 16.6416 31.5528L16.6416 31.5529L16.6455 31.5508C17.2463 31.2288 17.9188 31.0667 18.5991 31.0798H18.6003H31.6874H31.753V31.0143V18.8689V18.755L31.6545 18.8122L29.8274 19.8744C29.2213 20.184 28.5514 20.3453 27.8719 20.3453C27.1919 20.3453 26.5225 20.1837 25.916 19.8736ZM27.4167 51.9838L27.417 51.9845L27.4255 51.9801C28.0321 51.6701 28.7026 51.5085 29.3826 51.5085C30.0621 51.5085 30.732 51.6698 31.3381 51.9793L37.9593 55.8313L37.9586 55.8324L37.971 55.8367C38.1975 55.9142 38.3943 56.0613 38.5337 56.2574C38.6732 56.4536 38.7482 56.6888 38.7482 56.9302C38.7482 57.1715 38.6732 57.4068 38.5337 57.6029C38.3943 57.799 38.1975 57.9461 37.971 58.0237L37.9708 58.023L37.9624 58.0274C37.356 58.3377 36.6854 58.4995 36.0053 58.4995C35.3258 58.4995 34.6558 58.338 34.0498 58.0281L27.4214 54.1761L27.4214 54.1761L27.4196 54.1751L27.4196 54.1751L27.4194 54.175L27.4185 54.1745L27.415 54.1726L27.4012 54.165C27.3892 54.1582 27.3717 54.1483 27.3503 54.1358C27.3073 54.1107 27.2486 54.0751 27.1854 54.0333C27.0564 53.9478 26.9186 53.8422 26.8525 53.7495C26.7126 53.5533 26.6373 53.3178 26.6373 53.0761C26.6373 52.8344 26.7126 52.5989 26.8525 52.4027C26.9923 52.2067 27.1896 52.0609 27.4167 51.9838ZM30.0657 41.192L30.0659 41.1926L30.0744 41.1883C30.6809 40.8782 31.3514 40.7167 32.0315 40.7167C32.7109 40.7167 33.3809 40.8779 33.987 41.1875L48.5558 49.6639L48.5552 49.665L48.5676 49.6693C48.7941 49.7468 48.9909 49.8939 49.1303 50.09C49.2697 50.2861 49.3447 50.5214 49.3447 50.7628C49.3447 51.0041 49.2697 51.2394 49.1303 51.4355C48.9909 51.6316 48.7941 51.7787 48.5676 51.8563L48.5674 51.8556L48.559 51.8599C47.9524 52.17 47.2819 52.3315 46.6019 52.3315C45.9224 52.3315 45.2525 52.1702 44.6463 51.8607L30.0775 43.3855L30.0775 43.3854L30.0752 43.3842L30.0752 43.3842L30.075 43.3841L30.0741 43.3836L30.0706 43.3817L30.0565 43.3741C30.0531 43.3721 30.0491 43.37 30.0448 43.3676C30.0339 43.3615 30.0204 43.3539 30.0048 43.345C29.9613 43.3199 29.9017 43.2844 29.8377 43.2427C29.7069 43.1572 29.5677 43.0519 29.5019 42.9594C29.3621 42.7632 29.2869 42.5277 29.2869 42.286C29.2869 42.0444 29.3621 41.8088 29.5019 41.6126C29.6416 41.4163 29.8388 41.2693 30.0657 41.192ZM59.1557 45.6958L59.1555 45.6959C59.1554 45.696 59.1552 45.6961 59.155 45.6962C58.5486 46.0061 57.8783 46.1676 57.1984 46.1676C56.519 46.1676 55.8491 46.0063 55.2429 45.6968L45.9729 40.3018L45.973 40.3017L45.9706 40.3005L45.9706 40.3004L45.9704 40.3003L45.9695 40.2999L45.966 40.298L45.952 40.2903C45.9397 40.2836 45.922 40.2738 45.9002 40.2613C45.8567 40.2362 45.7971 40.2007 45.7331 40.159C45.6023 40.0735 45.4631 39.9682 45.3973 39.8757C45.2575 39.6795 45.1823 39.444 45.1823 39.2023C45.1823 38.9607 45.2575 38.7251 45.3973 38.5289C45.5342 38.3365 45.7739 38.2071 45.9699 38.1057C46.5682 37.8013 47.2471 37.6341 47.9269 37.6341C48.6064 37.6341 49.2763 37.7954 49.8824 38.1049L59.1524 43.4999L59.1524 43.5L59.1546 43.5012L59.1547 43.5012L59.1549 43.5013L59.1557 43.5017L59.1593 43.5037L59.1733 43.5113C59.1855 43.518 59.2032 43.5279 59.2249 43.5404C59.2684 43.5655 59.3278 43.601 59.3917 43.6428C59.5223 43.7283 59.6612 43.8336 59.7269 43.9261C59.8663 44.1222 59.9413 44.3574 59.9413 44.5988C59.9413 44.8402 59.8663 45.0754 59.7269 45.2715C59.6612 45.364 59.5223 45.4693 59.3917 45.5548C59.3278 45.5966 59.2684 45.6321 59.2249 45.6572C59.2032 45.6697 59.1855 45.6796 59.1733 45.6863L59.1593 45.6939L59.1557 45.6958ZM45.967 25.7768L45.967 25.7769L45.9698 25.7755C46.5763 25.4654 47.2468 25.3039 47.9269 25.3039C48.6063 25.3039 49.2763 25.4652 49.8824 25.7747L69.749 37.336L69.7488 37.3362L69.7542 37.3387C69.966 37.4378 70.1863 37.5692 70.3234 37.7621C70.4629 37.9582 70.5379 38.1935 70.5379 38.4348C70.5379 38.6762 70.4629 38.9114 70.3234 39.1076C70.1865 39.3002 69.9877 39.4116 69.7521 39.532C69.1456 39.842 68.4751 40.0036 67.795 40.0036C67.1156 40.0036 66.4456 39.8423 65.8395 39.5328L45.9747 27.9737L45.9747 27.9737L45.9745 27.9736L45.9737 27.9731L45.9703 27.9709L45.957 27.9625C45.9455 27.9551 45.9288 27.9442 45.9082 27.9305C45.8671 27.903 45.8108 27.8644 45.7502 27.8196C45.6265 27.7282 45.493 27.617 45.4275 27.5249C45.2909 27.333 45.2067 27.1082 45.1833 26.8732C45.2067 26.6382 45.2909 26.4134 45.4275 26.2215C45.5653 26.0278 45.7514 25.8744 45.967 25.7768Z",stroke:"url(#paint11_linear_2761_4768)",strokeWidth:.131111}))),Nn||(Nn=a.createElement("defs",null,a.createElement("filter",{id:"filter0_di_2761_4768",x:.581774,y:23.0865,width:85.3107,height:54.8118,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:5.24444}),a.createElement("feGaussianBlur",{stdDeviation:3.27778}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0980392 0 0 0 0 0.211765 0 0 0 0 0.482353 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2761_4768"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2761_4768",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2.62222}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4768"})),a.createElement("filter",{id:"filter1_f_2761_4768",x:13.1826,y:21.583,width:60.0554,height:43.2429,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:1.31111,result:"effect1_foregroundBlur_2761_4768"})),a.createElement("filter",{id:"filter2_b_2761_4768",x:14.4937,y:17.4651,width:57.4331,height:44.3659,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:.655556}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4768"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4768",result:"shape"})),a.createElement("filter",{id:"filter3_bi_2761_4768",x:11.8577,y:9.35475,width:62.679,height:53.1436,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:1.96667}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4768"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4768",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:.983333}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4768"})),a.createElement("linearGradient",{id:"paint0_linear_2761_4768",x1:75.8984,y1:32.3716,x2:9.21087,y2:53.828,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#00298D"}),a.createElement("stop",{offset:.189268,stopColor:"#2349A7"}),a.createElement("stop",{offset:.646435,stopColor:"#3155AD"}),a.createElement("stop",{offset:1,stopColor:"#032C91"})),a.createElement("radialGradient",{id:"paint1_radial_2761_4768",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(43.2371 45.2479) rotate(90) scale(28.6214 49.5543)"},a.createElement("stop",{offset:.0520833,stopColor:"#062E8D"}),a.createElement("stop",{offset:1,stopColor:"#2968FE"})),a.createElement("linearGradient",{id:"paint2_linear_2761_4768",x1:31.7221,y1:23.199,x2:51.3231,y2:64.8863,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:0}),a.createElement("stop",{offset:1,stopColor:"white",stopOpacity:.43})),a.createElement("linearGradient",{id:"paint3_linear_2761_4768",x1:31.6952,y1:24.008,x2:26.702,y2:16.6928,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint4_linear_2761_4768",x1:43.9641,y1:44.2212,x2:17.903,y2:17.5122,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint5_linear_2761_4768",x1:21.4293,y1:52.597,x2:16.1005,y2:46.0695,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint6_linear_2761_4768",x1:38.8411,y1:63.9231,x2:28.1145,y2:49.8979,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint7_linear_2761_4768",x1:70.6412,y1:48.9418,x2:48.976,y2:19.9518,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint8_linear_2761_4768",x1:60.0373,y1:52.2941,x2:47.1152,y2:35.2735,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint9_linear_2761_4768",x1:49.4444,y1:59.873,x2:32.1291,y2:36.8579,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint10_linear_2761_4768",x1:15.791,y1:9.37807,x2:78.7776,y2:43.4572,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.0529546,stopColor:"#3FA6E0"}),a.createElement("stop",{offset:.461273,stopColor:"#79CFFF"}),a.createElement("stop",{offset:1,stopColor:"#79CFFF"})),a.createElement("linearGradient",{id:"paint11_linear_2761_4768",x1:69.1693,y1:65.1785,x2:10.3593,y2:36.5496,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.923987,stopColor:"#BDE7FF",stopOpacity:0})))))}var Xn,Yn=a.forwardRef(Hn),Kn=(n.p,["title","titleId"]);function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}function Jn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $n(e,t){var n=e.title,r=e.titleId,i=Jn(e,Kn);return a.createElement("svg",Qn({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Xn||(Xn=a.createElement("path",{d:"M16.3992 5.12747C16.6454 5.34607 16.7891 5.64755 16.7987 5.96563C16.8083 6.2837 16.683 6.59233 16.4503 6.82366L9.20814 14.0245C9.09077 14.141 8.94972 14.2342 8.79333 14.2987C8.63694 14.3631 8.46839 14.3975 8.29762 14.3997C8.12686 14.4019 7.95734 14.372 7.7991 14.3117C7.64086 14.2514 7.4971 14.1619 7.37631 14.0485L3.54223 10.4481C3.31648 10.2206 3.19358 9.91967 3.19942 9.60875C3.20526 9.29783 3.33939 9.00118 3.57354 8.78129C3.8077 8.56141 4.1236 8.43545 4.4547 8.42997C4.7858 8.42448 5.10623 8.53989 5.3485 8.75188L8.25388 11.4786L14.5929 5.17547C14.8257 4.94424 15.1467 4.80929 15.4854 4.80029C15.8242 4.79128 16.1528 4.90897 16.3992 5.12747Z"})))}var er,tr,nr,rr,ir,ar,or,sr=a.forwardRef($n),lr=(n.p,["title","titleId"]);function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ur.apply(this,arguments)}function cr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fr(e,t){var n=e.title,r=e.titleId,i=cr(e,lr);return a.createElement("svg",ur({width:87,height:80,viewBox:"0 0 87 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,er||(er=a.createElement("path",{d:"M79.8587 40.1903C79.8587 45.523 76.3216 50.8528 69.2859 54.9221C55.1879 63.0635 32.3313 63.0649 18.2333 54.9221C10.7097 50.5757 7.24196 44.7888 7.75041 39.0978C7.70589 39.3027 7.67243 39.5099 7.6502 39.7185C6.97227 47.1478 9.25807 52.2505 18.2333 57.4285C32.3313 65.5713 55.1879 65.5699 69.2859 57.4285C77.3577 52.7651 80.0237 46.8514 79.8587 40.1903Z",fill:"url(#paint0_linear_2761_4719)"})),tr||(tr=a.createElement("g",{filter:"url(#filter0_di_2761_4719)"},a.createElement("path",{d:"M43.7614 61.0288C63.6988 61.0288 79.8612 51.6938 79.8612 40.1785C79.8612 28.6631 63.6988 19.3281 43.7614 19.3281C23.8241 19.3281 7.66162 28.6631 7.66162 40.1785C7.66162 51.6938 23.8241 61.0288 43.7614 61.0288Z",fill:"url(#paint1_radial_2761_4719)"}),a.createElement("path",{d:"M79.7957 40.1785C79.7957 45.9028 75.7779 51.0977 69.2551 54.8652C62.7339 58.6316 53.7207 60.9633 43.7614 60.9633C33.8022 60.9633 24.7889 58.6316 18.2678 54.8652C11.7449 51.0977 7.72718 45.9028 7.72718 40.1785C7.72718 34.4541 11.7449 29.2593 18.2678 25.4918C24.7889 21.7254 33.8022 19.3937 43.7614 19.3937C53.7207 19.3937 62.7339 21.7254 69.2551 25.4918C75.7779 29.2593 79.7957 34.4541 79.7957 40.1785Z",stroke:"url(#paint2_linear_2761_4719)",strokeWidth:.131111,strokeLinejoin:"round"}))),a.createElement("g",{style:{mixBlendMode:"multiply"},filter:"url(#filter1_f_2761_4719)"},nr||(nr=a.createElement("path",{d:"M36.5559 47.0106L63.5514 31.8499V29.8044L36.5559 44.9651L19.2025 35.2202V37.2657L36.5559 47.0106Z",fill:"#083090",fillOpacity:.4})),rr||(rr=a.createElement("path",{d:"M71.8895 32.2109C71.8763 32.3469 71.8311 32.4759 71.7492 32.5869C71.6672 32.6979 71.5685 32.7474 71.4232 32.8426L37.68 51.7946C37.3315 51.967 36.946 52.0569 36.555 52.0569C36.164 52.0569 35.7785 51.967 35.43 51.7946L8.99076 37.0996C8.92947 37.0996 8.316 38.6747 8.316 38.6747L35.4349 53.8401C35.7835 54.0125 36.1689 54.1024 36.56 54.1024C36.951 54.1024 37.3365 54.0125 37.685 53.8401L71.4281 34.8893C71.5564 34.8336 71.6672 34.7458 71.7492 34.6348C71.8311 34.5238 71.8812 34.3936 71.8945 34.2576L71.8895 32.2109Z",fill:"#083090",fillOpacity:.4}))),ir||(ir=a.createElement("g",{filter:"url(#filter2_b_2761_4719)"},a.createElement("path",{d:"M36.5537 45.1983L63.5492 30.0377V27.9922L36.5537 43.1528L19.2003 33.4079V35.4534L36.5537 45.1983Z",fill:"url(#paint3_linear_2761_4719)"}),a.createElement("path",{d:"M71.8864 30.3986C71.8732 30.5347 71.828 30.6636 71.7461 30.7746C71.6641 30.8856 71.5654 30.9352 71.4201 31.0303L37.677 49.9823C37.3284 50.1548 36.943 50.2447 36.5519 50.2447C36.1609 50.2447 35.7754 50.1548 35.4269 49.9823L1.68378 31.0315C1.55455 30.9763 1.44239 30.8892 1.35843 30.7788C1.27446 30.6684 1.2216 30.5386 1.20508 30.4022C1.20508 30.4022 1.20508 32.2071 1.20508 32.4477C1.2216 32.5841 1.27446 32.7139 1.35843 32.8243C1.44239 32.9346 1.55455 33.0218 1.68378 33.077L35.4319 52.0278C35.7804 52.2003 36.1659 52.2902 36.5569 52.2902C36.9479 52.2902 37.3334 52.2003 37.6819 52.0278L71.425 33.077C71.5533 33.0213 71.6641 32.9335 71.7461 32.8225C71.828 32.7115 71.8781 32.5813 71.8914 32.4453L71.8864 30.3986Z",fill:"url(#paint4_linear_2761_4719)"}))),ar||(ar=a.createElement("g",{filter:"url(#filter3_bi_2761_4719)"},a.createElement("path",{d:"M3.90732 29.7537C3.55838 29.578 3.16954 29.4907 2.77674 29.4999C2.38736 29.4951 2.00323 29.5875 1.661 29.7682C1.53422 29.8251 1.42533 29.9138 1.34553 30.0253C1.26574 30.1367 1.21793 30.2669 1.20703 30.4023C1.22355 30.5386 1.27641 30.6684 1.36038 30.7788C1.44435 30.8892 1.5565 30.9763 1.68574 31.0316L35.4301 49.9824C35.7786 50.1548 36.1641 50.2447 36.5551 50.2447C36.9461 50.2447 37.3316 50.1548 37.6801 49.9824L71.4233 31.0316C71.5592 30.987 71.6774 30.9021 71.7611 30.7888C71.8447 30.6754 71.8898 30.5394 71.8898 30.3999C71.8898 30.2603 71.8447 30.1243 71.7611 30.011C71.6774 29.8977 71.5592 29.8127 71.4233 29.7682C71.0745 29.5965 70.6891 29.507 70.2983 29.507C69.9074 29.507 69.522 29.5965 69.1732 29.7682L36.5496 48.0861L3.90732 29.7537ZM63.5451 27.9922L39.9252 14.7278C39.6871 14.5992 39.4252 14.5175 39.1546 14.4872C38.8618 14.45 38.5648 14.4593 38.2751 14.5149C38.018 14.5604 37.7736 14.658 37.5577 14.8012C37.3898 14.9064 37.2694 15.0699 37.2212 15.2585L35.0887 26.0249L23.7594 27.7612C23.5345 27.7928 23.3164 27.8599 23.1137 27.9597C22.9474 28.0378 22.8038 28.1548 22.6956 28.3002L19.1974 33.4055L36.5496 43.1517L63.5451 27.9922Z",fill:"url(#paint5_linear_2761_4719)",fillOpacity:.35}),a.createElement("path",{d:"M2.77593 29.5654L2.77826 29.5654C3.15988 29.5565 3.53758 29.6412 3.87652 29.8116L36.5175 48.1433L36.5496 48.1613L36.5817 48.1433L69.2022 29.827C69.2027 29.8267 69.2033 29.8265 69.2038 29.8262C69.5431 29.6595 69.918 29.5726 70.2983 29.5726C70.6792 29.5726 71.0546 29.6597 71.3943 29.827L71.394 29.8276L71.4029 29.8305C71.5261 29.8709 71.6329 29.9477 71.7083 30.0499C71.7838 30.1521 71.8242 30.2745 71.8242 30.3999C71.8242 30.5252 71.7838 30.6476 71.7083 30.7498C71.6329 30.852 71.5261 30.9289 71.4029 30.9693L71.4025 30.9681L71.3912 30.9744L37.6511 49.9236C37.6506 49.9239 37.6501 49.9241 37.6496 49.9244C37.3105 50.0918 36.9355 50.1792 36.5551 50.1792C36.1747 50.1792 35.7997 50.0918 35.4607 49.9244L1.71784 30.9744L1.71802 30.9741L1.7115 30.9713C1.59256 30.9204 1.48955 30.8404 1.41256 30.7391C1.33692 30.6397 1.28892 30.5233 1.27294 30.401C1.28387 30.2799 1.3272 30.1635 1.39884 30.0634C1.47178 29.9616 1.57149 29.8802 1.68784 29.828L1.6879 29.8281L1.69161 29.8261C2.0241 29.6506 2.39743 29.5608 2.77593 29.5654ZM39.8941 14.7855L63.4112 27.9922L36.5496 43.0765L19.292 33.3835L22.7489 28.3384C22.8505 28.2022 22.9853 28.0924 23.1415 28.0191L23.1426 28.0185C23.3391 27.9218 23.5505 27.8568 23.7685 27.8261L23.7693 27.826L35.0986 26.0897L35.1441 26.0828L35.153 26.0377L37.2852 15.273C37.3294 15.1018 37.4391 14.9529 37.5925 14.8568L37.5925 14.8568L37.5939 14.8559C37.8023 14.7176 38.0382 14.6234 38.2866 14.5794L38.2875 14.5793C38.5704 14.525 38.8604 14.5159 39.1463 14.5522L39.1473 14.5523C39.4094 14.5817 39.663 14.6608 39.8936 14.7853C39.8938 14.7853 39.8939 14.7854 39.8941 14.7855Z",stroke:"url(#paint6_linear_2761_4719)",strokeWidth:.131111}))),or||(or=a.createElement("defs",null,a.createElement("filter",{id:"filter0_di_2761_4719",x:1.10607,y:18.017,width:85.3107,height:54.8119,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:5.24444}),a.createElement("feGaussianBlur",{stdDeviation:3.27778}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0980392 0 0 0 0 0.211765 0 0 0 0 0.482353 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2761_4719"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2761_4719",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2.62222}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4719"})),a.createElement("filter",{id:"filter1_f_2761_4719",x:5.69382,y:27.1822,width:68.8229,height:29.5424,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:1.31111,result:"effect1_foregroundBlur_2761_4719"})),a.createElement("filter",{id:"filter2_b_2761_4719",x:-.106033,y:26.6811,width:73.3085,height:26.9202,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:.655556}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4719"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4719",result:"shape"})),a.createElement("filter",{id:"filter3_bi_2761_4719",x:-2.7263,y:10.5315,width:78.5494,height:43.6466,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:1.96667}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4719"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4719",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:.983333}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4719"})),a.createElement("linearGradient",{id:"paint0_linear_2761_4719",x1:76.4224,y1:27.3022,x2:9.73492,y2:48.7585,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#00298D"}),a.createElement("stop",{offset:.189268,stopColor:"#2349A7"}),a.createElement("stop",{offset:.646435,stopColor:"#3155AD"}),a.createElement("stop",{offset:1,stopColor:"#032C91"})),a.createElement("radialGradient",{id:"paint1_radial_2761_4719",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(43.7614 40.1785) rotate(90) scale(28.6214 49.5543)"},a.createElement("stop",{offset:.0520833,stopColor:"#062E8D"}),a.createElement("stop",{offset:1,stopColor:"#2968FE"})),a.createElement("linearGradient",{id:"paint2_linear_2761_4719",x1:32.2464,y1:18.1295,x2:51.8473,y2:59.8168,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:0}),a.createElement("stop",{offset:1,stopColor:"white",stopOpacity:.43})),a.createElement("linearGradient",{id:"paint3_linear_2761_4719",x1:63.5937,y1:53.0668,x2:43.3191,y2:11.5797,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint4_linear_2761_4719",x1:71.9623,y1:62.3013,x2:49.8225,y2:5.54752,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint5_linear_2761_4719",x1:1.20703,y1:11.375,x2:60.2123,y2:63.471,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.0529546,stopColor:"#3FA6E0"}),a.createElement("stop",{offset:.461273,stopColor:"#79CFFF"}),a.createElement("stop",{offset:1,stopColor:"#79CFFF"})),a.createElement("linearGradient",{id:"paint6_linear_2761_4719",x1:70.0404,y1:55.471,x2:12.5249,y2:9.78205,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.923987,stopColor:"#BDE7FF",stopOpacity:0})))))}var hr,dr,pr,mr,vr,yr,gr,_r,xr,br,wr=a.forwardRef(fr),kr=(n.p,["title","titleId"]);function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cr.apply(this,arguments)}function Er(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sr(e,t){var n=e.title,r=e.titleId,i=Er(e,kr);return a.createElement("svg",Cr({width:86,height:80,viewBox:"0 0 86 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,hr||(hr=a.createElement("path",{d:"M79.1419 41.2135C79.1419 46.5462 75.6048 51.876 68.5691 55.9452C54.4711 64.0866 31.6145 64.0881 17.5165 55.9452C9.99293 51.5988 6.52517 45.812 7.03361 40.121C6.98909 40.3259 6.95564 40.5331 6.9334 40.7417C6.25547 48.171 8.54127 53.2737 17.5165 58.4517C31.6145 66.5945 54.4711 66.5931 68.5691 58.4517C76.6409 53.7883 79.3069 47.8746 79.1419 41.2135Z",fill:"url(#paint0_linear_2761_4661)"})),dr||(dr=a.createElement("g",{filter:"url(#filter0_di_2761_4661)"},a.createElement("path",{d:"M43.0444 62.052C62.9818 62.052 79.1442 52.717 79.1442 41.2017C79.1442 29.6863 62.9818 20.3513 43.0444 20.3513C23.107 20.3513 6.94458 29.6863 6.94458 41.2017C6.94458 52.717 23.107 62.052 43.0444 62.052Z",fill:"url(#paint1_radial_2761_4661)"}),a.createElement("path",{d:"M79.0786 41.2017C79.0786 46.926 75.0609 52.1209 68.538 55.8883C62.0169 59.6548 53.0037 61.9865 43.0444 61.9865C33.0851 61.9865 24.0719 59.6548 17.5508 55.8883C11.0279 52.1209 7.01014 46.926 7.01014 41.2017C7.01014 35.4773 11.0279 30.2825 17.5508 26.515C24.0719 22.7486 33.0851 20.4169 43.0444 20.4169C53.0037 20.4169 62.0169 22.7486 68.538 26.515C75.0609 30.2825 79.0786 35.4773 79.0786 41.2017Z",stroke:"url(#paint2_linear_2761_4661)",strokeWidth:.131111,strokeLinejoin:"round"}))),a.createElement("g",{style:{mixBlendMode:"multiply"},filter:"url(#filter1_f_2761_4661)"},pr||(pr=a.createElement("path",{d:"M21.7928 28.8549C21.0515 28.5879 20.223 28.4503 19.3828 28.4547C18.5348 28.4388 17.6939 28.5632 16.9335 28.8169C16.6178 28.9241 16.3387 29.0745 16.114 29.2586C15.9307 29.4088 15.8229 29.5944 15.8064 29.7887C15.8012 29.9818 15.8899 30.1708 16.059 30.3267C16.1543 30.417 16.2655 30.4991 16.3902 30.5714C16.556 30.4718 16.7383 30.3856 16.9335 30.3143C17.6939 30.0606 18.5348 29.9362 19.3828 29.9521C20.223 29.9477 21.0515 30.0853 21.7928 30.3523C21.9505 30.4135 22.0991 30.4848 22.2366 30.5652C22.4138 30.4736 22.5582 30.3562 22.6591 30.2217C22.7599 30.0873 22.8146 29.9393 22.8191 29.7887C22.7794 29.5871 22.6643 29.3956 22.4848 29.2323C22.3053 29.0689 22.0671 28.9391 21.7928 28.8549Z",fill:"#083090",fillOpacity:.4})),mr||(mr=a.createElement("path",{d:"M31.5924 23.1929C30.8511 22.9259 30.0226 22.7883 29.1823 22.7927C28.3344 22.7769 27.4935 22.9012 26.7331 23.1549C26.4173 23.2621 26.1382 23.4125 25.9136 23.5966C25.7302 23.7468 25.6225 23.9324 25.6059 24.1267C25.6007 24.3198 25.6895 24.5088 25.8586 24.6647C25.9539 24.755 26.0651 24.8372 26.1898 24.9094C26.3556 24.8098 26.5379 24.7236 26.7331 24.6523C27.4935 24.3986 28.3344 24.2742 29.1823 24.2901C30.0226 24.2857 30.8511 24.4233 31.5924 24.6903C31.75 24.7515 31.8987 24.8228 32.0361 24.9032C32.2134 24.8116 32.3578 24.6942 32.4587 24.5598C32.5595 24.4253 32.6142 24.2773 32.6187 24.1267C32.5789 23.9251 32.4639 23.7336 32.2843 23.5703C32.1048 23.407 31.8667 23.2771 31.5924 23.1929Z",fill:"#083090",fillOpacity:.4})),vr||(vr=a.createElement("path",{d:"M11.3985 24.3061L13.4286 23.1098L11.7956 22.1469C11.6249 22.0652 11.4753 21.944 11.3587 21.7929C11.242 21.6418 11.1616 21.465 11.1237 21.2766C11.1237 21.2766 11.0863 23.443 11.1237 23.7718C11.1595 23.9744 11.2554 24.1609 11.3985 24.3061Z",fill:"#083090",fillOpacity:.4})),yr||(yr=a.createElement("path",{d:"M43.9627 30.7643C44.5213 30.5083 45.0036 30.1061 45.3606 29.5985C45.7177 29.0909 45.9367 28.496 45.9956 27.8742V25.379C45.9367 26.0008 45.7177 26.5957 45.3606 27.1033C45.0036 27.6108 44.5213 28.013 43.9627 28.269L25.4286 39.1776C23.9197 39.9961 22.2311 40.4083 20.5225 40.3753C18.8139 40.4082 17.1253 39.996 15.6163 39.1776L9.08031 35.3704C9.08035 35.7575 8.20044 37.3595 8.20044 37.3595L15.6163 41.6728C17.1253 42.4912 18.8139 42.9034 20.5225 42.8706C22.2311 42.9036 23.9197 42.4913 25.4286 41.6728L43.9627 30.7643Z",fill:"#083090",fillOpacity:.4})),gr||(gr=a.createElement("path",{d:"M65.6695 34.0169C65.683 34.2619 65.6738 34.5076 65.6422 34.7508C65.1602 38.4878 61.7043 42.2086 55.4025 45.9192C49.6596 49.4663 43.1558 51.5319 36.4541 51.9371C34.8133 52.0126 33.1697 51.8764 31.5623 51.532C30.1051 51.2318 28.7023 50.7025 27.4043 49.9629L25.4246 48.7975C24.8663 48.5415 24.3843 48.1392 24.0278 47.6316C23.6712 47.124 23.4527 46.5291 23.3945 45.9074C23.3945 45.9074 23.3945 47.3194 23.3945 48.4027C23.4527 49.0243 23.6712 49.6192 24.0278 50.1268C24.3843 50.6344 24.8663 51.0367 25.4246 51.2927L27.4043 52.4582C28.7023 53.1977 30.1051 53.727 31.5623 54.0272C33.1697 54.3717 34.8133 54.5078 36.4541 54.4323C43.1558 54.0271 49.6596 51.9615 55.4025 48.4144C61.7043 44.7038 65.1602 40.983 65.6422 37.246C65.7139 36.1712 65.723 35.0929 65.6695 34.0169Z",fill:"#083090",fillOpacity:.4}))),_r||(_r=a.createElement("g",{filter:"url(#filter2_b_2761_4661)"},a.createElement("path",{d:"M22.0358 26.9063C21.2211 26.4626 20.3106 26.2341 19.3871 26.2414C18.4551 26.215 17.531 26.4216 16.6952 26.8432C16.3482 27.0212 16.0415 27.2712 15.7945 27.5771C15.593 27.8265 15.4746 28.135 15.4564 28.4577C15.4507 28.7787 15.5482 29.0926 15.7341 29.3516C15.8388 29.5017 15.9611 29.6382 16.0981 29.7582C16.2803 29.5928 16.4807 29.4495 16.6952 29.3311C17.531 28.9095 18.4551 28.7029 19.3871 28.7293C20.3106 28.7219 21.2211 28.9505 22.0358 29.3942C22.2091 29.4959 22.3725 29.6144 22.5236 29.7479C22.7184 29.5957 22.8771 29.4007 22.9879 29.1773C23.0988 28.954 23.1589 28.708 23.1638 28.4577C23.1201 28.1228 22.9937 27.8047 22.7964 27.5333C22.5991 27.2619 22.3373 27.0461 22.0358 26.9063Z",fill:"url(#paint3_linear_2761_4661)"}),a.createElement("path",{d:"M31.833 21.1348C31.0179 20.6924 30.1076 20.4643 29.1843 20.4714C28.2529 20.4446 27.3292 20.6507 26.4938 21.0717C26.1465 21.2499 25.8393 21.4998 25.5917 21.8056C25.3902 22.0551 25.2718 22.3635 25.2536 22.6863C25.2485 23.0071 25.346 23.3209 25.5313 23.5801C25.636 23.7302 25.7583 23.8667 25.8953 23.9867C26.0773 23.82 26.2783 23.6761 26.4938 23.5581C27.3293 23.1373 28.2528 22.9307 29.1843 22.9563C30.1077 22.9498 31.0181 23.1783 31.833 23.6212C32.0064 23.7235 32.1697 23.8424 32.3208 23.9764C32.5156 23.8242 32.6743 23.6292 32.7851 23.4058C32.896 23.1825 32.9561 22.9366 32.961 22.6863C32.9169 22.3515 32.7903 22.0335 32.5931 21.7622C32.3958 21.4909 32.1343 21.275 31.833 21.1348Z",fill:"url(#paint4_linear_2761_4661)"}),a.createElement("path",{d:"M11.3963 22.2505L13.4264 21.0542L11.7934 20.0913C11.6227 20.0096 11.4731 19.8884 11.3565 19.7373C11.2398 19.5862 11.1594 19.4094 11.1215 19.2209C11.1215 19.2209 11.0841 21.3874 11.1215 21.7162C11.1573 21.9188 11.2532 22.1053 11.3963 22.2505Z",fill:"url(#paint5_linear_2761_4661)"}),a.createElement("path",{d:"M43.9601 28.7087C44.5187 28.4527 45.001 28.0505 45.358 27.5429C45.715 27.0353 45.9341 26.4404 45.993 25.8186V23.3234C45.9341 23.9452 45.715 24.5401 45.358 25.0477C45.001 25.5552 44.5187 25.9574 43.9601 26.2134L25.426 37.122C23.9171 37.9405 22.2285 38.3527 20.5199 38.3197C18.8112 38.3526 17.1226 37.9404 15.6137 37.122L5.79419 31.3375C5.2066 31.0107 4.69366 30.5604 4.28925 30.0165C3.95561 29.5649 3.77076 29.0172 3.76123 28.4518V30.947C3.77076 31.5124 3.95561 32.0602 4.28925 32.5117C4.69366 33.0557 5.2066 33.5059 5.79419 33.8327L15.6137 39.6172C17.1226 40.4356 18.8112 40.8478 20.5199 40.815C22.2285 40.848 23.9171 40.4357 25.426 39.6172L43.9601 28.7087Z",fill:"url(#paint6_linear_2761_4661)"}),a.createElement("path",{d:"M65.665 31.9613C65.6785 32.2063 65.6693 32.452 65.6376 32.6952C65.1557 36.4322 61.6998 40.153 55.398 43.8636C49.6551 47.4107 43.1513 49.4763 36.4496 49.8815C34.8088 49.9569 33.1652 49.8208 31.5578 49.4764C30.1005 49.1762 28.6978 48.6469 27.3998 47.9073L25.4201 46.7419C24.8618 46.4859 24.3798 46.0836 24.0233 45.576C23.6667 45.0684 23.4482 44.4735 23.39 43.8518C23.39 43.8518 23.39 45.2638 23.39 46.3471C23.4482 46.9687 23.6667 47.5636 24.0233 48.0712C24.3798 48.5788 24.8618 48.9811 25.4201 49.2371L27.3998 50.4025C28.6978 51.1421 30.1005 51.6714 31.5578 51.9716C33.1652 52.3161 34.8088 52.4522 36.4496 52.3767C43.1513 51.9715 49.6551 49.9059 55.398 46.3588C61.6998 42.6482 65.1557 38.9274 65.6376 35.1904C65.7094 34.1156 65.7185 33.0373 65.665 31.9613Z",fill:"url(#paint7_linear_2761_4661)"}))),xr||(xr=a.createElement("g",{filter:"url(#filter3_bi_2761_4661)"},a.createElement("path",{d:"M50.5027 26.1954C51.2076 25.7935 51.9654 25.4969 52.753 25.3147C54.4997 24.8999 56.3166 24.8999 58.0634 25.3147C58.8514 25.4969 59.6096 25.7935 60.3151 26.1954L62.2862 27.3564C63.3511 27.9464 64.2634 28.786 64.9479 29.8062C65.51 30.6512 65.7542 31.6748 65.6356 32.6889C65.1536 36.4259 61.6977 40.1467 55.396 43.8573C49.653 47.4044 43.1492 49.4699 36.4475 49.8752C34.8067 49.9506 33.1632 49.8145 31.5558 49.4701C30.0985 49.1699 28.6957 48.6406 27.3978 47.901L25.418 46.7356C24.8597 46.4795 24.3778 46.0773 24.0212 45.5697C23.6646 45.0621 23.4461 44.4672 23.3879 43.8455C23.4472 43.224 23.6665 42.6295 24.0235 42.1222C24.3805 41.6149 24.8626 41.2129 25.4209 40.9569L50.5042 26.1939L50.5027 26.1954ZM11.5887 18.309L11.793 18.1725C12.2478 17.9229 12.7543 17.7871 13.2706 17.7762C13.8026 17.7491 14.3338 17.8428 14.8259 18.0507L15.0633 18.1725L16.6949 19.1354L24.3203 14.6395C25.8293 13.8217 27.5179 13.41 29.2264 13.4433C30.9349 13.4098 32.6236 13.8215 34.1326 14.6395L43.9564 20.4256C44.5148 20.6816 44.9969 21.0839 45.3537 21.5915C45.7105 22.099 45.9293 22.6939 45.9879 23.3156C45.9308 23.9381 45.7131 24.5341 45.3571 25.043C45.001 25.5519 44.5192 25.9556 43.9607 26.213L25.4267 37.1216C23.9178 37.9401 22.2291 38.3523 20.5205 38.3193C18.8119 38.3522 17.1233 37.94 15.6143 37.1216L5.79484 31.3371C5.20725 31.0103 4.69431 30.56 4.2899 30.0161C3.94734 29.5694 3.76123 29.0185 3.76123 28.4514C3.76123 27.8842 3.94734 27.3334 4.2899 26.8867C4.69504 26.3435 5.20782 25.8934 5.79484 25.5657L13.4202 21.0699L11.7873 20.107C11.6165 20.0255 11.4667 19.9043 11.3501 19.7532C11.2334 19.602 11.153 19.4251 11.1154 19.2366C11.1069 19.0552 11.1457 18.8747 11.2278 18.7136C11.3099 18.5524 11.4325 18.4164 11.583 18.3193L11.7873 18.1813L11.5801 18.3207L11.5887 18.309ZM16.6963 26.8427C16.3493 27.0208 16.0426 27.2707 15.7956 27.5766C15.5941 27.8261 15.4757 28.1345 15.4575 28.4573C15.4518 28.7782 15.5493 29.0922 15.7352 29.3511C15.9614 29.6636 16.2515 29.9221 16.5855 30.1085C16.9881 30.3382 17.4215 30.5068 17.8718 30.609C18.369 30.7252 18.8781 30.7803 19.3882 30.7734C19.8954 30.7686 20.4002 30.7016 20.8917 30.5738C21.333 30.4628 21.7552 30.2836 22.1434 30.0425C22.4362 29.8945 22.6852 29.6696 22.8647 29.3911C23.0442 29.1125 23.1478 28.7902 23.1649 28.4573C23.1224 28.121 22.9965 27.8014 22.7991 27.5286C22.6017 27.2559 22.3394 27.039 22.037 26.8985C21.2223 26.4548 20.3117 26.2262 19.3882 26.2336C18.4556 26.2095 17.5314 26.4186 16.6963 26.8427ZM26.4942 21.0714C26.1466 21.2491 25.8393 21.4991 25.5921 21.8053C25.3906 22.0547 25.2722 22.3632 25.254 22.6859C25.2489 23.0068 25.3464 23.3206 25.5317 23.5798C25.7583 23.8919 26.0483 24.1503 26.382 24.3372C26.7846 24.5669 27.2179 24.7355 27.6682 24.8377C28.6642 25.0669 29.699 25.0549 30.6896 24.8025C31.1302 24.6905 31.5517 24.5114 31.9399 24.2711C32.2328 24.1233 32.4819 23.8985 32.6614 23.6199C32.8409 23.3413 32.9445 23.0189 32.9614 22.6859C32.9187 22.3496 32.7927 22.0298 32.5954 21.7569C32.3981 21.4839 32.1358 21.2667 31.8334 21.1257C31.0184 20.6832 30.108 20.4552 29.1847 20.4622C28.2522 20.4395 27.3285 20.6502 26.4942 21.0758V21.0714Z",fill:"url(#paint8_linear_2761_4661)",fillOpacity:.35}),a.createElement("path",{d:"M16.6664 26.7844L16.6666 26.7843C17.5111 26.3554 18.4456 26.1438 19.3888 26.168C20.3224 26.1608 21.2428 26.3918 22.0665 26.8399C22.3784 26.9852 22.6487 27.209 22.8522 27.4902C23.0561 27.7719 23.1861 28.102 23.23 28.449L23.2315 28.4607L23.2304 28.4606C23.2127 28.8049 23.1056 29.1383 22.9198 29.4266C22.7346 29.714 22.4778 29.9463 22.1756 30.0997C21.7823 30.3436 21.3549 30.5249 20.9079 30.6373C20.4114 30.7664 19.9015 30.8341 19.3891 30.839C19.389 30.839 19.3889 30.839 19.3888 30.839L19.3882 30.7734M16.6664 26.7844L17.8718 30.609C18.369 30.7252 18.8781 30.7803 19.3882 30.7734M16.6664 26.7844C16.3112 26.9667 15.9973 27.2225 15.7446 27.5354M16.6664 26.7844L17.857 30.6729C17.4005 30.5693 16.9613 30.3984 16.5532 30.1655C16.2109 29.9744 15.9137 29.7096 15.6821 29.3896L15.6819 29.3894C15.4878 29.1188 15.386 28.791 15.392 28.4561L15.392 28.4536L15.3921 28.4536C15.411 28.1173 15.5344 27.7957 15.7446 27.5354M19.3882 30.7734C19.8954 30.7686 20.4002 30.7016 20.8917 30.5738C21.333 30.4628 21.7552 30.2836 22.1434 30.0425C22.4362 29.8945 22.6852 29.6696 22.8647 29.3911C23.0442 29.1125 23.1478 28.7902 23.1649 28.4573M19.3882 30.7734L23.1649 28.4573M15.7446 27.5354L15.7956 27.5766M15.7446 27.5354C15.7446 27.5354 15.7446 27.5354 15.7446 27.5354L15.7956 27.5766M15.7956 27.5766C16.0426 27.2707 16.3493 27.0208 16.6963 26.8427M15.7956 27.5766C15.5941 27.8261 15.4757 28.1345 15.4575 28.4573C15.4518 28.7782 15.5493 29.0922 15.7352 29.3511C15.9614 29.6636 16.2515 29.9221 16.5855 30.1085L16.6963 26.8427M16.6963 26.8427C17.5314 26.4186 18.4556 26.2095 19.3882 26.2336C20.3117 26.2262 21.2223 26.4548 22.037 26.8985C22.3394 27.039 22.6017 27.2559 22.7991 27.5286C22.9965 27.8014 23.1224 28.121 23.1649 28.4573M16.6963 26.8427L23.1649 28.4573M25.4542 41.0134L50.5349 26.2519L50.5352 26.2524C51.2346 25.8536 51.9864 25.5594 52.7677 25.3786L52.7681 25.3785C54.5049 24.966 56.3114 24.966 58.0483 25.3785L58.0486 25.3786C58.8302 25.5593 59.5824 25.8535 60.2822 26.2521C60.2823 26.2522 60.2825 26.2523 60.2826 26.2524L62.2529 27.4129L62.2544 27.4138C63.3101 27.9986 64.2147 28.8311 64.8934 29.8427C65.4467 30.6746 65.6872 31.6824 65.5705 32.681C65.0925 36.3848 61.6623 40.0915 55.3627 43.8008L55.3615 43.8015C49.6279 47.3428 43.1347 49.4051 36.444 49.8097C34.809 49.8849 33.1712 49.7492 31.5695 49.406L31.569 49.4059C30.1186 49.1071 28.7225 48.5803 27.4306 47.8443C27.4305 47.8442 27.4303 47.8441 27.4302 47.844L25.4513 46.6791L25.4515 46.6788L25.4454 46.676C24.8977 46.4249 24.4248 46.0302 24.0748 45.532C23.7261 45.0355 23.5118 44.4537 23.4538 43.8456C23.5129 43.2375 23.7279 42.6561 24.0771 42.1599C24.4275 41.662 24.9006 41.2676 25.4482 41.0165L25.4484 41.0168L25.4542 41.0134ZM11.402 19.7131C11.2925 19.5713 11.2167 19.4055 11.1806 19.2287C11.1736 19.0602 11.21 18.8929 11.2862 18.7434C11.3631 18.5924 11.4779 18.4651 11.6185 18.3744L11.6185 18.3744L11.6196 18.3736L11.8239 18.2357L11.8239 18.2356L11.8216 18.2322L11.827 18.2286C12.272 17.985 12.7672 17.8524 13.272 17.8417L13.272 17.8418L13.274 17.8417C13.7952 17.8151 14.3158 17.9068 14.7982 18.1101L15.0317 18.2299L16.6615 19.1918L16.6948 19.2115L16.7281 19.1918L24.3525 14.6966C25.8514 13.8845 27.5284 13.4758 29.2251 13.5088L29.2251 13.5089L29.2277 13.5088C30.9244 13.4756 32.6015 13.8843 34.1003 14.6966C34.1007 14.6968 34.101 14.697 34.1013 14.6972L43.9231 20.482L43.923 20.4823L43.9291 20.4851C44.4768 20.7363 44.9499 21.131 45.3001 21.6292C45.6491 22.1257 45.8637 22.7074 45.9221 23.3157C45.8651 23.9247 45.6517 24.5076 45.3033 25.0054C44.9539 25.5049 44.4811 25.901 43.9333 26.1535L43.9331 26.1532L43.9275 26.1565L25.3954 37.064C25.3951 37.0642 25.3948 37.0643 25.3944 37.0645C23.8957 37.8772 22.2186 38.2865 20.5218 38.2538V38.2537L20.5192 38.2538C18.8224 38.2864 17.1454 37.8771 15.6466 37.0645L5.82811 31.2806L5.82812 31.2806L5.8267 31.2798C5.24731 30.9575 4.74142 30.5135 4.34252 29.9769L4.34192 29.9762C4.00821 29.541 3.82679 29.0042 3.82679 28.4514C3.82679 27.8986 4.00821 27.3618 4.34193 26.9266L4.34245 26.9259C4.74212 26.39 5.2479 25.9461 5.82679 25.623L5.8268 25.623L5.82813 25.6222L13.4535 21.1264L13.5493 21.0699L13.4535 21.0134L11.8206 20.0506L11.8207 20.0504L11.8155 20.0479C11.6541 19.9708 11.5124 19.8562 11.402 19.7131ZM25.4786 23.6183C25.7107 23.938 26.0079 24.2027 26.3498 24.3943C26.7579 24.6271 27.1971 24.798 27.6535 24.9016C28.6597 25.1332 29.7051 25.121 30.7058 24.866C31.152 24.7526 31.5788 24.5714 31.972 24.3284C32.2743 24.1752 32.5312 23.9429 32.7165 23.6554C32.9023 23.3671 33.0094 23.0336 33.0269 22.6893L33.0279 22.6893L33.0265 22.6777C32.9824 22.3305 32.8524 22.0004 32.6485 21.7184C32.4451 21.4371 32.1748 21.2129 31.863 21.0671C31.0389 20.6202 30.1186 20.3898 29.1852 20.3967C28.2776 20.3747 27.3782 20.5713 26.5598 20.9699V20.9642L26.4644 21.013C26.1085 21.195 25.7941 21.4508 25.5411 21.7641C25.3309 22.0243 25.2075 22.3459 25.1886 22.6823L25.1885 22.6823L25.1885 22.6849C25.1831 23.0196 25.2848 23.3472 25.4784 23.6179L25.4786 23.6183Z",stroke:"url(#paint9_linear_2761_4661)",strokeWidth:.131111}))),br||(br=a.createElement("defs",null,a.createElement("filter",{id:"filter0_di_2761_4661",x:.389025,y:19.0402,width:85.3107,height:54.8119,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:5.24444}),a.createElement("feGaussianBlur",{stdDeviation:3.27778}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0980392 0 0 0 0 0.211765 0 0 0 0 0.482353 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2761_4661"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2761_4661",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2.62222}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4661"})),a.createElement("filter",{id:"filter1_f_2761_4661",x:5.57822,y:18.6543,width:62.7477,height:38.4204,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:1.31111,result:"effect1_foregroundBlur_2761_4661"})),a.createElement("filter",{id:"filter2_b_2761_4661",x:2.45012,y:17.9098,width:64.5602,height:35.7982,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:.655556}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4661"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4661",result:"shape"})),a.createElement("filter",{id:"filter3_bi_2761_4661",x:-.172103,y:9.50807,width:69.7704,height:44.3206,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:1.96667}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2761_4661"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2761_4661",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:.983333}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}),a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2761_4661"})),a.createElement("linearGradient",{id:"paint0_linear_2761_4661",x1:75.7056,y1:28.3254,x2:9.01812,y2:49.7817,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#00298D"}),a.createElement("stop",{offset:.189268,stopColor:"#2349A7"}),a.createElement("stop",{offset:.646435,stopColor:"#3155AD"}),a.createElement("stop",{offset:1,stopColor:"#032C91"})),a.createElement("radialGradient",{id:"paint1_radial_2761_4661",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(43.0444 41.2017) rotate(90) scale(28.6214 49.5543)"},a.createElement("stop",{offset:.0520833,stopColor:"#062E8D"}),a.createElement("stop",{offset:1,stopColor:"#2968FE"})),a.createElement("linearGradient",{id:"paint2_linear_2761_4661",x1:31.5294,y1:19.1527,x2:51.1303,y2:60.84,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:0}),a.createElement("stop",{offset:1,stopColor:"white",stopOpacity:.43})),a.createElement("linearGradient",{id:"paint3_linear_2761_4661",x1:23.1716,y1:31.3675,x2:18.6289,y2:23.4685,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint4_linear_2761_4661",x1:32.9688,y1:25.5954,x2:28.4287,y2:17.698,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint5_linear_2761_4661",x1:13.4287,y1:23.6359,x2:9.41061,y2:21.1914,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint6_linear_2761_4661",x1:46.0354,y1:48.8167,x2:24.6056,y2:7.74464,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint7_linear_2761_4661",x1:65.7417,y1:61.7423,x2:38.6368,y2:17.1912,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.579246,stopColor:"#D7F0FF",stopOpacity:.57}),a.createElement("stop",{offset:.956471,stopColor:"#BDE7FF",stopOpacity:0})),a.createElement("linearGradient",{id:"paint8_linear_2761_4661",x1:3.76123,y1:10.2933,x2:62.1113,y2:54.5777,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.0529546,stopColor:"#3FA6E0"}),a.createElement("stop",{offset:.461273,stopColor:"#79CFFF"}),a.createElement("stop",{offset:1,stopColor:"#79CFFF"})),a.createElement("linearGradient",{id:"paint9_linear_2761_4661",x1:64.0452,y1:55.2201,x2:8.01352,y2:16.9591,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#E9F7FF"}),a.createElement("stop",{offset:.923987,stopColor:"#BDE7FF",stopOpacity:0})))))}var Tr,Ar=a.forwardRef(Sr),Mr=(n.p,["title","titleId"]);function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ir.apply(this,arguments)}function Pr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lr(e,t){var n=e.title,r=e.titleId,i=Pr(e,Mr);return a.createElement("svg",Ir({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Tr||(Tr=a.createElement("path",{d:"M8.44421 8.77986L9.78671 7.54986C10.1538 7.21288 10.4118 6.7739 10.5276 6.28925C10.6434 5.8046 10.6118 5.29639 10.4367 4.82986L9.86421 3.30111C9.65032 2.73038 9.22689 2.26267 8.68018 1.99326C8.13346 1.72385 7.5046 1.67302 6.92171 1.85111C4.77671 2.50736 3.12796 4.50111 3.63546 6.86861C3.96921 8.42611 4.60796 10.3811 5.81796 12.4611C7.03046 14.5461 8.41546 16.0861 9.60296 17.1686C11.3955 18.7999 13.958 18.3924 15.6067 16.8549C16.0487 16.4428 16.3168 15.8777 16.3566 15.2747C16.3963 14.6718 16.2046 14.0763 15.8205 13.6099L14.7705 12.3349C14.4538 11.9493 14.029 11.6673 13.5507 11.5252C13.0724 11.3831 12.5626 11.3873 12.0867 11.5374L10.3517 12.0836C9.90365 11.6212 9.511 11.1082 9.18171 10.5549C8.86388 9.9953 8.61618 9.39873 8.44421 8.77861V8.77986Z"})))}var zr,Or=a.forwardRef(Lr),Dr=(n.p,["title","titleId"]);function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(this,arguments)}function Fr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Br(e,t){var n=e.title,r=e.titleId,i=Fr(e,Dr);return a.createElement("svg",Rr({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,zr||(zr=a.createElement("path",{d:"M11.445 18.18C13.6238 16.2625 17.5 12.345 17.5 8.75C17.5 6.76088 16.7098 4.85322 15.3033 3.4467C13.8968 2.04018 11.9891 1.25 10 1.25C8.01088 1.25 6.10322 2.04018 4.6967 3.4467C3.29018 4.85322 2.5 6.76088 2.5 8.75C2.5 12.345 6.375 16.2625 8.555 18.18C8.95264 18.5349 9.467 18.7311 10 18.7311C10.533 18.7311 11.0474 18.5349 11.445 18.18ZM7.5 8.75C7.5 8.08696 7.76339 7.45107 8.23223 6.98223C8.70107 6.51339 9.33696 6.25 10 6.25C10.663 6.25 11.2989 6.51339 11.7678 6.98223C12.2366 7.45107 12.5 8.08696 12.5 8.75C12.5 9.41304 12.2366 10.0489 11.7678 10.5178C11.2989 10.9866 10.663 11.25 10 11.25C9.33696 11.25 8.70107 10.9866 8.23223 10.5178C7.76339 10.0489 7.5 9.41304 7.5 8.75Z"})))}var jr,Ur=a.forwardRef(Br),Zr=(n.p,["title","titleId"]);function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}function Vr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gr(e,t){var n=e.title,r=e.titleId,i=Vr(e,Zr);return a.createElement("svg",Nr({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,jr||(jr=a.createElement("path",{d:"M5 3.75C4.33696 3.75 3.70107 4.01339 3.23223 4.48223C2.76339 4.95107 2.5 5.58696 2.5 6.25V6.50125L10 10.54L17.5 6.5025V6.25C17.5 5.58696 17.2366 4.95107 16.7678 4.48223C16.2989 4.01339 15.663 3.75 15 3.75H5ZM17.5 7.92125L10.2963 11.8C10.2052 11.849 10.1034 11.8747 10 11.8747C9.89659 11.8747 9.7948 11.849 9.70375 11.8L2.5 7.92125V13.75C2.5 14.413 2.76339 15.0489 3.23223 15.5178C3.70107 15.9866 4.33696 16.25 5 16.25H15C15.663 16.25 16.2989 15.9866 16.7678 15.5178C17.2366 15.0489 17.5 14.413 17.5 13.75V7.92125Z"})))}var qr,Wr=a.forwardRef(Gr),Hr=(n.p,["title","titleId"]);function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(this,arguments)}function Yr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kr(e,t){var n=e.title,r=e.titleId,i=Yr(e,Hr);return a.createElement("svg",Xr({width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,qr||(qr=a.createElement("path",{d:"M11.883 3.507L12 3.5C12.2449 3.50003 12.4813 3.58996 12.6644 3.75272C12.8474 3.91547 12.9643 4.13975 12.993 4.383L13 4.5V11.5H20C20.2449 11.5 20.4813 11.59 20.6644 11.7527C20.8474 11.9155 20.9643 12.1397 20.993 12.383L21 12.5C21 12.7449 20.91 12.9813 20.7473 13.1644C20.5845 13.3474 20.3603 13.4643 20.117 13.493L20 13.5H13V20.5C13 20.7449 12.91 20.9813 12.7473 21.1644C12.5845 21.3474 12.3603 21.4643 12.117 21.493L12 21.5C11.7551 21.5 11.5187 21.41 11.3356 21.2473C11.1526 21.0845 11.0357 20.8603 11.007 20.617L11 20.5V13.5H4C3.75507 13.5 3.51866 13.41 3.33563 13.2473C3.15259 13.0845 3.03566 12.8603 3.007 12.617L3 12.5C3.00003 12.2551 3.08996 12.0187 3.25272 11.8356C3.41547 11.6526 3.63975 11.5357 3.883 11.507L4 11.5H11V4.5C11 4.25507 11.09 4.01866 11.2527 3.83563C11.4155 3.65259 11.6397 3.53566 11.883 3.507L12 3.5L11.883 3.507Z"})))}var Qr,Jr=a.forwardRef(Kr),$r=(n.p,["title","titleId"]);function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}function ti(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ni(e,t){var n=e.title,r=e.titleId,i=ti(e,$r);return a.createElement("svg",ei({width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Qr||(Qr=a.createElement("path",{d:"M3.99609 13.5H20.0001C20.2653 13.5 20.5197 13.3946 20.7072 13.2071C20.8947 13.0196 21.0001 12.7652 21.0001 12.5C21.0001 12.2348 20.8947 11.9804 20.7072 11.7929C20.5197 11.6054 20.2653 11.5 20.0001 11.5H3.99609C3.73088 11.5 3.47652 11.6054 3.28899 11.7929C3.10145 11.9804 2.99609 12.2348 2.99609 12.5C2.99609 12.7652 3.10145 13.0196 3.28899 13.2071C3.47652 13.3946 3.73088 13.5 3.99609 13.5Z"})))}var ri=a.forwardRef(ni);n.p},4176:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(1413),i=(0,n(5587).oM)({name:"player",initialState:{isPlay:!1},reducers:{togglePlayer:function(e){return(0,r.Z)((0,r.Z)({},e),{},{isPlay:!e.isPlay})}}}),a=i.actions.togglePlayer;t.ZP=i.reducer},5758:function(e,t,n){"use strict";n.d(t,{bi:function(){return N.bi},W2:function(){return N.W2},dk:function(){return N.dk},B2:function(){return F},ZL:function(){return l},or:function(){return N.or},vc:function(){return N.vc},$_:function(){return Z},Wb:function(){return U}});var r,i,a,o=n(168),s=n(2822),l=(0,s.vJ)(r||(r=(0,o.Z)(["\n  *,\n  *::before,\n  *::after {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: ",";\n  }\n\n  html,\n  body {\n    scroll-behavior: smooth;\n    font-style: normal;\n    overflow-x: hidden;\n  }\n\n  body {\n    min-height: 100vh;\n    display: grid;\n    place-content: center;\n    text-align: center;\n\n    &::-webkit-scrollbar {\n      width: 5px;\n      background-color: ",";\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: ","px;\n      background-color: ",";\n    }\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n\n  p {\n    font-family: ",";\n  }\n\n  #root {\n    width: 100vw;\n  }\n"])),(function(e){return e.theme.fonts.families[0]}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.fonts.families[1]})),u=n.p+"static/media/Manrope-Bold.15c3a2fdedaee1ebf773.ttf",c=n.p+"static/media/Manrope-Bold.08c568d8d61e5114db63.woff2",f=n.p+"static/media/Manrope-Bold.3be5d9918892b53e0fdb.otf",h=n.p+"static/media/Manrope-ExtraBold.b0ac9f1b582da5d98892.ttf",d=n.p+"static/media/Manrope-ExtraBold.4424ea2d1eff17a2231c.woff2",p=n.p+"static/media/Manrope-ExtraBold.f6bce0ea10c1688ff770.otf",m=n.p+"static/media/Manrope-Medium.7e416a42443e06ed7d57.ttf",v=n.p+"static/media/Manrope-Medium.4f8eaf37c9fe1eac2920.woff2",y=n.p+"static/media/Manrope-Medium.413fbcde52df6503fc56.otf",g=n.p+"static/media/Manrope-SemiBold.0a3797b8dd78c25ef6b4.ttf",_=n.p+"static/media/Manrope-SemiBold.4c41f17c30b3c15e53b3.woff2",x=n.p+"static/media/Manrope-SemiBold.90b742921e8b81dff673.otf",b=n.p+"static/media/open-sans-v34-latin-regular.9fc51a004b9a3278a60b.ttf",w=n.p+"static/media/open-sans-v34-latin-regular.6f06a4e846d03a69efdb.eot",k=n.p+"static/media/open-sans-v34-latin-regular.a1535f451fb7bb98f526.woff2",C=n.p+"static/media/open-sans-v34-latin-regular.7958f4e4a2bb8025ef86.woff",E=n.p+"static/media/open-sans-v34-latin-700.21e7a98d7c6637ef8cc6.ttf",S=n.p+"static/media/open-sans-v34-latin-700.bdebcd6f76b99aeeb701.eot",T=n.p+"static/media/open-sans-v34-latin-700.b245bc85ddeedb27a549.woff2",A=n.p+"static/media/open-sans-v34-latin-700.2867e720135399c4b665.woff",M=n.p+"static/media/open-sans-v34-latin-600.8c07670b6f1f814c762a.ttf",I=n.p+"static/media/open-sans-v34-latin-600.7562f9f952d39240293e.eot",P=n.p+"static/media/open-sans-v34-latin-600.7ef3bbc98d285227e83a.woff2",L=n.p+"static/media/open-sans-v34-latin-600.f031bf84d9797276192c.woff",z=n.p+"static/media/open-sans-v34-latin-800.b6f33f3714ef02c32fce.ttf",O=n.p+"static/media/open-sans-v34-latin-800.bb18d2d66f38cf6f2a10.eot",D=n.p+"static/media/open-sans-v34-latin-800.185f6b038323b60834d2.woff2",R=n.p+"static/media/open-sans-v34-latin-800.85529d398dc9862d74fe.woff",F=(0,s.vJ)(i||(i=(0,o.Z)(["\n\n@font-face {\n  font-family: 'Manrope';\n  font-style: bold;\n  font-weight: 800;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('otf');\n}\n\n@font-face {\n  font-family: 'Manrope';\n  font-style: bold;\n  font-weight: 700;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('otf');\n}\n\n@font-face {\n  font-family: 'Manrope';\n  font-style: bold;\n  font-weight: 600;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('otf');\n}\n\n@font-face {\n  font-family: 'Manrope';\n  font-style: medium;\n  font-weight: 500;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('otf');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: regular;\n  font-weight: 400;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('woff'),\n       url(",") format('eot');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: bold;\n  font-weight: 700;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('woff'),\n       url(",") format('eot');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: bold;\n  font-weight: 600;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('woff'),\n       url(",") format('eot');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: bold;\n  font-weight: 800;\n  src: url(",") format('ttf'),\n       url(",") format('woff2'),\n       url(",") format('woff'),\n       url(",") format('eot');\n}\n"])),h,d,p,u,c,f,g,_,y,m,v,x,b,k,C,w,E,T,A,S,M,P,L,I,z,D,R,O),B=n(1413);!function(e){e.light="light",e.dark="dark"}(a||(a={}));var j={colors:{primary:"#185CFF",secondary:"#002B4E",tertiary:"#F0F9FF",indigo:"#194060",slate:"#607D94",steel:"#C9DCEC",black:"#292D33",grey:"#9497A1",footer:"#9497A1",footerColor:"#FFFFFF",greyly:"#D7D7D7",background:"#F1F6FA",backgroundFooter:"#002B4E",error:"#C14040",white:"#FFFFFF",hover:"#292D33",hoverButton:"#FFFFFF"},gaps:[3,7,9,10,12,15,20,25,30,40,46,50,130,145,190,376,515,60],shadows:{button:"0px 12px 30px rgba(24, 92, 255, 0.18)",card:"0px 4px 12px rgba(12, 68, 204, 0.1)",form:"0px 12px 30px 17px rgba(24, 92, 255, 0.04)"},sizes:{container:{width:[328,540,720,960,1110],height:[740],paddings:[73,90,120,100,137]},button:{width:[125,137,140,168,185,190,272],padding:[10,15],height:[44,46,54]},navigation:{width:510,itemWidth:60},header:{height:126},footer:{height:530},description:{width:[350]},title:{height:[120],width:[540]},benefit:{height:[248],width:[255],padding:[25]},card:{height:[371,482],width:[350,540],padding:[35]},image:{height:[425],width:[635]}},fonts:{sizes:[12,14,16,20,22,26,38,46,50,57,80],families:["Manrope","Open Sans"],weights:[400,500,600,700,800],heights:[24,28,30,33,40,56,60,66,88,112],spacings:[-.01,-.015]},borderRadius:6,media:{extraLarge:"(max-width: 1110px)",large:"(max-width: 960px)",medium:"(max-width: 720px)",small:"(max-width: 540px)",mobile:"(max-width: 360px)"}},U=(0,B.Z)((0,B.Z)({},j),{},{type:a.light}),Z=(0,B.Z)((0,B.Z)({},j),{},{type:a.dark,colors:(0,B.Z)((0,B.Z)({},j.colors),{},{background:j.colors.secondary,primary:j.colors.white,black:j.colors.white,grey:j.colors.white,hover:j.colors.greyly,white:j.colors.secondary,hoverButton:j.colors.primary,footer:j.colors.grey,footerColor:j.colors.grey,backgroundFooter:j.colors.background,secondary:j.colors.white})}),N=n(278)},278:function(e,t,n){"use strict";n.d(t,{W2:function(){return g},bi:function(){return b},dk:function(){return _},or:function(){return w},vc:function(){return x}});var r,i,a,o,s,l,u,c,f,h,d,p,m,v=n(168),y=n(2822),g=y.ZP.div(r||(r=(0,v.Z)(["\n  max-width: ","px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  @media "," {\n    max-width: ","px;\n  }\n\n  @media "," {\n    max-width: ","px;\n  }\n\n  @media "," {\n    max-width: ","px;\n  }\n\n  @media "," {\n    max-width: ","px;\n  }\n"])),(function(e){return e.theme.sizes.container.width[4]}),(function(e){return e.$flex?(0,y.iv)(i||(i=(0,v.Z)(["\n          column-gap: ","px;\n        "])),(function(e){return e.theme.gaps[2]})):(0,y.iv)(a||(a=(0,v.Z)(["\n          flex-direction: column;\n          row-gap: ","px;\n          column-gap: ","px;\n        "])),(function(e){return e.theme.gaps[2]}),(function(e){return e.theme.gaps[2]}))}),(function(e){return e.$row?(0,y.iv)(o||(o=(0,v.Z)(["\n          gap: ","px;\n          flex-wrap: wrap;\n          flex-direction: row;\n        "])),(function(e){return e.theme.gaps[8]})):(0,y.iv)(s||(s=(0,v.Z)([""])))}),(function(e){return e.$align?(0,y.iv)(l||(l=(0,v.Z)(["\n          align-items: flex-start;\n          padding-top: 18px;\n        "]))):(0,y.iv)(u||(u=(0,v.Z)([""])))}),(function(e){return e.$left?(0,y.iv)(c||(c=(0,v.Z)(["\n          justify-content: flex-start;\n          gap: 47px;\n        "]))):(0,y.iv)(f||(f=(0,v.Z)([""])))}),(function(e){return e.theme.media.large}),(function(e){return e.theme.sizes.container.width[3]}),(function(e){return e.theme.media.medium}),(function(e){return e.theme.sizes.container.width[2]}),(function(e){return e.theme.media.small}),(function(e){return e.theme.sizes.container.width[1]}),(function(e){return e.theme.media.mobile}),(function(e){return e.theme.sizes.container.width[0]})),_=y.ZP.p(h||(h=(0,v.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  line-height: ","px;\n\n  color: ",";\n"])),(function(e){return e.theme.fonts.families[1]}),(function(e){return e.theme.fonts.weights[0]}),(function(e){return e.theme.fonts.sizes[3]}),(function(e){return e.theme.fonts.heights[3]}),(function(e){return e.theme.colors.grey})),x=y.ZP.mark(d||(d=(0,v.Z)(["\n  background-color: transparent;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),b=y.ZP.h3(p||(p=(0,v.Z)(["\n  font-size: ","px;\n  letter-spacing: ","em;\n  color: ",";\n"])),(function(e){return e.theme.fonts.sizes[6]}),(function(e){return e.theme.fonts.spacings[1]}),(function(e){return e.theme.colors.black})),w=y.ZP.main(m||(m=(0,v.Z)(["\n  max-width: inherit;\n  min-height: 100vh;\n  height: fit-content;\n  font-family: ",";\n"])),(function(e){return e.theme.fonts.families[1]}))},5587:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[H]}function a(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===X}(e)||Array.isArray(e)||!!e[W]||!!(null===(t=e.constructor)||void 0===t?void 0:t[W])||h(e)||d(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:Y)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[H];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:d(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===s(e)?e.get(t):e[t]}function c(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return N&&e instanceof Map}function d(e){return V&&e instanceof Set}function p(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=K(e);delete t[H];for(var n=Y(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),g(e)||i(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&o(e,(function(e,t){return v(t,!0)}),!0)),e}function y(){r(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _(e){var t=Q[e];return t||r(18,e),t}function x(e,t){Q[e]||(Q[e]=t)}function b(){return U}function w(e,t){t&&(_("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){C(e),e.p.forEach(S),e.p=null}function C(e){e===U&&(U=e.l)}function E(e){return U={p:[],l:U,h:e,m:!0,_:0}}function S(e){var t=e[H];0===t.i||1===t.i?t.j():t.O=!0}function T(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||_("ES5").S(t,e,i),i?(n[H].P&&(k(t),r(4)),a(e)&&(e=A(t,e),t.l||I(t,e)),t.u&&_("Patches").M(n[H].t,e,t.u,t.s)):e=A(t,n,[]),k(t),t.u&&t.v(t.u,t.s),e!==q?e:void 0}function A(e,t,n){if(g(t))return t;var r=t[H];if(!r)return o(t,(function(i,a){return M(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return I(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;o(3===r.i?new Set(i):i,(function(t,a){return M(e,r,i,t,a,n)})),I(e,i,!1),n&&e.u&&_("Patches").R(r,n,e.u,e.s)}return r.o}function M(e,t,n,r,o,s){if(i(o)){var u=A(e,o,s&&t&&3!==t.i&&!l(t.D,r)?s.concat(r):void 0);if(c(n,r,u),!i(u))return;e.m=!1}if(a(o)&&!g(o)){if(!e.h.F&&e._<1)return;A(e,o),t&&t.A.l||I(e,o)}}function I(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&v(t,n)}function P(e,t){var n=e[H];return(n?p(n):e)[t]}function L(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function z(e){e.P||(e.P=!0,e.l&&z(e.l))}function O(e){e.o||(e.o=m(e.t))}function D(e,t,n){var r=h(t)?_("MapSet").N(t,n):d(t)?_("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:b(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=J;n&&(i=[r],a=$);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):_("ES5").J(t,n);return(n?n.A:b()).p.push(r),r}function R(e){return i(e)||r(22,e),function e(t){if(!a(t))return t;var n,r=t[H],i=s(t);if(r){if(!r.P&&(r.i<4||!_("ES5").K(r)))return r.t;r.I=!0,n=F(t,i),r.I=!1}else n=F(t,i);return o(n,(function(t,i){r&&u(r.t,t)===i||c(n,t,e(i))})),3===i?new Set(n):n}(e)}function F(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function B(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[H];return J.get(t,e)},set:function(t){var n=this[H];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][H];if(!i.P)switch(i.i){case 5:r(i)&&z(i);break;case 4:n(i)&&z(i)}}}function n(e){for(var t=e.t,n=e.k,r=Y(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==H){var o=t[a];if(void 0===o&&!l(t,a))return!0;var s=n[a],u=s&&s[H];if(u?u.t!==o:!f(s,o))return!0}}var c=!!t[H];return r.length!==Y(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var a={};x("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=K(n);delete a[H];for(var o=Y(a),s=0;s<o.length;s++){var l=o[s];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:b(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,H,{value:a,writable:!0}),i},S:function(e,n,a){a?i(n)&&n[H].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[H];if(n){var i=n.t,a=n.k,s=n.D,u=n.i;if(4===u)o(a,(function(t){t!==H&&(void 0!==i[t]||l(i,t)?s[t]||e(a[t]):(s[t]=!0,z(n)))})),o(i,(function(e){void 0!==a[e]||l(a,e)||(s[e]=!1,z(n))}));else if(5===u){if(r(n)&&(z(n),s.length=!0),a.length<i.length)for(var c=a.length;c<i.length;c++)s[c]=!1;else for(var f=i.length;f<a.length;f++)s[f]=!0;for(var h=Math.min(a.length,i.length),d=0;d<h;d++)a.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,{xC:function(){return De},oM:function(){return Be}});var j,U,Z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),N="undefined"!=typeof Map,V="undefined"!=typeof Set,G="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,q=Z?Symbol.for("immer-nothing"):((j={})["immer-nothing"]=!0,j),W=Z?Symbol.for("immer-draftable"):"__$immer_draftable",H=Z?Symbol.for("immer-state"):"__$immer_state",X=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,K=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Q={},J={get:function(e,t){if(t===H)return e;var n=p(e);if(!l(n,t))return function(e,t,n){var r,i=L(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===P(e.t,t)?(O(e),e.o[t]=D(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=L(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=P(p(e),t),a=null==i?void 0:i[H];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,i)&&(void 0!==n||l(e.t,t)))return!0;O(e),z(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==P(e.t,t)||t in e.t?(e.D[t]=!1,O(e),z(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},$={};o(J,(function(e,t){$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),$.deleteProperty=function(e,t){return $.set.call(this,e,t,void 0)},$.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=G,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var l;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),a(e)){var u=E(t),c=D(t,e,void 0),f=!0;try{l=n(c),f=!1}finally{f?k(u):C(u)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return w(u,i),T(e,u)}),(function(e){throw k(u),e})):(w(u,i),T(l,u))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===q&&(l=void 0),t.F&&v(l,!0),i){var h=[],d=[];_("Patches").M(e,l,h,d),i(h,d)}return l}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||r(8),i(e)&&(e=R(e));var t=E(this),n=D(this,e,void 0);return n[H].C=!0,C(t),n},t.finishDraft=function(e,t){var n=(e&&e[H]).A;return w(n,t),T(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!G&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=_("Patches").$;return i(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne),ie=n(1413);function ae(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var oe="function"===typeof Symbol&&Symbol.observable||"@@observable",se=function(){return Math.random().toString(36).substring(7).split("").join(".")},le={INIT:"@@redux/INIT"+se(),REPLACE:"@@redux/REPLACE"+se(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+se()}};function ue(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ce(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ae(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ae(1));return n(ce)(e,t)}if("function"!==typeof e)throw new Error(ae(2));var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(ae(3));return a}function f(e){if("function"!==typeof e)throw new Error(ae(4));if(l)throw new Error(ae(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(ae(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!ue(e))throw new Error(ae(7));if("undefined"===typeof e.type)throw new Error(ae(8));if(l)throw new Error(ae(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(ae(10));i=e,h({type:le.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ae(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[oe]=function(){return this},e}return h({type:le.INIT}),(r={dispatch:h,subscribe:f,getState:c,replaceReducer:d})[oe]=p,r}function fe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:le.INIT}))throw new Error(ae(12));if("undefined"===typeof n(void 0,{type:le.PROBE_UNKNOWN_ACTION()}))throw new Error(ae(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=e[l],f=u(c,t);if("undefined"===typeof f){t&&t.type;throw new Error(ae(14))}i[l]=f,r=r||f!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ae(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=he.apply(void 0,a)(n.dispatch),(0,ie.Z)((0,ie.Z)({},n),{},{dispatch:r})}}}function pe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var me=pe();me.withExtraArgument=pe;var ve=me,ye=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},_e=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xe=Object.defineProperty,be=Object.defineProperties,we=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Se=function(e,t,n){return t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Te=function(e,t){for(var n in t||(t={}))Ce.call(t,n)&&Se(e,n,t[n]);if(ke)for(var r=0,i=ke(t);r<i.length;r++){n=i[r];Ee.call(t,n)&&Se(e,n,t[n])}return e},Ae=function(e,t){return be(e,we(t))},Me=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Ie="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?he:he.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Pe(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Le=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ye(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,_e([void 0],e[0].concat(this)))):new(t.bind.apply(t,_e([void 0],e.concat(this))))},t}(Array);function ze(e){return a(e)?re(e,(function(){})):e}function Oe(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Le);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ve.withExtraArgument(n.extraArgument)):r.push(ve));0;return r}(e)}}function De(e){var t,n=Oe(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,l=r.devTools,u=void 0===l||l,c=r.preloadedState,f=void 0===c?void 0:c,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Pe(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=fe(a)}var p=s;"function"===typeof p&&(p=p(n));var m=de.apply(void 0,p),v=he;u&&(v=Ie(Te({trace:!1},"object"===typeof u&&u)));var y=[m];return Array.isArray(d)?y=_e([m],d):"function"===typeof d&&(y=d(y)),ce(t,f,v.apply(void 0,y))}function Re(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Te(Te({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Fe(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Be(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ze(e.initialState),o=e.reducers||{},s=Object.keys(o),l={},u={},c={};function f(){var t="function"===typeof e.extraReducers?Fe(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,s=t[1],l=void 0===s?[]:s,c=t[2],f=void 0===c?void 0:c,h=Te(Te({},o),u);return function(e,t,n,r){void 0===n&&(n=[]);var o,s="function"===typeof t?Fe(t):[t,n,r],l=s[0],u=s[1],c=s[2];if(function(e){return"function"===typeof e}(e))o=function(){return ze(e())};else{var f=ze(e);o=function(){return f}}function h(e,t){void 0===e&&(e=o());var n=_e([l[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(i(e))return void 0===(r=n(e,t))?e:r;if(a(e))return re(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return h.getInitialState=o,h}(r,(function(e){for(var t in h)e.addCase(t,h[t]);for(var n=0,r=l;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}f&&e.addDefaultCase(f)}))}return s.forEach((function(e){var n,r,i=o[e],a=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,l[e]=n,u[a]=n,c[e]=r?Re(a,r):Re(a)})),{name:t,reducer:function(e,t){return n||(n=f()),n(e,t)},actions:c,caseReducers:l,getInitialState:function(){return n||(n=f()),n.getInitialState()}}}var je=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Ue=["name","message","stack","code"],Ze=function(e,t){this.payload=e,this.meta=t},Ne=function(e,t){this.payload=e,this.meta=t},Ve=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Ue;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Re(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Ae(Te({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Re(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Ae(Te({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Re(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Ve)(e||"Rejected"),meta:Ae(Te({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,u){var c,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):je(),h=new o,d=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),p=!1;function m(e){p&&(c=e,h.abort())}var v=function(){return Me(this,null,(function(){var o,c,v,y,g;return ge(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:u}),null===(x=y)||"object"!==typeof x||"function"!==typeof x.then?[3,2]:[4,y];case 1:y=_.sent(),_.label=2;case 2:if(!1===y)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,s(i(f,e,null==(c=null==n?void 0:n.getPendingMeta)?void 0:c.call(n,{requestId:f,arg:e},{getState:l,extra:u}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:f,signal:h.signal,abort:m,rejectWithValue:function(e,t){return new Ze(e,t)},fulfillWithValue:function(e,t){return new Ne(e,t)}})).then((function(t){if(t instanceof Ze)throw t;return t instanceof Ne?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=_.sent(),[3,5];case 4:return g=_.sent(),v=g instanceof Ze?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var x}))}))}();return Object.assign(v,{abort:m,requestId:f,arg:e,unwrap:function(){return v.then(Ge)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=e}();function Ge(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var qe="listenerMiddleware";Re(qe+"/add"),Re(qe+"/removeAll"),Re(qe+"/remove");var We;"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:n.g);B()},5136:function(e,t,n){"use strict";n.d(t,{Ep:function(){return v},LX:function(){return E},RQ:function(){return P},WK:function(){return F},X3:function(){return D},Zn:function(){return S},aU:function(){return r},cP:function(){return y},fp:function(){return _},kG:function(){return T},lX:function(){return d},pC:function(){return I}});var r,i=n(3144),a=n(5671),o=n(136),s=n(7277),l=n(8737),u=n(885);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var f,h="popstate";function d(e){return void 0===e&&(e={}),g((function(e,t){var n=e.location;return m("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:v(t)}),null,e)}function p(e){return{usr:e.state,key:e.key}}function m(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function v(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,l=a.v5Compat,u=void 0!==l&&l,c=s.history,f=r.Pop,d=null;function v(){f=r.Pop,d&&d({action:f,location:y.location})}var y={get action(){return f},get location(){return e(s,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(h,v),d=e,function(){s.removeEventListener(h,v),d=null}},createHref:function(e){return t(s,e)},push:function(e,t){f=r.Push;var i=m(y.location,e,t);n&&n(i,e);var a=p(i),o=y.createHref(i);try{c.pushState(a,"",o)}catch(l){s.location.assign(o)}u&&d&&d({action:f,location:i})},replace:function(e,t){f=r.Replace;var i=m(y.location,e,t);n&&n(i,e);var a=p(i),o=y.createHref(i);c.replaceState(a,"",o),u&&d&&d({action:f,location:i})},go:function(e){return c.go(e)}};return y}function _(e,t,n){void 0===n&&(n="/");var r=S(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(T(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(T(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:k(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));var b=/^:\w+$/,w=function(e){return"*"===e};function k(e,t){var n=e.split("/"),r=n.length;return n.some(w)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!w(e)})).reduce((function(e,t){return e+(b.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=E({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:P([i,c.pathname]),pathnameBase:L(P([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=P([i,c.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,u.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function S(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function T(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(T(!(i=c({},e)).pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),T(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),T(!i.search||!i.search.includes("#"),M("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}a=l>=0?t[l]:"/"}var f=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:z(a),hash:O(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return f.pathname.endsWith("/")||!h&&!d||(f.pathname+="/"),f}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},L=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},O=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},D=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}((0,l.Z)(Error));var R=(0,i.Z)((function e(t,n,r){(0,a.Z)(this,e),this.status=t,this.statusText=n||"",this.data=r}));function F(e){return e instanceof R}},7178:function(e,t,n){"use strict";var r=n(2801),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=l(t),m=l(n),v=0;v<o.length;++v){var y=o[v];if(!a[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var g=h(n,y);try{u(t,y,g)}catch(_){}}}}return t}},8675:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case u:case h:case v:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return b(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||b(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===g||e.$$typeof===_||e.$$typeof===x||e.$$typeof===y)},t.typeOf=b},2801:function(e,t,n){"use strict";e.exports=n(8675)},570:function(e,t,n){var r=n(6006)(n(1683),"DataView");e.exports=r},5678:function(e,t,n){var r=n(6738),i=n(8697),a=n(4299),o=n(9467),s=n(3643);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},2272:function(e,t,n){var r=n(7786),i=n(4981),a=n(5431),o=n(6854),s=n(3191);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7161:function(e,t,n){var r=n(6006)(n(1683),"Map");e.exports=r},81:function(e,t,n){var r=n(8805),i=n(2718),a=n(1399),o=n(3221),s=n(6910);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},1307:function(e,t,n){var r=n(6006)(n(1683),"Promise");e.exports=r},1663:function(e,t,n){var r=n(6006)(n(1683),"Set");e.exports=r},2489:function(e,t,n){var r=n(81),i=n(2443),a=n(1632);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},235:function(e,t,n){var r=n(2272),i=n(1351),a=n(3801),o=n(8599),s=n(8260),l=n(4036);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,e.exports=u},6582:function(e,t,n){var r=n(1683).Symbol;e.exports=r},4746:function(e,t,n){var r=n(1683).Uint8Array;e.exports=r},2635:function(e,t,n){var r=n(6006)(n(1683),"WeakMap");e.exports=r},3205:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},9838:function(e,t,n){var r=n(9074),i=n(9326),a=n(5809),o=n(8338),s=n(8544),l=n(8143),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&i(e),f=!n&&!c&&o(e),h=!n&&!c&&!f&&l(e),d=n||c||f||h,p=d?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},6573:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},493:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},788:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},3190:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6262:function(e){e.exports=function(e){return e.split("")}},2199:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},981:function(e,t,n){var r=n(1786);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},6660:function(e,t,n){var r=n(6062);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},8340:function(e,t,n){var r=n(7350)();e.exports=r},5410:function(e,t,n){var r=n(8340),i=n(8405);e.exports=function(e,t){return e&&r(e,t,i)}},1423:function(e,t,n){var r=n(4973),i=n(9556);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},9417:function(e,t,n){var r=n(493),i=n(5809);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},8485:function(e,t,n){var r=n(6582),i=n(7478),a=n(1031),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},3724:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},52:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},8883:function(e,t,n){var r=n(8485),i=n(135);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},7370:function(e,t,n){var r=n(2371),i=n(135);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},2371:function(e,t,n){var r=n(235),i=n(9269),a=n(3600),o=n(3240),s=n(9867),l=n(5809),u=n(8338),c=n(8143),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,y){var g=l(e),_=l(t),x=g?h:s(e),b=_?h:s(t),w=(x=x==f?d:x)==d,k=(b=b==f?d:b)==d,C=x==b;if(C&&u(e)){if(!u(t))return!1;g=!0,w=!1}if(C&&!w)return y||(y=new r),g||c(e)?i(e,t,n,m,v,y):a(e,t,x,n,m,v,y);if(!(1&n)){var E=w&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(E||S){var T=E?e.value():e,A=S?t.value():t;return y||(y=new r),v(T,A,n,m,y)}}return!!C&&(y||(y=new r),o(e,t,n,m,v,y))}},6056:function(e,t,n){var r=n(235),i=n(7370);e.exports=function(e,t,n,a){var o=n.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var u=n[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],f=e[c],h=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var d=new r;if(a)var p=a(f,h,c,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},3294:function(e,t,n){var r=n(6071),i=n(3699),a=n(4216),o=n(4939),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},127:function(e,t,n){var r=n(8485),i=n(9228),a=n(135),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},664:function(e,t,n){var r=n(3342),i=n(9410),a=n(733),o=n(5809),s=n(5786);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},9872:function(e,t,n){var r=n(1984),i=n(4562),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3342:function(e,t,n){var r=n(6056),i=n(9025),a=n(9123);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9410:function(e,t,n){var r=n(7370),i=n(8342),a=n(5381),o=n(4297),s=n(9999),l=n(9123),u=n(9556);e.exports=function(e,t){return o(e)&&s(t)?l(u(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},385:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},8396:function(e,t,n){var r=n(1423);e.exports=function(e){return function(t){return r(t,e)}}},7056:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},3907:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},9074:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6675:function(e,t,n){var r=n(6582),i=n(6573),a=n(5809),o=n(2913),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},3978:function(e){e.exports=function(e){return function(t){return e(t)}}},1273:function(e){e.exports=function(e,t){return e.has(t)}},4973:function(e,t,n){var r=n(5809),i=n(4297),a=n(2788),o=n(3865);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},7423:function(e,t,n){var r=n(3907);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8422:function(e,t,n){var r=n(1683)["__core-js_shared__"];e.exports=r},7350:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}},8290:function(e,t,n){var r=n(7423),i=n(3919),a=n(5747),o=n(3865);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},9354:function(e,t,n){var r=n(788),i=n(4205),a=n(3235),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5741:function(e,t,n){var r=n(7056)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},6062:function(e,t,n){var r=n(6006),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},9269:function(e,t,n){var r=n(2489),i=n(3190),a=n(1273);e.exports=function(e,t,n,o,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var h=l.get(e),d=l.get(t);if(h&&d)return h==t&&d==e;var p=-1,m=!0,v=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var y=e[p],g=t[p];if(o)var _=u?o(g,y,p,t,e,l):o(y,g,p,e,t,l);if(void 0!==_){if(_)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!a(v,t)&&(y===e||s(y,e,n,o,l)))return v.push(t)}))){m=!1;break}}else if(y!==g&&!s(y,g,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3600:function(e,t,n){var r=n(6582),i=n(4746),a=n(1786),o=n(9269),s=n(8957),l=n(5732),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var v=o(d(e),d(t),r,u,f,h);return h.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},3240:function(e,t,n){var r=n(337),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var h=u[f];if(!(l?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=l;++f<c;){var y=e[h=u[f]],g=t[h];if(a)var _=l?a(g,y,h,t,e,s):a(y,g,h,e,t,s);if(!(void 0===_?y===g||o(y,g,n,a,s):_)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var x=e.constructor,b=t.constructor;x==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(m=!1)}return s.delete(e),s.delete(t),m}},2769:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},337:function(e,t,n){var r=n(9417),i=n(5579),a=n(8405);e.exports=function(e){return r(e,a,i)}},711:function(e,t,n){var r=n(8558);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9025:function(e,t,n){var r=n(9999),i=n(8405);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},6006:function(e,t,n){var r=n(3294),i=n(4327);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7478:function(e,t,n){var r=n(6582),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5579:function(e,t,n){var r=n(3205),i=n(7039),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},9867:function(e,t,n){var r=n(570),i=n(7161),a=n(1307),o=n(1663),s=n(2635),l=n(8485),u=n(4939),c="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",m=u(r),v=u(i),y=u(a),g=u(o),_=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=c||a&&x(a.resolve())!=f||o&&x(new o)!=h||s&&x(new s)!=d)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case v:return c;case y:return f;case g:return h;case _:return d}return t}),e.exports=x},4327:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},4370:function(e,t,n){var r=n(4973),i=n(9326),a=n(5809),o=n(8544),s=n(9228),l=n(9556);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var h=l(t[u]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&o(h,c)&&(a(e)||i(e))}},3919:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7711:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},6738:function(e,t,n){var r=n(5571);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},8697:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4299:function(e,t,n){var r=n(5571),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},9467:function(e,t,n){var r=n(5571),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},3643:function(e,t,n){var r=n(5571);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},8544:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},4297:function(e,t,n){var r=n(5809),i=n(2913),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},8558:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},3699:function(e,t,n){var r=n(8422),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},1984:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9999:function(e,t,n){var r=n(4216);e.exports=function(e){return e===e&&!r(e)}},7786:function(e){e.exports=function(){this.__data__=[],this.size=0}},4981:function(e,t,n){var r=n(981),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},5431:function(e,t,n){var r=n(981);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},6854:function(e,t,n){var r=n(981);e.exports=function(e){return r(this.__data__,e)>-1}},3191:function(e,t,n){var r=n(981);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},8805:function(e,t,n){var r=n(5678),i=n(2272),a=n(7161);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},2718:function(e,t,n){var r=n(711);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},1399:function(e,t,n){var r=n(711);e.exports=function(e){return r(this,e).get(e)}},3221:function(e,t,n){var r=n(711);e.exports=function(e){return r(this,e).has(e)}},6910:function(e,t,n){var r=n(711);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},8957:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9123:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1974:function(e,t,n){var r=n(9190);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},5571:function(e,t,n){var r=n(6006)(Object,"create");e.exports=r},4562:function(e,t,n){var r=n(1424)(Object.keys,Object);e.exports=r},5772:function(e,t,n){e=n.nmd(e);var r=n(2769),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},1031:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},1424:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},1683:function(e,t,n){var r=n(2769),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},2443:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1632:function(e){e.exports=function(e){return this.__data__.has(e)}},5732:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},1351:function(e,t,n){var r=n(2272);e.exports=function(){this.__data__=new r,this.size=0}},3801:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},8599:function(e){e.exports=function(e){return this.__data__.get(e)}},8260:function(e){e.exports=function(e){return this.__data__.has(e)}},4036:function(e,t,n){var r=n(2272),i=n(7161),a=n(81);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},5747:function(e,t,n){var r=n(6262),i=n(3919),a=n(5245);e.exports=function(e){return i(e)?a(e):r(e)}},2788:function(e,t,n){var r=n(1974),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9556:function(e,t,n){var r=n(2913);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},4939:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},5245:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+s+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+l+s+")*"),c="(?:"+[i+n+"?",n,a,o,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+c+u,"g");e.exports=function(e){return e.match(f)||[]}},1598:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",s="[\\u2700-\\u27bf]",l="["+n+"]",u="[^\\ud800-\\udfff"+i+o+t+n+r+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",d="(?:"+l+"|"+u+")",p="(?:"+h+"|"+u+")",m="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",_=g+y+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,f].join("|")+")"+g+y+")*"),x="(?:"+[s,c,f].join("|")+")"+_,b=RegExp([h+"?"+l+"+"+m+"(?="+[a,h,"$"].join("|")+")",p+"+"+v+"(?="+[a,h+d,"$"].join("|")+")",h+"?"+d+"+"+m,h+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,x].join("|"),"g");e.exports=function(e){return e.match(b)||[]}},9454:function(e,t,n){var r=n(4575),i=n(9354)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},4575:function(e,t,n){var r=n(3865),i=n(4088);e.exports=function(e){return i(r(e).toLowerCase())}},4205:function(e,t,n){var r=n(5741),i=n(3865),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},1786:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},8342:function(e,t,n){var r=n(1423);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3270:function(e,t,n){var r=n(3724),i=n(4370);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5381:function(e,t,n){var r=n(52),i=n(4370);e.exports=function(e,t){return null!=e&&i(e,t,r)}},733:function(e){e.exports=function(e){return e}},9326:function(e,t,n){var r=n(8883),i=n(135),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},5809:function(e){var t=Array.isArray;e.exports=t},196:function(e,t,n){var r=n(6071),i=n(9228);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},8338:function(e,t,n){e=n.nmd(e);var r=n(1683),i=n(681),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},6071:function(e,t,n){var r=n(8485),i=n(4216);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},9228:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},4216:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},135:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},2913:function(e,t,n){var r=n(8485),i=n(135);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},8143:function(e,t,n){var r=n(127),i=n(3978),a=n(5772),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},8405:function(e,t,n){var r=n(9838),i=n(9872),a=n(196);e.exports=function(e){return a(e)?r(e):i(e)}},630:function(e,t,n){var r=n(6660),i=n(5410),a=n(664);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},9493:function(e,t,n){var r=n(6660),i=n(5410),a=n(664);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9190:function(e,t,n){var r=n(81);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5786:function(e,t,n){var r=n(385),i=n(8396),a=n(4297),o=n(9556);e.exports=function(e){return a(e)?r(o(e)):i(e)}},6417:function(e,t,n){var r=n(9354)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},7039:function(e){e.exports=function(){return[]}},681:function(e){e.exports=function(){return!1}},3865:function(e,t,n){var r=n(6675);e.exports=function(e){return null==e?"":r(e)}},4088:function(e,t,n){var r=n(8290)("toUpperCase");e.exports=r},3235:function(e,t,n){var r=n(2199),i=n(7711),a=n(3865),o=n(1598);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},6112:function(e,t,n){var r=n(8416).default,i=n(6115).default,a=n(3515).default,o=n(1588).default,s=n(3808).default,l=n(4993).default,u=n(1589).default,c=n(861).default,f=n(7424).default,h=n(4704).default,d=n(6690).default,p=n(9728).default,m=n(1655).default,v=n(6389).default,y=n(3496).default;e.exports=function(){"use strict";var e,t,n;function g(r,i){if(e)if(t){var a="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk); self.onerror = null;",o={};e(o),n=i(o),"undefined"!==typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=i;else e=i}return g(["exports"],(function(e){var t,n,r,g="undefined"!=typeof self?self:{},_="2.11.0",x={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==t){var e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{t=null!={NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.API_URL_REGEX?new RegExp({NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.API_URL_REGEX):e}catch(g){t=e}}return t},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},b={supported:!1,testSupport:function(e){!w&&r&&(k?C(e):n=e)}},w=!1,k=!1;function C(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.isContextLost())return;b.supported=!0}catch(e){}e.deleteTexture(t),w=!0}g.document&&((r=g.document.createElement("img")).onload=function(){n&&C(n),n=null,k=!0},r.onerror=function(){w=!0,n=null},r.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var E="01",S=T;function T(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}T.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n-=i/a}var o=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?o=n:s=n,n=.5*(s-o)+o;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var A=M;function M(e,t){this.x=e,this.y=t}M.prototype={clone:function(){return new M(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},M.convert=function(e){return e instanceof M?e:Array.isArray(e)?new M(e[0],e[1]):e};var I=Math.PI/180,P=180/Math.PI;function L(e){return e*I}function z(e){return e*P}var O=[[0,0],[1,0],[1,1],[0,1]];function D(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function R(e,t,n,r){var i=new S(e,t,n,r);return function(e){return i.solve(e)}}var F=R(.25,.1,.25,1);function B(e,t,n){return Math.min(n,Math.max(t,e))}function j(e,t,n){return(n=B((n-e)/(t-e),0,1))*n*(3-2*n)}function U(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function Z(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,0==--r&&n(a,i)}))}))}function N(e){var t=[];for(var n in e)t.push(e[n]);return t}function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}var G=1;function q(){return G++}function W(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function H(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function X(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function Y(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function K(e,t){return-1!==e.indexOf(t,e.length-t.length)}function Q(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function J(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function $(e){return Array.isArray(e)?e.map($):"object"==typeof e&&e?Q(e,$):e}var ee={};function te(e){ee[e]||("undefined"!=typeof console&&console.warn(e),ee[e]=!0)}function ne(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function re(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}function ie(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function ae(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var a=r||i;return t[n]=!a||a.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var oe=null;function se(e){if(null==oe){var t=e.navigator?e.navigator.userAgent:null;oe=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return oe}function le(e){try{var t=g[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function ue(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}var ce,fe,he="mapbox-tiles",de=500,pe=50;function me(){try{return g.caches}catch(e){}}function ve(){me()&&!ce&&(ce=g.caches.open(he))}function ye(e){var t=e.indexOf("?");if(t<0)return e;var n=function(e){var t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e),r=n.filter((function(e){var t=e.split("=");return"language"===t[0]||"worldview"===t[0]}));return r.length?"".concat(e.slice(0,t),"?").concat(r.join("&")):e.slice(0,t)}var ge=1/0,_e={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(_e);var xe=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return d(this,n),401===r&&Pe(i)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),(a=t.call(this,e)).status=r,a.url=i,a}return p(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(y(Error)),be=ie()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===g.location.protocol?g.parent:g).location.href},we=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(be())&&!/^\w+:/.test(n))){if(g.fetch&&g.Request&&g.AbortController&&g.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new g.AbortController,i=new g.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:be(),signal:r.signal}),a=!1,o=!1,s=(n=i.url).indexOf("sku=")>0&&Pe(n);"json"===e.type&&i.headers.set("Accept","application/json");var l=function(n,r,a){if(!o){if(n&&"SecurityError"!==n.message&&te(n),r&&a)return u(r);var l=Date.now();g.fetch(i).then((function(n){if(n.ok){var r=s?n.clone():null;return u(n,r,l)}return t(new xe(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},u=function(n,r,s){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){o||(r&&s&&function(e,t,n){if(ve(),ce){var r={status:t.status,statusText:t.statusText,headers:new g.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=ae(t.headers.get("Cache-Control")||"");if(!i["no-store"]){i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString());var a=r.headers.get("Expires");a&&(new Date(a).getTime()-n<42e4||function(e,t){if(void 0===fe)try{new Response(new ReadableStream),fe=!0}catch(e){fe=!1}fe?t(e.body):e.blob().then(t)}(t,(function(t){var n=new g.Response(t,r);ve(),ce&&ce.then((function(t){return t.put(ye(e.url),n)})).catch((function(e){return te(e.message)}))})))}}}(i,r,s),a=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){o||t(new Error(e.message))}))};return s?function(e,t){if(ve(),!ce)return t(null);var n=ye(e.url);ce.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=ae(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,l):l(null,null),{cancel:function(){o=!0,a||r.abort()}}}(e,t);if(ie()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new g.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new xe(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},ke=function(e,t){return we(V(e,{type:"arrayBuffer"}),t)};function Ce(e){var t=g.document.createElement("a");return t.href=e,t.protocol===g.document.location.protocol&&t.host===g.document.location.host}var Ee,Se,Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ee=[],Se=0;var Ae=function e(t,n){if(b.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Se>=x.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ee.push(r),r}Se++;var i=!1,a=function(){if(!i)for(i=!0,Se--;Ee.length&&Se<x.MAX_PARALLEL_IMAGE_REQUESTS;){var t=Ee.shift(),n=t.requestParameters,r=t.callback;t.cancelled||(t.cancel=e(n,r).cancel)}},o=ke(t,(function(e,t,r,i){a(),e?n(e):t&&(g.createImageBitmap?function(e,t){var n=new g.Blob([new Uint8Array(e)],{type:"image/png"});g.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}(t,(function(e,t){return n(e,t,r,i)})):function(e,t){var n=new g.Image,r=g.URL;n.onload=function(){t(null,n),r.revokeObjectURL(n.src),n.onload=null,g.requestAnimationFrame((function(){n.src=Te}))},n.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var i=new g.Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?r.createObjectURL(i):Te}(t,(function(e,t){return n(e,t,r,i)})))}));return{cancel:function(){o.cancel(),a()}}},Me="NO_ACCESS_TOKEN";function Ie(e){return 0===e.indexOf("mapbox:")}function Pe(e){return x.API_URL_REGEX.test(e)}function Le(e){return x.API_STYLE_REGEX.test(e)&&!ze(e)}function ze(e){return x.API_SPRITE_REGEX.test(e)}var Oe=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function De(e){var t=e.match(Oe);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Re(e){var t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}function Fe(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(g.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Be=function(){function e(t){d(this,e),this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}return p(e,[{key:"getStorageKey",value:function(e){var t=Fe(x.ACCESS_TOKEN),n="";return n=t&&t.u?g.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):x.ACCESS_TOKEN||"",e?"mapbox.eventData.".concat(e,":").concat(n):"mapbox.eventData:".concat(n)}},{key:"fetchEventData",value:function(){var e=le("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=g.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=g.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){te("Unable to read from LocalStorage")}}},{key:"saveEventData",value:function(){var e=le("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{g.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&g.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){te("Unable to write to LocalStorage")}}},{key:"processRequests",value:function(e){}},{key:"postEvent",value:function(e,t,n,r){var i=this;if(x.EVENTS_URL){var a=De(x.EVENTS_URL);a.params.push("access_token=".concat(r||x.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString()},s=t?V(o,t):o,l={url:Re(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return we(V(e,{method:"POST"}),t)}(l,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}}},{key:"queueRequest",value:function(e,t){this.queue.push(e),this.processRequests(t)}}]),e}(),je=new(function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,"appUserTurnstile"))._customAccessToken=e,r}return p(n,[{key:"postTurnstileEvent",value:function(e,t){x.EVENTS_URL&&x.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return Ie(e)||Pe(e)}))&&this.queueRequest(Date.now(),t)}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=Fe(x.ACCESS_TOKEN),r=n?n.u:x.ACCESS_TOKEN,i=r!==this.eventData.tokenU;X(this.anonId)||(this.anonId=W(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),l=(a-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||o.getDate()!==s.getDate()}else i=!0;i?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:_,skuId:E,"enabled.telemetry":!1,userId:this.anonId},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=r)}),e):this.processRequests()}}}]),n}(Be)),Ue=je.postTurnstileEvent.bind(je),Ze=new(function(e){m(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.call(this,"map.load")).success={},e.skuToken="",e}return p(n,[{key:"postMapLoadEvent",value:function(e,t,n,r){this.skuToken=t,this.errorCb=r,x.EVENTS_URL&&(n||x.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(Me)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),X(this.anonId)||(this.anonId=W()),this.postEvent(i,{sdkIdentifier:"mapbox-gl-js",sdkVersion:_,skuId:E,skuToken:this.skuToken,userId:this.anonId},(function(e){e?t.errorCb(e):r&&(t.success[r]=!0)}),e))}}}]),n}(Be)),Ne=Ze.postMapLoadEvent.bind(Ze),Ve=new(function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.call(this,"gljs.performance")}return p(n,[{key:"postPerformanceEvent",value:function(e,t){x.EVENTS_URL&&(e||x.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}},{key:"processRequests",value:function(e){if(!this.pendingRequest&&0!==this.queue.length){var t,n=this.queue.shift(),r=n.timestamp,i=function(e){var t=g.performance.getEntriesByType("resource"),n=g.performance.getEntriesByType("mark"),r=function(e){var t={};if(e)for(var n in e)if("other"!==n){var r,i=h(e[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value,o="".concat(n,"RequestCount"),s="".concat(n,"ResolveRangeMin"),l="".concat(n,"ResolveRangeMax");t[s]=Math.min(t[s]||1/0,a.startTime),t[l]=Math.max(t[l]||-1/0,a.responseEnd),void 0===t[o]&&(t[o]=0),++t[o]}}catch(u){i.e(u)}finally{i.f()}}return t}(function(e,t){var n={};if(e){var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t(a);void 0===n[o]&&(n[o]=[]),n[o].push(a)}}catch(s){i.e(s)}finally{i.f()}}return n}(t,Ke)),i=g.devicePixelRatio,a=g.navigator.connection||g.navigator.mozConnection||g.navigator.webkitConnection,o={counters:[],metadata:[],attributes:[]},s=function(e,t,n){null!=n&&e.push({name:t,value:n.toString()})};for(var l in r)s(o.counters,l,r[l]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(s(o.counters,"interactionRangeMin",e.interactionRange[0]),s(o.counters,"interactionRangeMax",e.interactionRange[1])),n)for(var u=function(){var e=f[c],t=Xe[e],r=n.find((function(e){return e.name===t}));r&&s(o.counters,t,r.startTime)},c=0,f=Object.keys(Xe);c<f.length;c++)u();return s(o.attributes,"style",function(e){if(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.name.split("?")[0];if(Le(r)){var i=r.split("/").slice(-2);if(2===i.length)return"mapbox://styles/".concat(i[0],"/").concat(i[1])}}}catch(a){n.e(a)}finally{n.f()}}}(t)),s(o.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),s(o.attributes,"fogEnabled",e.fogEnabled?"true":"false"),s(o.attributes,"projection",e.projection.name),s(o.attributes,"zoom",e.zoom),s(o.metadata,"devicePixelRatio",i),s(o.metadata,"connectionEffectiveType",a?a.effectiveType:void 0),s(o.metadata,"navigatorUserAgent",g.navigator.userAgent),s(o.metadata,"screenWidth",g.screen.width),s(o.metadata,"screenHeight",g.screen.height),s(o.metadata,"windowWidth",g.innerWidth),s(o.metadata,"windowHeight",g.innerHeight),s(o.metadata,"mapWidth",e.width/i),s(o.metadata,"mapHeight",e.height/i),s(o.metadata,"webglRenderer",e.renderer),s(o.metadata,"webglVendor",e.vendor),s(o.metadata,"sdkVersion",_),s(o.metadata,"sdkIdentifier","mapbox-gl-js"),o}(n.performanceData),a=h(i.metadata);try{for(a.s();!(t=a.n()).done;)t.value}catch(c){a.e(c)}finally{a.f()}var o,s=h(i.counters);try{for(s.s();!(o=s.n()).done;)o.value}catch(c){s.e(c)}finally{s.f()}var l,u=h(i.attributes);try{for(u.s();!(l=u.n()).done;)l.value}catch(c){u.e(c)}finally{u.f()}this.postEvent(r,i,(function(){}),e)}}}]),n}(Be)),Ge=Ve.postPerformanceEvent.bind(Ve),qe=new(function(e){m(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.call(this,"map.auth")).success={},e.skuToken="",e}return p(n,[{key:"getSession",value:function(e,t,n,r){var i=this;if(x.API_URL&&x.SESSION_PATH){var a=De(x.API_URL+x.SESSION_PATH);a.params.push("sku=".concat(t||"")),a.params.push("access_token=".concat(r||x.ACCESS_TOKEN||""));var o={url:Re(a),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return we(V(e,{method:"GET"}),t)}(o,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}}},{key:"getSessionAPI",value:function(e,t,n,r){this.skuToken=t,this.errorCb=r,x.SESSION_PATH&&x.API_URL&&(n||x.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(Me)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||this.getSession(i,this.skuToken,(function(e){e?t.errorCb(e):r&&(t.success[r]=!0)}),e)}}}]),n}(Be)),We=qe.getSessionAPI.bind(qe),He=new Set,Xe={create:"create",load:"load",fullLoad:"fullLoad"},Ye={mark:function(e){g.performance.mark(e)},measure:function(e,t,n){g.performance.measure(e,t,n)}};function Ke(e){var t=e.name.split("?")[0];return t.includes("mapbox-gl.js")?"javascript":t.includes("mapbox-gl.css")?"css":function(e){return x.API_FONTS_REGEX.test(e)}(t)?"fontRange":ze(t)?"sprite":Le(t)?"style":function(e){return x.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}var Qe,Je,$e,et,tt=g.performance;function nt(e){var t=e?e.url.toString():void 0;return tt.getEntriesByName(t)}var rt={now:function(){return void 0!==$e?$e:g.performance.now()},setNow:function(e){$e=e},restoreNow:function(){$e=void 0},frame:function(e){var t=g.requestAnimationFrame(e);return{cancel:function(){return g.cancelAnimationFrame(t)}}},getImageData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.width,r=e.height;et||(et=g.document.createElement("canvas"));var i=et.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return(n>et.width||r>et.height)&&(et.width=n,et.height=r),i.clearRect(-t,-t,n+2*t,r+2*t),i.drawImage(e,0,0,n,r),i.getImageData(-t,-t,n+2*t,r+2*t)},resolveURL:function(e){return Qe||(Qe=g.document.createElement("a")),Qe.href=e,Qe.href},get devicePixelRatio(){return g.devicePixelRatio},get prefersReducedMotion(){return!!g.matchMedia&&(null==Je&&(Je=g.matchMedia("(prefers-reduced-motion: reduce)")),Je.matches)}};function it(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function at(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var ot=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,e),V(this,n),this.type=t})),st=function(e){m(n,e);var t=v(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),t.call(this,"error",V({error:e},r))}return p(n)}(ot),lt=function(){function e(){d(this,e)}return p(e,[{key:"on",value:function(e,t){return this._listeners=this._listeners||{},it(e,t,this._listeners),this}},{key:"off",value:function(e,t){return at(e,t,this._listeners),at(e,t,this._oneTimeListeners),this}},{key:"once",value:function(e,t){var n=this;return t?(this._oneTimeListeners=this._oneTimeListeners||{},it(e,t,this._oneTimeListeners),this):new Promise((function(t){return n.once(e,t)}))}},{key:"fire",value:function(e,t){"string"==typeof e&&(e=new ot(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;var r,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[],a=h(i);try{for(a.s();!(r=a.n()).done;)r.value.call(this,e)}catch(f){a.e(f)}finally{a.f()}var o,s=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[],l=h(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;at(n,u,this._oneTimeListeners),u.call(this,e)}}catch(f){l.e(f)}finally{l.f()}var c=this._eventedParent;c&&(V(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),c.fire(e))}else e instanceof st&&console.error(e.error);return this}},{key:"listens",value:function(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}},{key:"setEventedParent",value:function(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}]),e}(),ut=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}function ft(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function ht(e){if(Array.isArray(e))return e.map(ht);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=ht(e[n]);return t}return ft(e)}var dt=function(e){m(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,r)).message=r,i.key=e,i}return p(n)}(y(Error)),pt=dt,mt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];d(this,e),this.parent=t,this.bindings={};var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];this.bindings[o]=s}}catch(l){i.e(l)}finally{i.f()}}return p(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}]),e}(),vt=mt,yt={kind:"null"},gt={kind:"number"},_t={kind:"string"},xt={kind:"boolean"},bt={kind:"color"},wt={kind:"object"},kt={kind:"value"},Ct={kind:"collator"},Et={kind:"formatted"},St={kind:"resolvedImage"};function Tt(e,t){return{kind:"array",itemType:e,N:t}}function At(e){if("array"===e.kind){var t=At(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var Mt=[yt,gt,_t,xt,bt,Et,wt,Tt(kt),St];function It(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!It(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind){var n,r=h(Mt);try{for(r.s();!(n=r.n()).done;)if(!It(n.value,t))return null}catch(i){r.e(i)}finally{r.f()}}}return"Expected ".concat(At(e)," but found ").concat(At(t)," instead.")}function Pt(e,t){return t.some((function(t){return t.kind===e.kind}))}function Lt(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var zt,Ot={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Dt(e){return(e=Math.round(e))<0?0:e>255?255:e}function Rt(e){return Dt("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Ft(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Bt(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{zt={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in Ot)return Ot[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var a=n.substr(0,r),o=n.substr(r+1,i-(r+1)).split(","),s=1;switch(a){case"rgba":if(4!==o.length)return null;s=Ft(o.pop());case"rgb":return 3!==o.length?null:[Rt(o[0]),Rt(o[1]),Rt(o[2]),s];case"hsla":if(4!==o.length)return null;s=Ft(o.pop());case"hsl":if(3!==o.length)return null;var l=(parseFloat(o[0])%360+360)%360/360,u=Ft(o[1]),c=Ft(o[2]),f=c<=.5?c*(u+1):c+u-c*u,h=2*c-f;return[Dt(255*Bt(h,f,l+1/3)),Dt(255*Bt(h,f,l)),Dt(255*Bt(h,f,l-1/3)),s];default:return null}}return null}}catch(e){}var jt=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;d(this,e),this.r=t,this.g=n,this.b=r,this.a=i}return p(e,[{key:"toString",value:function(){var e=this.toArray(),t=f(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"rgba(".concat(Math.round(n),",").concat(Math.round(r),",").concat(Math.round(i),",").concat(a,")")}},{key:"toArray",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}},{key:"toArray01",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[e/r,t/r,n/r,r]}},{key:"toArray01PremultipliedAlpha",value:function(){return[this.r,this.g,this.b,this.a]}}],[{key:"parse",value:function(t){if(t){if(t instanceof e)return t;if("string"==typeof t){var n=zt(t);return n?new e(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]):void 0}}}}]),e}();jt.black=new jt(0,0,0,1),jt.white=new jt(1,1,1,1),jt.transparent=new jt(0,0,0,0),jt.red=new jt(1,0,0,1),jt.blue=new jt(0,0,1,1);var Ut=jt,Zt=function(){function e(t,n,r){d(this,e),this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return p(e,[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),e}(),Nt=p((function e(t,n,r,i,a){d(this,e),this.text=t.normalize?t.normalize():t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=a})),Vt=function(){function e(t){d(this,e),this.sections=t}return p(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")}},{key:"serialize",value:function(){var e,t=["format"],n=h(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"fromString",value:function(t){return new e([new Nt(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}]),e}(),Gt=function(){function e(t){d(this,e),this.name=t.name,this.available=t.available}return p(e,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}]),e}();function qt(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value [".concat([e,t,n,r].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Wt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Ut)return!0;if(e instanceof Zt)return!0;if(e instanceof Vt)return!0;if(e instanceof Gt)return!0;if(Array.isArray(e)){var t,n=h(e);try{for(n.s();!(t=n.n()).done;)if(!Wt(t.value))return!1}catch(i){n.e(i)}finally{n.f()}return!0}if("object"==typeof e){for(var r in e)if(!Wt(e[r]))return!1;return!0}return!1}function Ht(e){if(null===e)return yt;if("string"==typeof e)return _t;if("boolean"==typeof e)return xt;if("number"==typeof e)return gt;if(e instanceof Ut)return bt;if(e instanceof Zt)return Ct;if(e instanceof Vt)return Et;if(e instanceof Gt)return St;if(Array.isArray(e)){var t,n,r=e.length,i=h(e);try{for(i.s();!(n=i.n()).done;){var a=Ht(n.value);if(t){if(t===a)continue;t=kt;break}t=a}}catch(o){i.e(o)}finally{i.f()}return Tt(t||kt,r)}return wt}function Xt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ut||e instanceof Vt||e instanceof Gt?e.toString():JSON.stringify(e)}var Yt=function(){function e(t,n){d(this,e),this.type=t,this.value=n}return p(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ut?["rgba"].concat(this.value.toArray()):this.value instanceof Vt?this.value.serialize():this.value}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!Wt(t[1]))return n.error("invalid value");var r=t[1],i=Ht(r),a=n.expectedType;return"array"!==i.kind||0!==i.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(i=a),new e(i,r)}}]),e}(),Kt=Yt,Qt=function(){function e(t){d(this,e),this.name="ExpressionEvaluationError",this.message=t}return p(e,[{key:"toJSON",value:function(){return this.message}}]),e}(),Jt={string:_t,number:gt,boolean:xt,object:wt},$t=function(){function e(t,n){d(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!It(this.type,Ht(n)))return n;if(t===this.args.length-1)throw new Qt("Expected value to be of type ".concat(At(this.type),", but found ").concat(At(Ht(n))," instead."))}return null}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r,i=1,a=t[0];if("array"===a){var o,s;if(t.length>2){var l=t[1];if("string"!=typeof l||!(l in Jt)||"object"===l)return n.error('The item type argument of "array" must be one of string, number, boolean',1);o=Jt[l],i++}else o=kt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);s=t[2],i++}r=Tt(o,s)}else r=Jt[a];for(var u=[];i<t.length;i++){var c=n.parse(t[i],i,kt);if(!c)return null;u.push(c)}return new e(r,u)}}]),e}(),en=$t,tn=function(){function e(t){d(this,e),this.type=Et,this.sections=t}return p(e,[{key:"evaluate",value:function(e){return new Vt(this.sections.map((function(t){var n=t.content.evaluate(e);return Ht(n)===St?new Nt("",n,null,null,null):new Nt(Xt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}},{key:"eachChild",value:function(e){var t,n=h(this.sections);try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}}catch(i){n.e(i)}finally{n.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e,t=["format"],n=h(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return n.error("First argument must be an image or text section.");for(var i=[],a=!1,o=1;o<=t.length-1;++o){var s=t[o];if(a&&"object"==typeof s&&!Array.isArray(s)){a=!1;var l=null;if(s["font-scale"]&&!(l=n.parse(s["font-scale"],1,gt)))return null;var u=null;if(s["text-font"]&&!(u=n.parse(s["text-font"],1,Tt(_t))))return null;var c=null;if(s["text-color"]&&!(c=n.parse(s["text-color"],1,bt)))return null;var f=i[i.length-1];f.scale=l,f.font=u,f.textColor=c}else{var h=n.parse(t[o],1,kt);if(!h)return null;var d=h.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");a=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new e(i)}}]),e}(),nn=function(){function e(t){d(this,e),this.type=St,this.input=t}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=Gt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,_t);return r?new e(r):n.error("No image name provided.")}}]),e}(),rn={"to-boolean":xt,"to-color":bt,"to-number":gt,"to-string":_t},an=function(){function e(t,n){d(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){var t,n,r,i=h(this.args);try{for(i.s();!(r=i.n()).done;){if(t=r.value.evaluate(e),n=null,t instanceof Ut)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):qt(t[0],t[1],t[2],t[3])))return new Ut(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(c){i.e(c)}finally{i.f()}throw new Qt(n||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){var o,s=null,l=h(this.args);try{for(l.s();!(o=l.n()).done;){if(null===(s=o.value.evaluate(e)))return 0;var u=Number(s);if(!isNaN(u))return u}}catch(c){l.e(c)}finally{l.f()}throw new Qt("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?Vt.fromString(Xt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Gt.fromString(Xt(this.args[0].evaluate(e))):Xt(this.args[0].evaluate(e))}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new tn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new nn(this.args[0]).serialize();var e=["to-".concat(this.type.kind)];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[0];if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return n.error("Expected one argument.");for(var i=rn[r],a=[],o=1;o<t.length;o++){var s=n.parse(t[o],o,kt);if(!s)return null;a.push(s)}return new e(i,a)}}]),e}(),on=an,sn=["Unknown","Point","LineString","Polygon"],ln=function(){function e(){d(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}return p(e,[{key:"id",value:function(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?sn[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"distanceFromCenter",value:function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,n=this.featureTileCoord,r=n.x,i=n.y;return this.featureDistanceData.bearing[0]*(r*t-e[0])+this.featureDistanceData.bearing[1]*(i*t-e[1])}return 0}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ut.parse(e)),t}}]),e}(),un=function(){function e(t,n,r,i){d(this,e),this.name=t,this.type=n,this._evaluate=r,this.args=i}return p(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,n){var r,i=t[0],a=e.definitions[i];if(!a)return n.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0);var o,s=Array.isArray(a)?a[0]:a.type,l=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,u=l.filter((function(e){var n=f(e,1)[0];return!Array.isArray(n)||n.length===t.length-1})),d=null,p=h(u);try{for(p.s();!(o=p.n()).done;){var m=f(o.value,2),v=m[0],y=m[1];d=new Rn(n.registry,n.path,null,n.scope);for(var g=[],_=!1,x=1;x<t.length;x++){var b=t[x],w=Array.isArray(v)?v[x-1]:v.type,k=d.parse(b,1+g.length,w);if(!k){_=!0;break}g.push(k)}if(!_)if(Array.isArray(v)&&v.length!==g.length)d.error("Expected ".concat(v.length," arguments, but found ").concat(g.length," instead."));else{for(var C=0;C<g.length;C++){var E=Array.isArray(v)?v[C]:v.type,S=g[C];d.concat(C+1).checkSubtype(E,S.type)}if(0===d.errors.length)return new e(i,s,y,g)}}}catch(P){p.e(P)}finally{p.f()}if(1===u.length)(r=n.errors).push.apply(r,c(d.errors));else{for(var T=(u.length?u:l).map((function(e){var t;return t=f(e,1)[0],Array.isArray(t)?"(".concat(t.map(At).join(", "),")"):"(".concat(At(t.type),"...)")})).join(" | "),A=[],M=1;M<t.length;M++){var I=n.parse(t[M],1+A.length);if(!I)return null;A.push(At(I.type))}n.error("Expected arguments of type ".concat(T,", but found (").concat(A.join(", "),") instead."))}return null}},{key:"register",value:function(t,n){for(var r in e.definitions=n,n)t[r]=e}}]),e}(),cn=un,fn=function(){function e(t,n,r){d(this,e),this.type=Ct,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}return p(e,[{key:"evaluate",value:function(e){return new Zt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return n.error("Collator options argument must be an object.");var i=n.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,xt);if(!i)return null;var a=n.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,xt);if(!a)return null;var o=null;return r.locale&&!(o=n.parse(r.locale,1,_t))?null:new e(i,a,o)}}]),e}(),hn=8192;function dn(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function pn(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function mn(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*hn),Math.round(r*i*hn)]}function vn(e,t,n){var r=e[0]-t[0],i=e[1]-t[1],a=e[0]-n[0],o=e[1]-n[1];return r*o-a*i==0&&r*a<=0&&i*o<=0}function yn(e,t){for(var n,r,i,a=!1,o=0,s=t.length;o<s;o++)for(var l=t[o],u=0,c=l.length;u<c-1;u++){if(vn(e,l[u],l[u+1]))return!1;(r=l[u])[1]>(n=e)[1]!=(i=l[u+1])[1]>n[1]&&n[0]<(i[0]-r[0])*(n[1]-r[1])/(i[1]-r[1])+r[0]&&(a=!a)}return a}function gn(e,t){for(var n=0;n<t.length;n++)if(yn(e,t[n]))return!0;return!1}function _n(e,t,n,r){var i=r[0]-n[0],a=r[1]-n[1],o=(e[0]-n[0])*a-i*(e[1]-n[1]),s=(t[0]-n[0])*a-i*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function xn(e,t,n){var r,i,a,o,s,l,u,c=h(n);try{for(c.s();!(r=c.n()).done;)for(var f=r.value,d=0;d<f.length-1;++d)if(0!=(l=[(s=f[d+1])[0]-(o=f[d])[0],s[1]-o[1]])[0]*(u=[(a=t)[0]-(i=e)[0],a[1]-i[1]])[1]-l[1]*u[0]&&_n(i,a,o,s)&&_n(o,s,i,a))return!0}catch(p){c.e(p)}finally{c.f()}return!1}function bn(e,t){for(var n=0;n<e.length;++n)if(!yn(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(xn(e[r],e[r+1],t))return!1;return!0}function wn(e,t){for(var n=0;n<t.length;n++)if(bn(e,t[n]))return!0;return!1}function kn(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=mn(e[i][o],n);dn(t,s),a.push(s)}r.push(a)}return r}function Cn(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=kn(e[i],t,n);r.push(a)}return r}function En(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===a&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}dn(t,e)}function Sn(e,t,n,r){var i=Math.pow(2,r.z)*hn,a=[r.x*hn,r.y*hn],o=[];if(!e)return o;var s,l=h(e);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,f=h(c);try{for(f.s();!(u=f.n()).done;){var d=u.value,p=[d.x+a[0],d.y+a[1]];En(p,t,n,i),o.push(p)}}catch(m){f.e(m)}finally{f.f()}}}catch(m){l.e(m)}finally{l.f()}return o}function Tn(e,t,n,r){var i=Math.pow(2,r.z)*hn,a=[r.x*hn,r.y*hn],o=[];if(!e)return o;var s,l,u=h(e);try{for(u.s();!(s=u.n()).done;){var c,f=s.value,d=[],p=h(f);try{for(p.s();!(c=p.n()).done;){var m=c.value,v=[m.x+a[0],m.y+a[1]];dn(t,v),d.push(v)}}catch(w){p.e(w)}finally{p.f()}o.push(d)}}catch(w){u.e(w)}finally{u.f()}if(t[2]-t[0]<=i/2){(l=t)[0]=l[1]=1/0,l[2]=l[3]=-1/0;var y,g=h(o);try{for(g.s();!(y=g.n()).done;){var _,x=y.value,b=h(x);try{for(b.s();!(_=b.n()).done;)En(_.value,t,n,i)}catch(w){b.e(w)}finally{b.f()}}}catch(w){g.e(w)}finally{g.f()}}return o}var An=function(){function e(t,n){d(this,e),this.type=xt,this.geojson=t,this.geometries=n}return p(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=kn(t.coordinates,r,i),o=Sn(e.geometry(),n,r,i);if(!pn(n,r))return!1;var s,l=h(o);try{for(l.s();!(s=l.n()).done;)if(!yn(s.value,a))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var u=Cn(t.coordinates,r,i),c=Sn(e.geometry(),n,r,i);if(!pn(n,r))return!1;var f,d=h(c);try{for(d.s();!(f=d.n()).done;)if(!gn(f.value,u))return!1}catch(p){d.e(p)}finally{d.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=kn(t.coordinates,r,i),o=Tn(e.geometry(),n,r,i);if(!pn(n,r))return!1;var s,l=h(o);try{for(l.s();!(s=l.n()).done;)if(!bn(s.value,a))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var u=Cn(t.coordinates,r,i),c=Tn(e.geometry(),n,r,i);if(!pn(n,r))return!1;var f,d=h(c);try{for(d.s();!(f=d.n()).done;)if(!wn(f.value,u))return!1}catch(p){d.e(p)}finally{d.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(Wt(t[1])){var r=t[1];if("FeatureCollection"===r.type)for(var i=0;i<r.features.length;++i){var a=r.features[i].geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new e(r,r.features[i].geometry)}else if("Feature"===r.type){var o=r.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new e(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new e(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),e}(),Mn=An;function In(e){if(e instanceof cn){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Mn)return!1;var t=!0;return e.eachChild((function(e){t&&!In(e)&&(t=!1)})),t}function Pn(e){if(e instanceof cn&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Pn(e)&&(t=!1)})),t}function Ln(e,t){if(e instanceof cn&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Ln(e,t)&&(n=!1)})),n}var zn=function(){function e(t,n){d(this,e),this.type=n.type,this.name=t,this.boundExpression=n}return p(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(t,n){if(2!==t.length||"string"!=typeof t[1])return n.error("'var' expression requires exactly one string literal argument.");var r=t[1];return n.scope.has(r)?new e(r,n.scope.get(r)):n.error('Unknown variable "'.concat(r,'". Make sure "').concat(r,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),e}(),On=zn,Dn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new vt,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];d(this,e),this.registry=t,this.path=n,this.key=n.map((function(e){return"[".concat(e,"]")})).join(""),this.scope=i,this.errors=a,this.expectedType=r}return p(e,[{key:"parse",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}},{key:"_parse",value:function(e,t){function n(e,t,n){return"assert"===n?new en(t,[e]):"coerce"===n?new on(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found ".concat(typeof r,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||"coerce");else a=n(a,o,t.typeAnnotation||"assert")}if(!(a instanceof Kt)&&"resolvedImage"!==a.type.kind&&Fn(a)){var l=new ln;try{a=new Kt(a.type,a.evaluate(l))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'.concat(r,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}},{key:"concat",value:function(t,n,r){var i="number"==typeof t?this.path.concat(t):this.path,a=r?this.scope.concat(r):this.scope;return new e(this.registry,i,n||null,a,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i="".concat(this.key).concat(n.map((function(e){return"[".concat(e,"]")})).join(""));this.errors.push(new pt(i,e))}},{key:"checkSubtype",value:function(e,t){var n=It(e,t);return n&&this.error(n),n}}]),e}(),Rn=Dn;function Fn(e){if(e instanceof On)return Fn(e.boundExpression);if(e instanceof cn&&"error"===e.name)return!1;if(e instanceof fn)return!1;if(e instanceof Mn)return!1;var t=e instanceof on||e instanceof en,n=!0;return e.eachChild((function(e){n=t?n&&Fn(e):n&&e instanceof Kt})),!!n&&In(e)&&Ln(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Bn(e,t){for(var n,r,i=e.length-1,a=0,o=i,s=0;a<=o;)if(n=e[s=Math.floor((a+o)/2)],r=e[s+1],n<=t){if(s===i||t<r)return s;a=s+1}else{if(!(n>t))throw new Qt("Input is not a number.");o=s-1}return 0}var jn=function(){function e(t,n,r){d(this,e),this.type=t,this.input=n,this.labels=[],this.outputs=[];var i,a=h(r);try{for(a.s();!(i=a.n()).done;){var o=f(i.value,2),s=o[0],l=o[1];this.labels.push(s),this.outputs.push(l)}}catch(u){a.e(u)}finally{a.f()}}return p(e,[{key:"evaluate",value:function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[Bn(t,r)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,n=h(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}],[{key:"parse",value:function(t,n){if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");var r=n.parse(t[1],1,gt);if(!r)return null;var i=[],a=null;n.expectedType&&"value"!==n.expectedType.kind&&(a=n.expectedType);for(var o=1;o<t.length;o+=2){var s=1===o?-1/0:t[o],l=t[o+1],u=o,c=o+1;if("number"!=typeof s)return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var f=n.parse(l,c,a);if(!f)return null;a=a||f.type,i.push([s,f])}return new e(a,r,i)}}]),e}(),Un=jn;function Zn(e,t,n){return e*(1-n)+t*n}var Nn=Object.freeze({__proto__:null,number:Zn,color:function(e,t,n){return new Ut(Zn(e.r,t.r,n),Zn(e.g,t.g,n),Zn(e.b,t.b,n),Zn(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Zn(e,t[r],n)}))}}),Vn=.95047,Gn=1.08883,qn=4/29,Wn=6/29,Hn=3*Wn*Wn,Xn=Math.PI/180,Yn=180/Math.PI;function Kn(e){return e>.008856451679035631?Math.pow(e,1/3):e/Hn+qn}function Qn(e){return e>Wn?e*e*e:Hn*(e-qn)}function Jn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function $n(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function er(e){var t=$n(e.r),n=$n(e.g),r=$n(e.b),i=Kn((.4124564*t+.3575761*n+.1804375*r)/Vn),a=Kn((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-Kn((.0193339*t+.119192*n+.9503041*r)/Gn)),alpha:e.a}}function tr(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Qn(t),n=Vn*Qn(n),r=Gn*Qn(r),new Ut(Jn(3.2404542*n-1.5371385*t-.4985314*r),Jn(-.969266*n+1.8760108*t+.041556*r),Jn(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function nr(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var rr={forward:er,reverse:tr,interpolate:function(e,t,n){return{l:Zn(e.l,t.l,n),a:Zn(e.a,t.a,n),b:Zn(e.b,t.b,n),alpha:Zn(e.alpha,t.alpha,n)}}},ir={forward:function(e){var t=er(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*Yn;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Xn,n=e.c;return tr({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:nr(e.h,t.h,n),c:Zn(e.c,t.c,n),l:Zn(e.l,t.l,n),alpha:Zn(e.alpha,t.alpha,n)}}},ar=Object.freeze({__proto__:null,lab:rr,hcl:ir}),or=function(){function e(t,n,r,i,a){d(this,e),this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];var o,s=h(a);try{for(s.s();!(o=s.n()).done;){var l=f(o.value,2),u=l[0],c=l[1];this.labels.push(u),this.outputs.push(c)}}catch(p){s.e(p)}finally{s.f()}}return p(e,[{key:"evaluate",value:function(t){var n=this.labels,r=this.outputs;if(1===n.length)return r[0].evaluate(t);var i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);var a=n.length;if(i>=n[a-1])return r[a-1].evaluate(t);var o=Bn(n,i),s=e.interpolationFactor(this.interpolation,i,n[o],n[o+1]),l=r[o].evaluate(t),u=r[o+1].evaluate(t);return"interpolate"===this.operator?Nn[this.type.kind.toLowerCase()](l,u,s):"interpolate-hcl"===this.operator?ir.reverse(ir.interpolate(ir.forward(l),ir.forward(u),s)):rr.reverse(rr.interpolate(rr.forward(l),rr.forward(u),s))}},{key:"eachChild",value:function(e){e(this.input);var t,n=h(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}],[{key:"interpolationFactor",value:function(e,t,n,r){var i=0;if("exponential"===e.name)i=sr(t,e.base,n,r);else if("linear"===e.name)i=sr(t,1,n,r);else if("cubic-bezier"===e.name){var a=e.controlPoints;i=new S(a[0],a[1],a[2],a[3]).solve(sr(t,1,n,r))}return i}},{key:"parse",value:function(t,n){var r=u(t),i=r[0],a=r[1],o=r[2],s=r.slice(3);if(!Array.isArray(a)||0===a.length)return n.error("Expected an interpolation type expression.",1);if("linear"===a[0])a={name:"linear"};else if("exponential"===a[0]){var l=a[1];if("number"!=typeof l)return n.error("Exponential interpolation requires a numeric base.",1,1);a={name:"exponential",base:l}}else{if("cubic-bezier"!==a[0])return n.error("Unknown interpolation type ".concat(String(a[0])),1,0);var c=a.slice(1);if(4!==c.length||c.some((function(e){return"number"!=typeof e||e<0||e>1})))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);a={name:"cubic-bezier",controlPoints:c}}if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(o=n.parse(o,2,gt)))return null;var f=[],h=null;"interpolate-hcl"===i||"interpolate-lab"===i?h=bt:n.expectedType&&"value"!==n.expectedType.kind&&(h=n.expectedType);for(var d=0;d<s.length;d+=2){var p=s[d],m=s[d+1],v=d+3,y=d+4;if("number"!=typeof p)return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',v);if(f.length&&f[f.length-1][0]>=p)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',v);var g=n.parse(m,y,h);if(!g)return null;h=h||g.type,f.push([p,g])}return"number"===h.kind||"color"===h.kind||"array"===h.kind&&"number"===h.itemType.kind&&"number"==typeof h.N?new e(h,i,a,o,f):n.error("Type ".concat(At(h)," is not interpolatable."))}}]),e}();function sr(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}var lr=or,ur=function(){function e(t,n){d(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){var t,n,r=null,i=0,a=h(this.args);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(i++,(r=o.evaluate(e))&&r instanceof Gt&&!r.available&&(t||(t=r),r=null,i===this.args.length))return t;if(null!==r)break}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expectected at least one argument.");var r=null,i=n.expectedType;i&&"value"!==i.kind&&(r=i);var a,o=[],s=h(t.slice(1));try{for(s.s();!(a=s.n()).done;){var l=a.value,u=n.parse(l,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!u)return null;r=r||u.type,o.push(u)}}catch(f){s.e(f)}finally{s.f()}var c=i&&o.some((function(e){return It(i,e.type)}));return new e(c?kt:r,o)}}]),e}(),cr=ur,fr=function(){function e(t,n){d(this,e),this.type=n.type,this.bindings=[].concat(t),this.result=n}return p(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=h(this.bindings);try{for(n.s();!(t=n.n()).done;)e(t.value[1])}catch(r){n.e(r)}finally{n.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var e,t=["let"],n=h(this.bindings);try{for(n.s();!(e=n.n()).done;){var r=f(e.value,2),i=r[0],a=r[1];t.push(i,a.serialize())}}catch(o){n.e(o)}finally{n.f()}return t.push(this.result.serialize()),t}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var r=[],i=1;i<t.length-1;i+=2){var a=t[i];if("string"!=typeof a)return n.error("Expected string, but found ".concat(typeof a," instead."),i);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",i);var o=n.parse(t[i+1],i+1);if(!o)return null;r.push([a,o])}var s=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return s?new e(r,s):null}}]),e}(),hr=fr,dr=function(){function e(t,n,r){d(this,e),this.type=t,this.index=n,this.input=r}return p(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Qt("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new Qt("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new Qt("Array index must be an integer, but found ".concat(t," instead."));return n[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,gt),i=n.parse(t[2],2,Tt(n.expectedType||kt));return r&&i?new e(i.type.itemType,r,i):null}}]),e}(),pr=dr,mr=function(){function e(t,n){d(this,e),this.type=xt,this.needle=t,this.haystack=n}return p(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!Lt(t,["boolean","string","number","null"]))throw new Qt("Expected first argument to be of type boolean, string, number or null, but found ".concat(At(Ht(t))," instead."));if(!Lt(n,["string","array"]))throw new Qt("Expected second argument to be of type array or string, but found ".concat(At(Ht(n))," instead."));return n.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,kt),i=n.parse(t[2],2,kt);return r&&i?Pt(r.type,[xt,_t,gt,yt,kt])?new e(r,i):n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(At(r.type)," instead")):null}}]),e}(),vr=mr,yr=function(){function e(t,n,r){d(this,e),this.type=gt,this.needle=t,this.haystack=n,this.fromIndex=r}return p(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Lt(t,["boolean","string","number","null"]))throw new Qt("Expected first argument to be of type boolean, string, number or null, but found ".concat(At(Ht(t))," instead."));if(!Lt(n,["string","array"]))throw new Qt("Expected second argument to be of type array or string, but found ".concat(At(Ht(n))," instead."));if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,kt),i=n.parse(t[2],2,kt);if(!r||!i)return null;if(!Pt(r.type,[xt,_t,gt,yt,kt]))return n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(At(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,gt);return a?new e(r,i,a):null}return new e(r,i)}}]),e}(),gr=yr,_r=function(){function e(t,n,r,i,a,o){d(this,e),this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=a,this.otherwise=o}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(Ht(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e,t=this,n=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),i=[],a={},o=h(r);try{for(o.s();!(e=o.n()).done;){var s=e.value,l=a[this.cases[s]];void 0===l?(a[this.cases[s]]=i.length,i.push([this.cases[s],[s]])):i[l][1].push(s)}}catch(y){o.e(y)}finally{o.f()}for(var u=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,d=i;c<d.length;c++){var p=f(d[c],2),m=p[0],v=p[1];n.push(1===v.length?u(v[0]):v.map(u)),n.push(this.outputs[m].serialize())}return n.push(this.otherwise.serialize()),n}}],[{key:"parse",value:function(t,n){if(t.length<5)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return n.error("Expected an even number of arguments.");var r,i;n.expectedType&&"value"!==n.expectedType.kind&&(i=n.expectedType);for(var a={},o=[],s=2;s<t.length-1;s+=2){var l=t[s],u=t[s+1];Array.isArray(l)||(l=[l]);var c=n.concat(s);if(0===l.length)return c.error("Expected at least one branch label.");var f,d=h(l);try{for(d.s();!(f=d.n()).done;){var p=f.value;if("number"!=typeof p&&"string"!=typeof p)return c.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof p&&Math.floor(p)!==p)return c.error("Numeric branch labels must be integer values.");if(r){if(c.checkSubtype(r,Ht(p)))return null}else r=Ht(p);if(void 0!==a[String(p)])return c.error("Branch labels must be unique.");a[String(p)]=o.length}}catch(g){d.e(g)}finally{d.f()}var m=n.parse(u,s,i);if(!m)return null;i=i||m.type,o.push(m)}var v=n.parse(t[1],1,kt);if(!v)return null;var y=n.parse(t[t.length-1],t.length-1,i);return y?"value"!==v.type.kind&&n.concat(1).checkSubtype(r,v.type)?null:new e(r,i,v,a,o,y):null}}]),e}(),xr=_r,br=function(){function e(t,n,r){d(this,e),this.type=t,this.branches=n,this.otherwise=r}return p(e,[{key:"evaluate",value:function(e){var t,n=h(this.branches);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1];if(i.evaluate(e))return a.evaluate(e)}}catch(o){n.e(o)}finally{n.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=h(this.branches);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1];e(i),e(a)}}catch(o){n.e(o)}finally{n.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(e){var t=f(e,2);return t[0],t[1].outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&"value"!==n.expectedType.kind&&(r=n.expectedType);for(var i=[],a=1;a<t.length-1;a+=2){var o=n.parse(t[a],a,xt);if(!o)return null;var s=n.parse(t[a+1],a+1,r);if(!s)return null;i.push([o,s]),r=r||s.type}var l=n.parse(t[t.length-1],t.length-1,r);return l?new e(r,i,l):null}}]),e}(),wr=br,kr=function(){function e(t,n,r,i){d(this,e),this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Lt(t,["string","array"]))throw new Qt("Expected first argument to be of type array or string, but found ".concat(At(Ht(t))," instead."));if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,kt),i=n.parse(t[2],2,gt);if(!r||!i)return null;if(!Pt(r.type,[Tt(kt),_t,kt]))return n.error("Expected first argument to be of type array or string, but found ".concat(At(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,gt);return a?new e(r.type,r,i,a):null}return new e(r.type,r,i)}}]),e}(),Cr=kr;function Er(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Sr(e,t,n,r){return 0===r.compare(t,n)}function Tr(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){d(this,i),this.type=xt,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return p(i,[{key:"evaluate",value:function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=Ht(a),l=Ht(o);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Qt('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(l.kind,") instead."))}if(this.collator&&!r&&this.hasUntypedArgument){var u=Ht(a),c=Ht(o);if("string"!==u.kind||"string"!==c.kind)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],a=t.parse(e[1],1,kt);if(!a)return null;if(!Er(n,a.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(At(a.type),"'."));var o=t.parse(e[2],2,kt);if(!o)return null;if(!Er(n,o.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(At(o.type),"'."));if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '".concat(At(a.type),"' and '").concat(At(o.type),"'."));r&&("value"===a.type.kind&&"value"!==o.type.kind?a=new en(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new en(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Ct)))return null}return new i(a,o,s)}}]),i}()}var Ar=Tr("==",(function(e,t,n){return t===n}),Sr),Mr=Tr("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!Sr(0,t,n,r)})),Ir=Tr("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),Pr=Tr(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Lr=Tr("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),zr=Tr(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Or=function(){function e(t,n,r,i,a,o){d(this,e),this.type=_t,this.number=t,this.locale=n,this.currency=r,this.unit=i,this.minFractionDigits=a,this.maxFractionDigits=o}return p(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,gt);if(!r)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");var a=null;if(i.locale&&!(a=n.parse(i.locale,1,_t)))return null;var o=null;if(i.currency&&!(o=n.parse(i.currency,1,_t)))return null;var s=null;if(i.unit&&!(s=n.parse(i.unit,1,_t)))return null;var l=null;if(i["min-fraction-digits"]&&!(l=n.parse(i["min-fraction-digits"],1,gt)))return null;var u=null;return i["max-fraction-digits"]&&!(u=n.parse(i["max-fraction-digits"],1,gt))?null:new e(r,a,o,s,l,u)}}]),e}(),Dr=function(){function e(t){d(this,e),this.type=gt,this.input=t}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Qt("Expected value to be of type string or array, but found ".concat(At(Ht(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?n.error("Expected argument of type string or array, but found ".concat(At(r.type)," instead.")):new e(r):null}}]),e}(),Rr={"==":Ar,"!=":Mr,">":Pr,"<":Ir,">=":zr,"<=":Lr,array:en,at:pr,boolean:en,case:wr,coalesce:cr,collator:fn,format:tn,image:nn,in:vr,"index-of":gr,interpolate:lr,"interpolate-hcl":lr,"interpolate-lab":lr,length:Dr,let:hr,literal:Kt,match:xr,number:en,"number-format":Or,object:en,slice:Cr,step:Un,string:en,"to-boolean":on,"to-color":on,"to-number":on,"to-string":on,var:On,within:Mn};function Fr(e,t){var n=f(t,4),r=n[0],i=n[1],a=n[2],o=n[3];r=r.evaluate(e),i=i.evaluate(e),a=a.evaluate(e);var s=o?o.evaluate(e):1,l=qt(r,i,a,s);if(l)throw new Qt(l);return new Ut(r/255*s,i/255*s,a/255*s,s)}function Br(e,t){return e in t}function jr(e,t){var n=t[e];return void 0===n?null:n}function Ur(e){return{type:e}}cn.register(Rr,{error:[{kind:"error"},[_t],function(e,t){var n=f(t,1)[0];throw new Qt(n.evaluate(e))}],typeof:[_t,[kt],function(e,t){return At(Ht(f(t,1)[0].evaluate(e)))}],"to-rgba":[Tt(gt,4),[bt],function(e,t){return f(t,1)[0].evaluate(e).toArray()}],rgb:[bt,[gt,gt,gt],Fr],rgba:[bt,[gt,gt,gt,gt],Fr],has:{type:xt,overloads:[[[_t],function(e,t){return Br(f(t,1)[0].evaluate(e),e.properties())}],[[_t,wt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return Br(r.evaluate(e),i.evaluate(e))}]]},get:{type:kt,overloads:[[[_t],function(e,t){return jr(f(t,1)[0].evaluate(e),e.properties())}],[[_t,wt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return jr(r.evaluate(e),i.evaluate(e))}]]},"feature-state":[kt,[_t],function(e,t){return jr(f(t,1)[0].evaluate(e),e.featureState||{})}],properties:[wt,[],function(e){return e.properties()}],"geometry-type":[_t,[],function(e){return e.geometryType()}],id:[kt,[],function(e){return e.id()}],zoom:[gt,[],function(e){return e.globals.zoom}],pitch:[gt,[],function(e){return e.globals.pitch||0}],"distance-from-center":[gt,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[gt,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[gt,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[gt,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[kt,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[gt,Ur(gt),function(e,t){var n,r=0,i=h(t);try{for(i.s();!(n=i.n()).done;)r+=n.value.evaluate(e)}catch(a){i.e(a)}finally{i.f()}return r}],"*":[gt,Ur(gt),function(e,t){var n,r=1,i=h(t);try{for(i.s();!(n=i.n()).done;)r*=n.value.evaluate(e)}catch(a){i.e(a)}finally{i.f()}return r}],"-":{type:gt,overloads:[[[gt,gt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return r.evaluate(e)-i.evaluate(e)}],[[gt],function(e,t){return-f(t,1)[0].evaluate(e)}]]},"/":[gt,[gt,gt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return r.evaluate(e)/i.evaluate(e)}],"%":[gt,[gt,gt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return r.evaluate(e)%i.evaluate(e)}],ln2:[gt,[],function(){return Math.LN2}],pi:[gt,[],function(){return Math.PI}],e:[gt,[],function(){return Math.E}],"^":[gt,[gt,gt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return Math.pow(r.evaluate(e),i.evaluate(e))}],sqrt:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.sqrt(n.evaluate(e))}],log10:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.log(n.evaluate(e))}],log2:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.sin(n.evaluate(e))}],cos:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.cos(n.evaluate(e))}],tan:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.tan(n.evaluate(e))}],asin:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.asin(n.evaluate(e))}],acos:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.acos(n.evaluate(e))}],atan:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.atan(n.evaluate(e))}],min:[gt,Ur(gt),function(e,t){return Math.min.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],max:[gt,Ur(gt),function(e,t){return Math.max.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],abs:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.abs(n.evaluate(e))}],round:[gt,[gt],function(e,t){var n=f(t,1)[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.floor(n.evaluate(e))}],ceil:[gt,[gt],function(e,t){var n=f(t,1)[0];return Math.ceil(n.evaluate(e))}],"filter-==":[xt,[_t,kt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return e.properties()[r.value]===i.value}],"filter-id-==":[xt,[kt],function(e,t){var n=f(t,1)[0];return e.id()===n.value}],"filter-type-==":[xt,[_t],function(e,t){var n=f(t,1)[0];return e.geometryType()===n.value}],"filter-<":[xt,[_t,kt],function(e,t){var n=f(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<o}],"filter-id-<":[xt,[kt],function(e,t){var n=f(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[xt,[_t,kt],function(e,t){var n=f(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>o}],"filter-id->":[xt,[kt],function(e,t){var n=f(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[xt,[_t,kt],function(e,t){var n=f(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<=o}],"filter-id-<=":[xt,[kt],function(e,t){var n=f(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[xt,[_t,kt],function(e,t){var n=f(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>=o}],"filter-id->=":[xt,[kt],function(e,t){var n=f(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[xt,[kt],function(e,t){return f(t,1)[0].value in e.properties()}],"filter-has-id":[xt,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[xt,[Tt(_t)],function(e,t){return f(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[xt,[Tt(kt)],function(e,t){return f(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[xt,[_t,Tt(kt)],function(e,t){var n=f(t,2),r=n[0];return n[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[xt,[_t,Tt(kt)],function(e,t){var n=f(t,2),r=n[0],i=n[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[r.value],i.value,0,i.value.length-1)}],all:{type:xt,overloads:[[[xt,xt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return r.evaluate(e)&&i.evaluate(e)}],[Ur(xt),function(e,t){var n,r=h(t);try{for(r.s();!(n=r.n()).done;)if(!n.value.evaluate(e))return!1}catch(i){r.e(i)}finally{r.f()}return!0}]]},any:{type:xt,overloads:[[[xt,xt],function(e,t){var n=f(t,2),r=n[0],i=n[1];return r.evaluate(e)||i.evaluate(e)}],[Ur(xt),function(e,t){var n,r=h(t);try{for(r.s();!(n=r.n()).done;)if(n.value.evaluate(e))return!0}catch(i){r.e(i)}finally{r.f()}return!1}]]},"!":[xt,[xt],function(e,t){return!f(t,1)[0].evaluate(e)}],"is-supported-script":[xt,[_t],function(e,t){var n=f(t,1)[0],r=e.globals&&e.globals.isSupportedScript;return!r||r(n.evaluate(e))}],upcase:[_t,[_t],function(e,t){return f(t,1)[0].evaluate(e).toUpperCase()}],downcase:[_t,[_t],function(e,t){return f(t,1)[0].evaluate(e).toLowerCase()}],concat:[_t,Ur(kt),function(e,t){return t.map((function(t){return Xt(t.evaluate(e))})).join("")}],"resolved-locale":[_t,[Ct],function(e,t){return f(t,1)[0].evaluate(e).resolvedLocale()}]});var Zr=Rr;function Nr(e){return{result:"success",value:e}}function Vr(e){return{result:"error",value:e}}function Gr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function qr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Wr(e){return!!e.expression&&e.expression.interpolated}function Hr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Xr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Yr(e){return e}function Kr(e,t){var n,r,i,a="color"===t.type,o=e.stops&&"object"==typeof e.stops[0][0],s=o||!(o||void 0!==e.property),l=e.type||(Wr(t)?"exponential":"interval");if(a&&((e=ct({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],Ut.parse(e[1])]}))),e.default=Ut.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!ar[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===l)n=ei;else if("interval"===l)n=$r;else if("categorical"===l){n=Jr,r=Object.create(null);var u,c=h(e.stops);try{for(c.s();!(u=c.n()).done;){var f=u.value;r[f[0]]=f[1]}}catch(C){c.e(C)}finally{c.f()}i=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'.concat(l,'"'));n=ti}if(o){for(var d={},p=[],m=0;m<e.stops.length;m++){var v=e.stops[m],y=v[0].zoom;void 0===d[y]&&(d[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},p.push(y)),d[y].stops.push([v[0].value,v[1]])}for(var g=[],_=0,x=p;_<x.length;_++){var b=x[_];g.push([d[b].zoom,Kr(d[b],t)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:lr.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(n,r){var i=n.zoom;return ei({stops:g,base:e.base},t,i).evaluate(i,r)}}}if(s){var k="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:lr.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(a){var o=a.zoom;return n(e,t,o,r,i)}}}return{kind:"source",evaluate:function(a,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?Qr(e.default,t.default):n(e,t,s,r,i)}}}function Qr(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Jr(e,t,n,r,i){return Qr(typeof n===i?r[n]:void 0,e.default,t.default)}function $r(e,t,n){if("number"!==Hr(n))return Qr(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=Bn(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function ei(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Hr(n))return Qr(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=Bn(e.stops.map((function(e){return e[0]})),n),o=function(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],l=e.stops[a+1][1],u=Nn[t.type]||Yr;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=ar[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=s.evaluate.apply(void 0,t),i=l.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==i)return u(r,i,o)}}:u(s,l,o)}function ti(e,t,n){return"color"===t.type?n=Ut.parse(n):"formatted"===t.type?n=Vt.fromString(n.toString()):"resolvedImage"===t.type?n=Gt.fromString(n.toString()):Hr(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Qr(n,e.default,t.default)}var ni=function(){function e(t,n){d(this,e),this.expression=t,this._warningHistory={},this._evaluator=new ln,this._defaultValue=n?function(e){return"color"===e.type&&(Xr(e.default)||Array.isArray(e.default))?new Ut(0,0,0,0):"color"===e.type?Ut.parse(e.default)||null:void 0===e.default?null:e.default}(n):null,this._enumValues=n&&"enum"===n.type?n.values:null}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,n,r,i,a,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{var l=this.expression.evaluate(this._evaluator);if(null==l||"number"==typeof l&&l!=l)return this._defaultValue;if(this._enumValues&&!(l in this._enumValues))throw new Qt("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", "),", but found ").concat(JSON.stringify(l)," instead."));return l}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}]),e}();function ri(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Zr}function ii(e,t){var n=new Rn(Zr,[],t?function(e){var t={color:bt,string:_t,number:gt,enum:_t,boolean:xt,formatted:Et,resolvedImage:St};return"array"===e.type?Tt(t[e.value]||kt,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Nr(new ni(r,t)):Vr(n.errors)}var ai=function(){function e(t,n){d(this,e),this.kind=t,this._styleExpression=n,this.isStateDependent="constant"!==t&&!Pn(n.expression)}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}}]),e}(),oi=function(){function e(t,n,r,i){d(this,e),this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent="camera"!==t&&!Pn(n.expression),this.interpolationType=i}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}},{key:"interpolationFactor",value:function(e,t,n){return this.interpolationType?lr.interpolationFactor(this.interpolationType,e,t,n):0}}]),e}();function si(e,t){if("error"===(e=ii(e,t)).result)return e;var n=e.value.expression,r=In(n);if(!r&&!Gr(t))return Vr([new pt("","data expressions not supported")]);var i=Ln(n,["zoom","pitch","distance-from-center"]);if(!i&&!qr(t))return Vr([new pt("","zoom expressions not supported")]);var a=ui(n);return a||i?a instanceof pt?Vr([a]):a instanceof lr&&!Wr(t)?Vr([new pt("",'"interpolate" expressions cannot be used with this property')]):Nr(a?new oi(r?"camera":"composite",e.value,a.labels,a instanceof lr?a.interpolation:void 0):new ai(r?"constant":"source",e.value)):Vr([new pt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var li=function(){function e(t,n){d(this,e),this._parameters=t,this._specification=n,ct(this,Kr(this._parameters,this._specification))}return p(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}]),e}();function ui(e){var t=null;if(e instanceof hr)t=ui(e.result);else if(e instanceof cr){var n,r=h(e.args);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t=ui(i))break}}catch(a){r.e(a)}finally{r.f()}}else(e instanceof Un||e instanceof lr)&&e.input instanceof cn&&"zoom"===e.input.name&&(t=e);return t instanceof pt||e.eachChild((function(e){var n=ui(e);n instanceof pt?t=n:!t&&n?t=new pt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new pt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}var ci=p((function e(t,n,r,i){d(this,e),this.message=(t?"".concat(t,": "):"")+r,i&&(this.identifier=i),null!=n&&n.__line__&&(this.line=n.__line__)}));function fi(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],l=Hr(n);if("object"!==l)return[new ci(t,n,"object expected, ".concat(l," found"))];for(var u in n){var c=u.split(".")[0],f=r[c]||r["*"],h=void 0;i[c]?h=i[c]:r[c]?h=Gi:i["*"]?h=i["*"]:r["*"]&&(h=Gi),h?s=s.concat(h({key:(t?"".concat(t,"."):t)+u,value:n[u],valueSpec:f,style:a,styleSpec:o,object:n,objectKey:u},n)):s.push(new ci(t,n[u],'unknown property "'.concat(u,'"')))}for(var d in r)i[d]||r[d].required&&void 0===r[d].default&&void 0===n[d]&&s.push(new ci(t,n,'missing required property "'.concat(d,'"')));return s}function hi(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||Gi;if("array"!==Hr(t))return[new ci(a,t,"array expected, ".concat(Hr(t)," found"))];if(n.length&&t.length!==n.length)return[new ci(a,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new ci(a,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];var s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};i.$version<7&&(s.function=n.function),"object"===Hr(n.value)&&(s=n.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(o({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:r,styleSpec:i,key:"".concat(a,"[").concat(u,"]")}));return l}function di(e){var t=e.key,n=e.value,r=e.valueSpec,i=Hr(n);if("number"===i&&n!=n&&(i="NaN"),"number"!==i)return[new ci(t,n,"number expected, ".concat(i," found"))];if("minimum"in r){var a=r.minimum;if("array"===Hr(r.minimum)&&(a=r.minimum[e.arrayIndex]),n<a)return[new ci(t,n,"".concat(n," is less than the minimum value ").concat(a))]}if("maximum"in r){var o=r.maximum;if("array"===Hr(r.maximum)&&(o=r.maximum[e.arrayIndex]),n>o)return[new ci(t,n,"".concat(n," is greater than the maximum value ").concat(o))]}return[]}function pi(e){var t,n,r,i=e.valueSpec,a=ft(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,l=!s,u="array"===Hr(e.value.stops)&&"array"===Hr(e.value.stops[0])&&"object"===Hr(e.value.stops[0][0]),c=fi({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new ci(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(hi({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),"array"===Hr(n)&&0===n.length&&t.push(new ci(e.key,n,"array must have at least one stop")),t},default:function(e){return Gi({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&c.push(new ci(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||c.push(new ci(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!Wr(e.valueSpec)&&c.push(new ci(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Gr(e.valueSpec)?c.push(new ci(e.key,e.value,"property functions not supported")):s&&!qr(e.valueSpec)&&c.push(new ci(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!u||void 0!==e.value.property||c.push(new ci(e.key,e.value,'"property" property is required')),c;function f(e){var t=[],a=e.value,s=e.key;if("array"!==Hr(a))return[new ci(s,a,"array expected, ".concat(Hr(a)," found"))];if(2!==a.length)return[new ci(s,a,"array length 2 expected, length ".concat(a.length," found"))];if(u){if("object"!==Hr(a[0]))return[new ci(s,a,"object expected, ".concat(Hr(a[0])," found"))];if(void 0===a[0].zoom)return[new ci(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new ci(s,a,"object stop key must have value")];var l=ft(a[0].zoom);if("number"!=typeof l)return[new ci(s,a[0].zoom,"stop zoom values must be numbers")];if(r&&r>l)return[new ci(s,a[0].zoom,"stop zoom values must appear in ascending order")];l!==r&&(r=l,n=void 0,o={}),t=t.concat(fi({key:"".concat(s,"[0]"),value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:di,value:h}}))}else t=t.concat(h({key:"".concat(s,"[0]"),value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return ri(ht(a[1]))?t.concat([new ci("".concat(s,"[1]"),a[1],"expressions are not allowed in function stops.")]):t.concat(Gi({key:"".concat(s,"[1]"),value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function h(e,r){var s=Hr(e.value),l=ft(e.value),u=null!==e.value?e.value:r;if(t){if(s!==t)return[new ci(e.key,u,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new ci(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var c="number expected, ".concat(s," found");return Gr(i)&&void 0===a&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ci(e.key,u,c)]}return"categorical"!==a||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==a&&"number"===s&&"number"==typeof l&&"number"==typeof n&&void 0!==n&&l<n?[new ci(e.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===a&&l in o?[new ci(e.key,u,"stop domain values must be unique")]:(o[l]=!0,[])):[new ci(e.key,u,"integer expected, found ".concat(String(l)))]}}function mi(e){var t=("property"===e.expressionContext?si:ii)(ht(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new ci("".concat(e.key).concat(t.key),e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new ci(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Pn(n))return[new ci(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return vi(n,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Ln(n,["zoom","feature-state"]))return[new ci(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!In(n))return[new ci(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vi(e,t){var n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression){var r,i=h(t.valueSpec.expression.parameters);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.delete(a)}}catch(s){i.e(s)}finally{i.f()}}if(0===n.size)return[];var o=[];return e instanceof cn&&n.has(e.name)?[new ci(t.key,t.value,'["'.concat(e.name,'"] expression is not supported in a filter for a ').concat(t.object.type," layer with id: ").concat(t.object.id))]:(e.eachChild((function(e){o.push.apply(o,c(vi(e,t)))})),o)}function yi(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(ft(n))&&i.push(new ci(t,n,"expected one of [".concat(r.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(r.values).indexOf(ft(n))&&i.push(new ci(t,n,"expected one of [".concat(Object.keys(r.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),i}function gi(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,n=h(e.slice(1));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!gi(r)&&"boolean"!=typeof r)return!1}}catch(i){n.e(i)}finally{n.f()}return!0;default:return!0}}function _i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fill";if(null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};gi(e)||(e=Si(e));var n=e,r=!0;try{r=function(e){if(!wi(e))return e;var t=ht(e);return bi(t),t=xi(t)}(n)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n".concat(JSON.stringify(n,null,2),"\n        "))}var i=ut["filter_".concat(t)],a=ii(r,i),o=null;if("error"===a.result)throw new Error(a.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));o=function(e,t,n){return a.value.evaluate(e,t,{},n)};var s=null,l=null;if(r!==n){var u=ii(n,i);if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));s=function(e,t,n,r,i){return u.value.evaluate(e,t,{},n,void 0,void 0,r,i)},l=!In(u.value.expression)}return{filter:o,dynamicFilter:s||void 0,needGeometry:Ei(r),needFeature:!!l}}function xi(e){if(!Array.isArray(e))return e;var t=function(e){if(ki.has(e[0]))for(var t=1;t<e.length;t++)if(wi(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return xi(e)}))}function bi(e){var t=!1,n=[];if("case"===e[0]){for(var r=1;r<e.length-1;r+=2)t=t||wi(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||wi(e[1]);for(var i=2;i<e.length-1;i+=2)n.push(e[i+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||wi(e[1]);for(var a=1;a<e.length-1;a+=2)n.push(e[a+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(n)));for(var o=1;o<e.length;o++)bi(e[o])}function wi(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,n=1;n<e.length;n++)if(wi(e[n]))return!0;return!1}var ki=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Ci(e,t){return e<t?-1:e>t?1:0}function Ei(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Ei(e[t]))return!0;return!1}function Si(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?Ti(e[1],e[2],"=="):"!="===n?Ii(Ti(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Ti(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(Si))):"all"===n?["all"].concat(e.slice(1).map(Si)):"none"===n?["all"].concat(e.slice(1).map(Si).map(Ii)):"in"===n?Ai(e[1],e.slice(2)):"!in"===n?Ii(Ai(e[1],e.slice(2))):"has"===n?Mi(e[1]):"!has"===n?Ii(Mi(e[1])):"within"!==n||e}function Ti(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function Ai(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(Ci)]]:["filter-in-small",e,["literal",t]]}}function Mi(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Ii(e){return["!",e]}function Pi(e){return gi(ht(e.value))?mi(ct({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_".concat(e.layerType||"fill")]})):Li(e)}function Li(e){var t=e.value,n=e.key;if("array"!==Hr(t))return[new ci(n,t,"array expected, ".concat(Hr(t)," found"))];var r,i=e.styleSpec,a=[];if(t.length<1)return[new ci(n,t,"filter array must have at least 1 element")];switch(a=a.concat(yi({key:"".concat(n,"[0]"),value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),ft(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===ft(t[1])&&a.push(new ci(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&a.push(new ci(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&"string"!==(r=Hr(t[1]))&&a.push(new ci("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));for(var o=2;o<t.length;o++)r=Hr(t[o]),"$type"===ft(t[1])?a=a.concat(yi({key:"".concat(n,"[").concat(o,"]"),value:t[o],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new ci("".concat(n,"[").concat(o,"]"),t[o],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(var s=1;s<t.length;s++)a=a.concat(Li({key:"".concat(n,"[").concat(s,"]"),value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=Hr(t[1]),2!==t.length?a.push(new ci(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&a.push(new ci("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));break;case"within":r=Hr(t[1]),2!==t.length?a.push(new ci(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==r&&a.push(new ci("".concat(n,"[1]"),t[1],"object expected, ".concat(r," found")))}return a}function zi(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i["".concat(t,"_").concat(e.layerType)];if(!s)return[];var l=o.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Gi({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var u,c=e.valueSpec||s[o];if(!c)return[new ci(n,a,'unknown property "'.concat(o,'"'))];if("string"===Hr(a)&&Gr(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(a)))return[new ci(n,a,'"'.concat(o,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(u[1])," }`."))];var f=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&f.push(new ci(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Xr(ht(a))&&"identity"===ft(a.type)&&f.push(new ci(n,a,'"text-font" does not support identity functions'))),f.concat(Gi({key:e.key,value:a,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function Oi(e){return zi(e,"paint")}function Di(e){return zi(e,"layout")}function Ri(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;n.type||n.ref||t.push(new ci(r,n,'either "type" or "ref" is required'));var o,s=ft(n.type),l=ft(n.ref);if(n.id)for(var u=ft(n.id),c=0;c<e.arrayIndex;c++){var f=i.layers[c];ft(f.id)===u&&t.push(new ci(r,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(f.id.__line__)))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new ci(r,n[e],'"'.concat(e,'" is prohibited for ref layers')))})),i.layers.forEach((function(e){ft(e.id)===l&&(o=e)})),o?o.ref?t.push(new ci(r,n.ref,"ref cannot reference another ref layer")):s=ft(o.type):"string"==typeof l&&t.push(new ci(r,n.ref,'ref layer "'.concat(l,'" not found')));else if("background"!==s&&"sky"!==s)if(n.source){var h=i.sources&&i.sources[n.source],d=h&&ft(h.type);h?"vector"===d&&"raster"===s?t.push(new ci(r,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster"===d&&"raster"!==s?t.push(new ci(r,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?t.push(new ci(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===d&&h.lineMetrics||t.push(new ci(r,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new ci(r,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new ci(r,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new ci(r,n,'missing required property "source"'));return t=t.concat(fi({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Gi({key:"".concat(r,".type"),value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:function(e){return Pi(ct({layerType:s},e))},layout:function(e){return fi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Di(ct({layerType:s},e))}}})},paint:function(e){return fi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Oi(ct({layerType:s},e))}}})}}})),t}function Fi(e){var t=e.value,n=e.key,r=Hr(t);return"string"!==r?[new ci(n,t,"string expected, ".concat(r," found"))]:[]}var Bi={promoteId:function(e){var t=e.key,n=e.value;if("string"===Hr(n))return Fi({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,c(Fi({key:"".concat(t,".").concat(i),value:n[i]})));return r}};function ji(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new ci(n,t,'"type" is required')];var a,o=ft(t.type);switch(o){case"vector":case"raster":case"raster-dem":return a=fi({key:n,value:t,valueSpec:r["source_".concat(o.replace("-","_"))],style:e.style,styleSpec:r,objectElementValidators:Bi});case"geojson":if(a=fi({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Bi}),t.cluster)for(var s in t.clusterProperties){var l,u,h=f(t.clusterProperties[s],2),d=h[0],p=h[1],m="string"==typeof d?[d,["accumulated"],["get",s]]:d;(l=a).push.apply(l,c(mi({key:"".concat(n,".").concat(s,".map"),value:p,expressionContext:"cluster-map"}))),(u=a).push.apply(u,c(mi({key:"".concat(n,".").concat(s,".reduce"),value:m,expressionContext:"cluster-reduce"})))}return a;case"video":return fi({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return fi({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new ci(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return yi({key:"".concat(n,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function Ui(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=Hr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new ci("light",t,"object expected, ".concat(o," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&r[l[1]]&&r[l[1]].transition?Gi({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Gi({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new ci(s,t[s],'unknown property "'.concat(s,'"'))])}return a}function Zi(e){var t=e.value,n=e.key,r=e.style,i=e.styleSpec,a=i.terrain,o=[],s=Hr(t);if(void 0===t)return o;if("object"!==s)return o=o.concat([new ci("terrain",t,"object expected, ".concat(s," found"))]);for(var l in t){var u=l.match(/^(.*)-transition$/);o=o.concat(u&&a[u[1]]&&a[u[1]].transition?Gi({key:l,value:t[l],valueSpec:i.transition,style:r,styleSpec:i}):a[l]?Gi({key:l,value:t[l],valueSpec:a[l],style:r,styleSpec:i}):[new ci(l,t[l],'unknown property "'.concat(l,'"'))])}if(t.source){var c=r.sources&&r.sources[t.source],f=c&&ft(c.type);c?"raster-dem"!==f&&o.push(new ci(n,t.source,"terrain cannot be used with a source of type ".concat(String(f),', it only be used with a "raster-dem" source type'))):o.push(new ci(n,t.source,'source "'.concat(t.source,'" not found')))}else o.push(new ci(n,t,'terrain is missing required property "source"'));return o}function Ni(e){var t=e.value,n=e.style,r=e.styleSpec,i=r.fog,a=[],o=Hr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new ci("fog",t,"object expected, ".concat(o," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&i[l[1]]&&i[l[1]].transition?Gi({key:s,value:t[s],valueSpec:r.transition,style:n,styleSpec:r}):i[s]?Gi({key:s,value:t[s],valueSpec:i[s],style:n,styleSpec:r}):[new ci(s,t[s],'unknown property "'.concat(s,'"'))])}return a}var Vi={"*":function(){return[]},array:hi,boolean:function(e){var t=e.value,n=e.key,r=Hr(t);return"boolean"!==r?[new ci(n,t,"boolean expected, ".concat(r," found"))]:[]},number:di,color:function(e){var t=e.key,n=e.value,r=Hr(n);return"string"!==r?[new ci(t,n,"color expected, ".concat(r," found"))]:null===zt(n)?[new ci(t,n,'color expected, "'.concat(n,'" found'))]:[]},enum:yi,filter:Pi,function:pi,layer:Ri,object:fi,source:ji,light:Ui,terrain:Zi,fog:Ni,string:Fi,formatted:function(e){return 0===Fi(e).length?[]:mi(e)},resolvedImage:function(e){return 0===Fi(e).length?[]:mi(e)},projection:function(e){var t=e.value,n=e.styleSpec,r=n.projection,i=e.style,a=[],o=Hr(t);if("object"===o)for(var s in t)a=a.concat(Gi({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}));else"string"!==o&&(a=a.concat([new ci("projection",t,"object or string expected, ".concat(o," found"))]));return a}};function Gi(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Xr(ft(t))?pi(e):n.expression&&ri(ht(t))?mi(e):n.type&&Vi[n.type]?Vi[n.type](e):fi(ct({},e,{valueSpec:n.type?r[n.type]:n}))}function qi(e){var t=e.value,n=e.key,r=Fi(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new ci(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new ci(n,t,'"glyphs" url must include a "{range}" token'))),r}function Wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;return Yi(Gi({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:qi,"*":function(){return[]}}}))}var Hi=function(e){return Yi(Oi(e))},Xi=function(e){return Yi(Di(e))};function Yi(e){return e.slice().sort((function(e,t){return e.line&&t.line?e.line-t.line:0}))}function Ki(e,t){var n=!1;if(t&&t.length){var r,i=h(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fire(new st(new Error(a.message))),n=!0}}catch(o){i.e(o)}finally{i.f()}}return n}var Qi=Ji;function Ji(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var a=0;a<this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];r.push(o===s?null:i.subarray(o,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}Ji.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ji.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ji.prototype._insertCell=function(e,t,n,r,i,a){this.cells[i].push(a)},Ji.prototype.query=function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},Ji.prototype._queryCell=function(e,t,n,r,i,a,o,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,f=0;f<l.length;f++){var h=l[f];if(void 0===o[h]){var d=4*h;(s?s(c[d+0],c[d+1],c[d+2],c[d+3]):e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1])?(o[h]=!0,a.push(u[h])):o[h]=!1}}},Ji.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),f=this._convertToCellCoord(r),h=l;h<=c;h++)for(var d=u;d<=f;d++){var p=this.d*d+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(d),this._convertFromCellCoord(h+1),this._convertFromCellCoord(d+1)))&&i.call(this,e,t,n,r,p,a,o,s))return}},Ji.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Ji.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Ji.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),i[3+e.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var $i={};function ea(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),$i[t]={klass:e,omit:n.omit||[]}}for(var ta in ea(Object,"Object"),Qi.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Qi.deserialize=function(e){return new Qi(e.buffer)},Object.defineProperty(Qi,"name",{value:"Grid"}),ea(Qi,"Grid"),ea(Ut,"Color"),ea(Error,"Error"),ea(xe,"AJAXError"),ea(Gt,"ResolvedImage"),ea(li,"StylePropertyFunction"),ea(ni,"StyleExpression",{omit:["_evaluator"]}),ea(oi,"ZoomDependentExpression"),ea(ai,"ZoomConstantExpression"),ea(cn,"CompoundExpression",{omit:["_evaluate"]}),Zr)$i[Zr[ta]._classRegistryKey]||ea(Zr[ta],"Expression".concat(ta));function na(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function ra(e){return g.ImageBitmap&&e instanceof g.ImageBitmap}function ia(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(na(e)||ra(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof g.ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){var r,i=[],a=h(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(ia(o,t))}}catch(f){a.e(f)}finally{a.f()}return i}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class ".concat(l));var u=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)e.hasOwnProperty(c)&&($i[l].omit.indexOf(c)>=0||(u[c]=ia(e[c],t)));e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof e)}function aa(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||na(e)||ra(e)||ArrayBuffer.isView(e)||e instanceof g.ImageData)return e;if(Array.isArray(e))return e.map(aa);if("object"==typeof e){var t=e.$name||"Object",n=$i[t].klass;if(!n)throw new Error("can't deserialize unregistered class ".concat(t));if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];"$name"!==o&&(r[o]=aa(e[o]))}return r}throw new Error("can't deserialize object of type "+typeof e)}var oa=function(){function e(){d(this,e),this.first=!0}return p(e,[{key:"update",value:function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}]),e}(),sa=function(e){return e>=1536&&e<=1791},la=function(e){return e>=1872&&e<=1919},ua=function(e){return e>=2208&&e<=2303},ca=function(e){return e>=11904&&e<=12031},fa=function(e){return e>=12032&&e<=12255},ha=function(e){return e>=12272&&e<=12287},da=function(e){return e>=12288&&e<=12351},pa=function(e){return e>=12352&&e<=12447},ma=function(e){return e>=12448&&e<=12543},va=function(e){return e>=12544&&e<=12591},ya=function(e){return e>=12704&&e<=12735},ga=function(e){return e>=12736&&e<=12783},_a=function(e){return e>=12784&&e<=12799},xa=function(e){return e>=12800&&e<=13055},ba=function(e){return e>=13056&&e<=13311},wa=function(e){return e>=13312&&e<=19903},ka=function(e){return e>=19968&&e<=40959},Ca=function(e){return e>=40960&&e<=42127},Ea=function(e){return e>=42128&&e<=42191},Sa=function(e){return e>=44032&&e<=55215},Ta=function(e){return e>=63744&&e<=64255},Aa=function(e){return e>=64336&&e<=65023},Ma=function(e){return e>=65040&&e<=65055},Ia=function(e){return e>=65072&&e<=65103},Pa=function(e){return e>=65104&&e<=65135},La=function(e){return e>=65136&&e<=65279},za=function(e){return e>=65280&&e<=65519};function Oa(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;)if(Fa(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}function Da(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;)if(!Ra(t.value.charCodeAt(0)))return!1}catch(r){n.e(r)}finally{n.f()}return!0}function Ra(e){return!(sa(e)||la(e)||ua(e)||Aa(e)||La(e))}function Fa(e){return!(746!==e&&747!==e&&(e<4352||!(ya(e)||va(e)||Ia(e)&&!(e>=65097&&e<=65103)||Ta(e)||ba(e)||ca(e)||ga(e)||!(!da(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||wa(e)||ka(e)||xa(e)||function(e){return e>=12592&&e<=12687}(e)||function(e){return e>=43360&&e<=43391}(e)||function(e){return e>=55216&&e<=55295}(e)||function(e){return e>=4352&&e<=4607}(e)||Sa(e)||pa(e)||ha(e)||function(e){return e>=12688&&e<=12703}(e)||fa(e)||_a(e)||ma(e)&&12540!==e||!(!za(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Pa(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||function(e){return e>=5120&&e<=5759}(e)||function(e){return e>=6320&&e<=6399}(e)||Ma(e)||function(e){return e>=19904&&e<=19967}(e)||Ca(e)||Ea(e))))}function Ba(e){return!(Fa(e)||function(e){return!!(function(e){return e>=128&&e<=255}(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||function(e){return e>=8192&&e<=8303}(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||function(e){return e>=8448&&e<=8527}(e)||function(e){return e>=8528&&e<=8591}(e)||function(e){return e>=8960&&e<=9215}(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||function(e){return e>=9216&&e<=9279}(e)&&9251!==e||function(e){return e>=9280&&e<=9311}(e)||function(e){return e>=9312&&e<=9471}(e)||function(e){return e>=9632&&e<=9727}(e)||function(e){return e>=9728&&e<=9983}(e)&&!(e>=9754&&e<=9759)||function(e){return e>=11008&&e<=11263}(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||da(e)||ma(e)||function(e){return e>=57344&&e<=63743}(e)||Ia(e)||Pa(e)||za(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function ja(e){return e>=1424&&e<=2303||Aa(e)||La(e)}function Ua(e,t){return!(!t&&ja(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||function(e){return e>=6016&&e<=6143}(e))}function Za(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;)if(ja(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var Na="deferred",Va="loading",Ga="loaded",qa=null,Wa="unavailable",Ha=null,Xa=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Wa="error"),qa&&qa(e)};function Ya(){Ka.fire(new ot("pluginStateChange",{pluginStatus:Wa,pluginURL:Ha}))}var Ka=new lt,Qa=function(){return Wa},Ja=function(){if(Wa!==Na||!Ha)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Wa=Va,Ya(),Ha&&ke({url:Ha},(function(e){e?Xa(e):(Wa=Ga,Ya())}))},$a={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Wa===Ga||null!=$a.applyArabicShaping},isLoading:function(){return Wa===Va},setState:function(e){Wa=e.pluginStatus,Ha=e.pluginURL},isParsed:function(){return null!=$a.applyArabicShaping&&null!=$a.processBidirectionalText&&null!=$a.processStyledBidirectionalText},getPluginURL:function(){return Ha}},eo=function(){function e(t,n){d(this,e),this.zoom=t,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.zoomHistory=n.zoomHistory,this.transition=n.transition,this.pitch=n.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new oa,this.transition={},this.pitch=0)}return p(e,[{key:"isSupportedScript",value:function(e){return function(e,t){var n,r=h(e);try{for(r.s();!(n=r.n()).done;)if(!Ua(n.value.charCodeAt(0),t))return!1}catch(i){r.e(i)}finally{r.f()}return!0}(e,$a.isLoaded())}},{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}},{key:"getCrossfadeParameters",value:function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}]),e}(),to=function(){function e(t,n){d(this,e),this.property=t,this.value=n,this.expression=function(e,t){if(Xr(e))return new li(e,t);if(ri(e)){var n=si(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=Ut.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===n?t.specification.default:n,t.specification)}return p(e,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}]),e}(),no=function(){function e(t){d(this,e),this.property=t,this.value=new to(t,void 0)}return p(e,[{key:"transitioned",value:function(e,t){return new io(this.property,this.value,t,V({},e.transition,this.transition),e.now)}},{key:"untransitioned",value:function(){return new io(this.property,this.value,null,{},0)}}]),e}(),ro=function(){function e(t){d(this,e),this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}return p(e,[{key:"getValue",value:function(e){return $(this._values[e].value.value)}},{key:"setValue",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new no(this._values[e].property)),this._values[e].value=new to(this._values[e].property,null===t?void 0:$(t))}},{key:"getTransition",value:function(e){return $(this._values[e].transition)}},{key:"setTransition",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new no(this._values[e].property)),this._values[e].transition=$(t)||void 0}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var a=this.getTransition(r);void 0!==a&&(e["".concat(r,"-transition")]=a)}return e}},{key:"transitioned",value:function(e,t){for(var n=new ao(this._properties),r=0,i=Object.keys(this._values);r<i.length;r++){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n}},{key:"untransitioned",value:function(){for(var e=new ao(this._properties),t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e}}]),e}(),io=function(){function e(t,n,r,i,a){d(this,e);var o=i.delay||0,s=i.duration||0;a=a||0,this.property=t,this.value=n,this.begin=a+o,this.end=this.begin+s,t.specification.transition&&(i.delay||i.duration)&&(this.prior=r)}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,D(o))}return i}}]),e}(),ao=function(){function e(t){d(this,e),this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new lo(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}},{key:"hasTransition",value:function(){for(var e=0,t=Object.keys(this._values);e<t.length;e++){var n=t[e];if(this._values[n].prior)return!0}return!1}}]),e}(),oo=function(){function e(t){d(this,e),this._properties=t,this._values=Object.create(t.defaultPropertyValues)}return p(e,[{key:"getValue",value:function(e){return $(this._values[e].value)}},{key:"setValue",value:function(e,t){this._values[e]=new to(this._values[e].property,null===t?void 0:$(t))}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e}},{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new lo(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}}]),e}(),so=function(){function e(t,n,r){d(this,e),this.property=t,this.value=n,this.parameters=r}return p(e,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(e){return"constant"===this.value.kind?this.value.value:e}},{key:"evaluate",value:function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}]),e}(),lo=function(){function e(t){d(this,e),this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}return p(e,[{key:"get",value:function(e){return this._values[e]}}]),e}(),uo=function(){function e(t){d(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t){return e.expression.evaluate(t)}},{key:"interpolate",value:function(e,t,n){var r=Nn[this.specification.type];return r?r(e,t,n):e}}]),e}(),co=function(){function e(t,n){d(this,e),this.specification=t,this.overrides=n}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return new so(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}},{key:"interpolate",value:function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new so(this,{kind:"constant",value:void 0},e.parameters);var r=Nn[this.specification.type];return r?new so(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}},{key:"evaluate",value:function(e,t,n,r,i,a){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,a)}}]),e}(),fo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0===e.value)return new so(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),a="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,o=this._calculate(a,a,a,t);return new so(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new so(this,{kind:"constant",value:s},t)}return new so(this,e.expression,t)}},{key:"evaluate",value:function(e,t,n,r,i,a){if("source"===e.kind){var o=e.evaluate(t,n,r,i,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t,other:n}:{from:n,to:t,other:e}}},{key:"interpolate",value:function(e){return e}}]),n}(co),ho=function(){function e(t){d(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new eo(Math.floor(t.zoom-1),t)),e.expression.evaluate(new eo(Math.floor(t.zoom),t)),e.expression.evaluate(new eo(Math.floor(t.zoom+1),t)),t)}}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}},{key:"interpolate",value:function(e){return e}}]),e}(),po=function(){function e(t){d(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}},{key:"interpolate",value:function(){return!1}}]),e}(),mo=p((function e(t){d(this,e),this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];var n=new eo(0,{});for(var r in t){var i=t[r];i.specification.overridable&&this.overridableProperties.push(r);var a=this.defaultPropertyValues[r]=new to(i,void 0),o=this.defaultTransitionablePropertyValues[r]=new no(i);this.defaultTransitioningPropertyValues[r]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=a.possiblyEvaluate(n)}}));function vo(e,t){return 256*(e=B(Math.floor(e),0,255))+B(Math.floor(t),0,255)}ea(co,"DataDrivenProperty"),ea(uo,"DataConstantProperty"),ea(fo,"CrossFadedDataDrivenProperty"),ea(ho,"CrossFadedProperty"),ea(po,"ColorRampProperty");var yo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},go=p((function e(t,n){d(this,e),this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8})),_o=function(){function e(){d(this,e),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return p(e,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(e){this.reserve(e),this.length=e}},{key:"reserve",value:function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}},{key:"destroy",value:function(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}],[{key:"serialize",value:function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}},{key:"deserialize",value:function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}}]),e}();function xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:e.map((function(e){var i=yo[e.type].BYTES_PER_ELEMENT,a=n=bo(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:bo(n,Math.max(r,t)),alignment:t}}function bo(e,t){return Math.ceil(e/t)*t}var wo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}]),n}(_o);wo.prototype.bytesPerElement=4,ea(wo,"StructArrayLayout2i4");var ko=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}]),n}(_o);ko.prototype.bytesPerElement=6,ea(ko,"StructArrayLayout3i6");var Co=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e}}]),n}(_o);Co.prototype.bytesPerElement=8,ea(Co,"StructArrayLayout4i8");var Eo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,r,i,a,o)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s){var l=6*e,u=12*e,c=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=a,this.uint8[u+7]=o,this.float32[c+2]=s,e}}]),n}(_o);Eo.prototype.bytesPerElement=12,ea(Eo,"StructArrayLayout2i4ub1f12");var So=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e}}]),n}(_o);So.prototype.bytesPerElement=16,ea(So,"StructArrayLayout4f16");var To=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,a,o,s,l,u)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c){var f=10*e;return this.uint16[f+0]=t,this.uint16[f+1]=n,this.uint16[f+2]=r,this.uint16[f+3]=i,this.uint16[f+4]=a,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=l,this.uint16[f+8]=u,this.uint16[f+9]=c,e}}]),n}(_o);To.prototype.bytesPerElement=20,ea(To,"StructArrayLayout10ui20");var Ao=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,a,o,s)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=n,this.uint16[u+2]=r,this.uint16[u+3]=i,this.uint16[u+4]=a,this.uint16[u+5]=o,this.uint16[u+6]=s,this.uint16[u+7]=l,e}}]),n}(_o);Ao.prototype.bytesPerElement=16,ea(Ao,"StructArrayLayout8ui16");var Mo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e}}]),n}(_o);Mo.prototype.bytesPerElement=12,ea(Mo,"StructArrayLayout6i12");var Io=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,f){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,r,i,a,o,s,l,u,c,f)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h){var d=12*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.int16[d+2]=r,this.int16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=l,this.int16[d+8]=u,this.int16[d+9]=c,this.int16[d+10]=f,this.int16[d+11]=h,e}}]),n}(_o);Io.prototype.bytesPerElement=24,ea(Io,"StructArrayLayout4i4ui4i24");var Po=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.float32[l+2]=i,this.float32[l+3]=a,this.float32[l+4]=o,e}}]),n}(_o);Po.prototype.bytesPerElement=20,ea(Po,"StructArrayLayout3i3f20");var Lo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint32[1*e+0]=t,e}}]),n}(_o);Lo.prototype.bytesPerElement=4,ea(Lo,"StructArrayLayout1ul4");var zo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h){var d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,r,i,a,o,s,l,u,c,f,h)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h,d){var p=20*e,m=10*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.int16[p+4]=a,this.float32[m+3]=o,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=u,this.int16[p+14]=c,this.uint32[m+8]=f,this.uint16[p+18]=h,this.uint16[p+19]=d,e}}]),n}(_o);zo.prototype.bytesPerElement=40,ea(zo,"StructArrayLayout5i4f1i1ul2ui40");var Oo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,r,i,a,o)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s){var l=8*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+4]=i,this.int16[l+5]=a,this.int16[l+6]=o,this.int16[l+7]=s,e}}]),n}(_o);Oo.prototype.bytesPerElement=16,ea(Oo,"StructArrayLayout3i2i2i16");var Do=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e}}]),n}(_o);Do.prototype.bytesPerElement=16,ea(Do,"StructArrayLayout2f1f2i16");var Ro=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e}}]),n}(_o);Ro.prototype.bytesPerElement=12,ea(Ro,"StructArrayLayout2ub2f12");var Fo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}]),n}(_o);Fo.prototype.bytesPerElement=12,ea(Fo,"StructArrayLayout3f12");var Bo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}]),n}(_o);Bo.prototype.bytesPerElement=6,ea(Bo,"StructArrayLayout3ui6");var jo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y,g,_,x){var b=this.length;return this.resize(b+1),this.emplace(b,e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y,g,_,x)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y,g,_,x,b){var w=30*e,k=15*e,C=60*e;return this.int16[w+0]=t,this.int16[w+1]=n,this.int16[w+2]=r,this.float32[k+2]=i,this.float32[k+3]=a,this.uint16[w+8]=o,this.uint16[w+9]=s,this.uint32[k+5]=l,this.uint32[k+6]=u,this.uint32[k+7]=c,this.uint16[w+16]=f,this.uint16[w+17]=h,this.uint16[w+18]=d,this.float32[k+10]=p,this.float32[k+11]=m,this.uint8[C+48]=v,this.uint8[C+49]=y,this.uint8[C+50]=g,this.uint32[k+13]=_,this.int16[w+28]=x,this.uint8[C+58]=b,e}}]),n}(_o);jo.prototype.bytesPerElement=60,ea(jo,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");var Uo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y,g,_,x,b,w,k,C,E,S,T,A,M){var I=this.length;return this.resize(I+1),this.emplace(I,e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y,g,_,x,b,w,k,C,E,S,T,A,M)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y,g,_,x,b,w,k,C,E,S,T,A,M,I){var P=38*e,L=19*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=r,this.float32[L+2]=i,this.float32[L+3]=a,this.int16[P+8]=o,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=u,this.int16[P+12]=c,this.int16[P+13]=f,this.uint16[P+14]=h,this.uint16[P+15]=d,this.uint16[P+16]=p,this.uint16[P+17]=m,this.uint16[P+18]=v,this.uint16[P+19]=y,this.uint16[P+20]=g,this.uint16[P+21]=_,this.uint16[P+22]=x,this.uint16[P+23]=b,this.uint16[P+24]=w,this.uint16[P+25]=k,this.uint16[P+26]=C,this.uint16[P+27]=E,this.uint16[P+28]=S,this.uint32[L+15]=T,this.float32[L+16]=A,this.float32[L+17]=M,this.float32[L+18]=I,e}}]),n}(_o);Uo.prototype.bytesPerElement=76,ea(Uo,"StructArrayLayout3i2f6i15ui1ul3f76");var Zo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.float32[1*e+0]=t,e}}]),n}(_o);Zo.prototype.bytesPerElement=4,ea(Zo,"StructArrayLayout1f4");var No=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=5*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,this.float32[o+4]=a,e}}]),n}(_o);No.prototype.bytesPerElement=20,ea(No,"StructArrayLayout5f20");var Vo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=6*e;return this.uint32[3*e+0]=t,this.uint16[a+2]=n,this.uint16[a+3]=r,this.uint16[a+4]=i,e}}]),n}(_o);Vo.prototype.bytesPerElement=12,ea(Vo,"StructArrayLayout1ul3ui12");var Go=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}]),n}(_o);Go.prototype.bytesPerElement=4,ea(Go,"StructArrayLayout2ui4");var qo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint16[1*e+0]=t,e}}]),n}(_o);qo.prototype.bytesPerElement=2,ea(qo,"StructArrayLayout1ui2");var Wo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}]),n}(_o);Wo.prototype.bytesPerElement=8,ea(Wo,"StructArrayLayout2f8");var Ho=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"a_pos_30",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"a_pos_31",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"a_pos_32",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"a_pos_normal_30",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"a_pos_normal_31",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"a_pos_normal_32",get:function(){return this._structArray.int16[this._pos2+5]}}]),n}(go);Ho.prototype.size=12;var Xo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new Ho(this,e)}}]),n}(Mo);ea(Xo,"FillExtrusionExtArray");var Yo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"tileAnchorY",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"x1",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"y1",get:function(){return this._structArray.float32[this._pos4+4]}},{key:"x2",get:function(){return this._structArray.float32[this._pos4+5]}},{key:"y2",get:function(){return this._structArray.float32[this._pos4+6]}},{key:"padding",get:function(){return this._structArray.int16[this._pos2+14]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+8]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+19]}}]),n}(go);Yo.prototype.size=40;var Ko=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new Yo(this,e)}}]),n}(zo);ea(Ko,"CollisionBoxArray");var Qo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+5]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+6]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+7]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+10]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+11]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+48]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+49]},set:function(e){this._structArray.uint8[this._pos1+49]=e}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+50]},set:function(e){this._structArray.uint8[this._pos1+50]=e}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+13]},set:function(e){this._structArray.uint32[this._pos4+13]=e}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+28]}},{key:"flipState",get:function(){return this._structArray.uint8[this._pos1+58]},set:function(e){this._structArray.uint8[this._pos1+58]=e}}]),n}(go);Qo.prototype.size=60;var Jo=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new Qo(this,e)}}]),n}(jo);ea(Jo,"PlacedSymbolArray");var $o=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+8]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+9]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+10]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+11]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+12]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+13]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+23]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+24]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+25]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+26]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+27]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+28]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+15]},set:function(e){this._structArray.uint32[this._pos4+15]=e}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+16]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+17]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+18]}}]),n}(go);$o.prototype.size=76;var es=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new $o(this,e)}}]),n}(Uo);ea(es,"SymbolInstanceArray");var ts=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getoffsetX",value:function(e){return this.float32[1*e+0]}}]),n}(Zo);ea(ts,"GlyphOffsetArray");var ns=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getx",value:function(e){return this.int16[3*e+0]}},{key:"gety",value:function(e){return this.int16[3*e+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(e){return this.int16[3*e+2]}}]),n}(ko);ea(ns,"SymbolLineVertexArray");var rs=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"layoutVertexArrayOffset",get:function(){return this._structArray.uint16[this._pos2+4]}}]),n}(go);rs.prototype.size=12;var is=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new rs(this,e)}}]),n}(Vo);ea(is,"FeatureIndexArray");var as=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"a_centroid_pos0",get:function(){return this._structArray.uint16[this._pos2+0]}},{key:"a_centroid_pos1",get:function(){return this._structArray.uint16[this._pos2+1]}}]),n}(go);as.prototype.size=4;var os=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new as(this,e)}}]),n}(Go);ea(os,"FillExtrusionCentroidArray");var ss=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"a_pos_30",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"a_pos_31",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"a_pos_32",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"a_pos_normal_30",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"a_pos_normal_31",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"a_pos_normal_32",get:function(){return this._structArray.int16[this._pos2+5]}}]),n}(go);ss.prototype.size=12;var ls=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new ss(this,e)}}]),n}(Mo);ea(ls,"CircleGlobeExtArray");var us=xo([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),cs=xo([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]),fs={exports:{}},hs={exports:{}};hs.exports=function(e,t){var n,r,i,a,o,s,l,u;for(r=e.length-(n=3&e.length),i=t,o=3432918353,s=461845907,u=0;u<r;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(a=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var ds={exports:{}};ds.exports=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var ps=hs.exports,ms=ds.exports;fs.exports=ps,fs.exports.murmur3=ps,fs.exports.murmur2=ms;var vs=function(){function e(){d(this,e),this.ids=[],this.positions=[],this.indexed=!1}return p(e,[{key:"add",value:function(e,t,n,r){this.ids.push(ys(e)),this.positions.push(t,n,r)}},{key:"getPositions",value:function(e){for(var t=ys(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;)a.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return a}}],[{key:"serialize",value:function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return gs(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}},{key:"deserialize",value:function(t){var n=new e;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}]),e}();function ys(e){var t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:fs.exports(String(e))}function gs(e,t,n,r){for(;n<r;){for(var i=e[n+r>>1],a=n-1,o=r+1;;){do{a++}while(e[a]<i);do{o--}while(e[o]>i);if(a>=o)break;_s(e,a,o),_s(t,3*a,3*o),_s(t,3*a+1,3*o+1),_s(t,3*a+2,3*o+2)}o-n<r-o?(gs(e,t,n,o),n=o+1):(gs(e,t,o+1,r),r=o)}}function _s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}ea(vs,"FeaturePositionMap");var xs=function(){function e(t){d(this,e),this.gl=t.gl,this.initialized=!1}return p(e,[{key:"fetchUniformLocation",value:function(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}]),e}(),bs=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=0,r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}]),n}(xs),ws=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=[0,0,0,0],r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}]),n}(xs),ks=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=Ut.transparent,r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}]),n}(xs),Cs=new Float32Array(16),Es=new Float32Array(9),Ss=new Float32Array(4);function Ts(e){return[vo(255*e.r,255*e.g),vo(255*e.b,255*e.a)]}var As=function(){function e(t,n,r){d(this,e),this.value=t,this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.type=r}return p(e,[{key:"setUniform",value:function(e,t,n,r,i){t.set(e,i,r.constantOr(this.value))}},{key:"getBinding",value:function(e,t){return"color"===this.type?new ks(e):new bs(e)}}]),e}(),Ms=function(){function e(t,n){d(this,e),this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}return p(e,[{key:"setConstantPatternPositions",value:function(e,t){this.pixelRatioFrom=t.pixelRatio||1,this.pixelRatioTo=e.pixelRatio||1,this.patternFrom=t.tl.concat(t.br),this.patternTo=e.tl.concat(e.br)}},{key:"setUniform",value:function(e,t,n,r,i){var a="u_pattern_to"===i||"u_dash_to"===i?this.patternTo:"u_pattern_from"===i||"u_dash_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;a&&t.set(e,i,a)}},{key:"getBinding",value:function(e,t){return"u_pattern_from"===t||"u_pattern_to"===t||"u_dash_from"===t||"u_dash_to"===t?new ws(e):new bs(e)}}]),e}(),Is=function(){function e(t,n,r,i){d(this,e),this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new i}return p(e,[{key:"populatePaintArray",value:function(e,t,n,r,i,a){var o=this.paintVertexArray.length,s=this.expression.evaluate(new eo(0),t,{},i,r,a);this.paintVertexArray.resize(e),this._setPaintValue(o,e,s)}},{key:"updatePaintArray",value:function(e,t,n,r,i){var a=this.expression.evaluate({zoom:0},n,r,void 0,i);this._setPaintValue(e,t,a)}},{key:"_setPaintValue",value:function(e,t,n){if("color"===this.type)for(var r=Ts(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),Ps=function(){function e(t,n,r,i,a,o){d(this,e),this.expression=t,this.uniformNames=n.map((function(e){return"u_".concat(e,"_t")})),this.type=r,this.useIntegerZoom=i,this.zoom=a,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o}return p(e,[{key:"populatePaintArray",value:function(e,t,n,r,i,a){var o=this.expression.evaluate(new eo(this.zoom),t,{},i,r,a),s=this.expression.evaluate(new eo(this.zoom+1),t,{},i,r,a),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,o,s)}},{key:"updatePaintArray",value:function(e,t,n,r,i){var a=this.expression.evaluate({zoom:this.zoom},n,r,void 0,i),o=this.expression.evaluate({zoom:this.zoom+1},n,r,void 0,i);this._setPaintValue(e,t,a,o)}},{key:"_setPaintValue",value:function(e,t,n,r){if("color"===this.type)for(var i=Ts(n),a=Ts(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(e,t,n,r,i){var a=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,o=B(this.expression.interpolationFactor(a,this.zoom,this.zoom+1),0,1);t.set(e,i,o)}},{key:"getBinding",value:function(e,t){return new bs(e)}}]),e}(),Ls=function(){function e(t,n,r,i,a,o,s){d(this,e),this.expression=t,this.type=r,this.useIntegerZoom=i,this.zoom=a,this.layerId=s,this.paintVertexAttributes=("array"===r?cs:us).members;for(var l=0;l<n.length;++l);this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}return p(e,[{key:"populatePaintArray",value:function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}},{key:"updatePaintArray",value:function(e,t,n,r,i,a){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],a)}},{key:"_setPaintValues",value:function(e,t,n,r){if(r&&n){var i=n.min,a=n.mid,o=n.max,s=r[i],l=r[a],u=r[o];if(s&&l&&u)for(var c=e;c<t;c++)this._setPaintValue(this.zoomInPaintVertexArray,c,l,s),this._setPaintValue(this.zoomOutPaintVertexArray,c,l,u)}}},{key:"_setPaintValue",value:function(e,t,n,r){e.emplace(t,n.tl[0],n.tl[1],n.br[0],n.br[1],r.tl[0],r.tl[1],r.br[0],r.br[1],n.pixelRatio,r.pixelRatio)}},{key:"upload",value:function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}]),e}(),zs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};d(this,e),this.binders={},this._buffers=[];var i=[];for(var a in t.paint._values)if(r(a)){var o=t.paint.get(a);if(o instanceof so&&Gr(o.property.specification)){var s=Rs(a,t.type),l=o.value,u=o.property.specification.type,c=o.property.useIntegerZoom,f=o.property.specification["property-type"],h="cross-faded"===f||"cross-faded-data-driven"===f,p="line-dasharray"===String(a)&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==l.kind||p)if("source"===l.kind||p||h){var m=js(a,u,"source");this.binders[a]=h?new Ls(l,s,u,c,n,m,t.id):new Is(l,s,u,m),i.push("/a_".concat(a))}else{var v=js(a,u,"composite");this.binders[a]=new Ps(l,s,u,c,n,v),i.push("/z_".concat(a))}else this.binders[a]=h?new Ms(l.value,s):new As(l.value,s,u),i.push("/u_".concat(a))}}this.cacheKey=i.sort().join("")}return p(e,[{key:"getMaxValue",value:function(e){var t=this.binders[e];return t instanceof Is||t instanceof Ps?t.maxValue:0}},{key:"populatePaintArrays",value:function(e,t,n,r,i,a){for(var o in this.binders){var s=this.binders[o];(s instanceof Is||s instanceof Ps||s instanceof Ls)&&s.populatePaintArray(e,t,n,r,i,a)}}},{key:"setConstantPatternPositions",value:function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof Ms&&r.setConstantPatternPositions(e,t)}}},{key:"updatePaintArrays",value:function(e,t,n,r,i,a){var o=!1;for(var s in e){var l,u=t.getPositions(s),c=h(u);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=n.feature(f.index);for(var p in this.binders){var m=this.binders[p];if((m instanceof Is||m instanceof Ps||m instanceof Ls)&&!0===m.expression.isStateDependent){var v=r.paint.get(p);m.expression=v.value,m.updatePaintArray(f.start,f.end,d,e[s],i,a),o=!0}}}}catch(y){c.e(y)}finally{c.f()}}return o}},{key:"defines",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof As||n instanceof Ms)&&e.push.apply(e,c(n.uniformNames.map((function(e){return"#define HAS_UNIFORM_".concat(e)}))))}return e}},{key:"getBinderAttributes",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Is||n instanceof Ps||n instanceof Ls)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name)}return e}},{key:"getBinderUniforms",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof As||n instanceof Ms||n instanceof Ps){var r,i=h(n.uniformNames);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.push(a)}}catch(o){i.e(o)}finally{i.f()}}}return e}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(e){var t=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof As||r instanceof Ms||r instanceof Ps){var i,a=h(r.uniformNames);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push({name:o,property:n,binding:r.getBinding(e,o)})}}catch(s){a.e(s)}finally{a.f()}}}return t}},{key:"setUniforms",value:function(e,t,n,r,i){var a,o=h(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.name,u=s.property,c=s.binding;this.binders[u].setUniform(e,c,i,r.get(u),l)}}catch(f){o.e(f)}finally{o.f()}}},{key:"updatePaintBuffers",value:function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Ls){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Is||n instanceof Ps)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}},{key:"upload",value:function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Is||n instanceof Ps||n instanceof Ls)&&n.upload(e)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Is||t instanceof Ps||t instanceof Ls)&&t.destroy()}}}]),e}(),Os=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};d(this,e),this.programConfigurations={};var i,a=h(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.programConfigurations[o.id]=new zs(o,n,r)}}catch(s){a.e(s)}finally{a.f()}this.needsUpload=!1,this._featureMap=new vs,this._bufferOffset=0}return p(e,[{key:"populatePaintArrays",value:function(e,t,n,r,i,a,o){for(var s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,r,i,a,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(e,t,n,r,i){var a,o=h(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(e,this._featureMap,t,s,r,i)||this.needsUpload}}catch(l){o.e(l)}finally{o.f()}}},{key:"get",value:function(e){return this.programConfigurations[e]}},{key:"upload",value:function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()}}]),e}(),Ds={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Rs(e,t){return Ds[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}var Fs={"line-pattern":{source:To,composite:To},"fill-pattern":{source:To,composite:To},"fill-extrusion-pattern":{source:To,composite:To},"line-dasharray":{source:Ao,composite:Ao}},Bs={color:{source:Wo,composite:So},number:{source:Zo,composite:Wo}};function js(e,t,n){var r=Fs[e];return r&&r[n]||Bs[t][n]}ea(As,"ConstantBinder"),ea(Ms,"CrossFadedConstantBinder"),ea(Is,"SourceExpressionBinder"),ea(Ls,"CrossFadedCompositeBinder"),ea(Ps,"CompositeExpressionBinder"),ea(zs,"ProgramConfiguration",{omit:["_buffers"]}),ea(Os,"ProgramConfigurationSet");var Us="-transition",Zs=function(e){m(n,e);var t=v(n);function n(e,r){var i;if(d(this,n),(i=t.call(this)).id=e.id,i.type=e.type,i._featureFilter={filter:function(){return!0},needGeometry:!1,needFeature:!1},i._filterCompiled=!1,"custom"!==e.type&&(i.metadata=e.metadata,i.minzoom=e.minzoom,i.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(i.source=e.source,i.sourceLayer=e["source-layer"],i.filter=e.filter),r.layout&&(i._unevaluatedLayout=new oo(r.layout)),r.paint)){for(var a in i._transitionablePaint=new ro(r.paint),e.paint)i.setPaintProperty(a,e.paint[a],{validate:!1});for(var o in e.layout)i.setLayoutProperty(o,e.layout[o],{validate:!1});i._transitioningPaint=i._transitionablePaint.untransitioned(),i.paint=new lo(r.paint)}return l(i)}return p(n,[{key:"getCrossfadeParameters",value:function(){return this._crossfadeParameters}},{key:"getLayoutProperty",value:function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}},{key:"setLayoutProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(Xi,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}},{key:"getPaintProperty",value:function(e){return K(e,Us)?this._transitionablePaint.getTransition(e.slice(0,-Us.length)):this._transitionablePaint.getValue(e)}},{key:"setPaintProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(Hi,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(K(e,Us))return this._transitionablePaint.setTransition(e.slice(0,-Us.length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],a=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(e,o,s)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){}},{key:"getProgramIds",value:function(){return null}},{key:"getProgramConfiguration",value:function(e){return null}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,n){return!1}},{key:"isHidden",value:function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}},{key:"serialize",value:function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),J(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))}},{key:"_validate",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&Ki(this,e.call(Wi,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:ut,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof so&&Gr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}},{key:"compileFilter",value:function(){this._filterCompiled||(this._featureFilter=_i(this.filter),this._filterCompiled=!0)}},{key:"invalidateCompiledFilter",value:function(){this._filterCompiled=!1}},{key:"dynamicFilter",value:function(){return this._featureFilter.dynamicFilter}},{key:"dynamicFilterNeedsFeature",value:function(){return this._featureFilter.needFeature}}]),n}(lt),Ns=xo([{name:"a_pos",components:2,type:"Int16"}],4),Vs=xo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),Gs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,e),this.segments=t}return p(e,[{key:"prepareSegment",value:function(t,n,r,i){var a=this.segments[this.segments.length-1];return t>e.MAX_VERTEX_ARRAY_LENGTH&&te("Max vertices per segment is ".concat(e.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t)),(!a||a.vertexLength+t>e.MAX_VERTEX_ARRAY_LENGTH||a.sortKey!==i)&&(a={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==i&&(a.sortKey=i),this.segments.push(a)),a}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var e,t=h(this.segments);try{for(t.s();!(e=t.n()).done;){var n=e.value;for(var r in n.vaos)n.vaos[r].destroy()}}catch(i){t.e(i)}finally{t.f()}}}],[{key:"simpleSegment",value:function(t,n,r,i){return new e([{vertexOffset:t,primitiveOffset:n,vertexLength:r,primitiveLength:i,vaos:{},sortKey:0}])}}]),e}();Gs.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ea(Gs,"SegmentVector");var qs=8192,Ws=function(){function e(t,n){d(this,e),t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return p(e,[{key:"setNorthEast",value:function(e){return this._ne=e instanceof Xs?new Xs(e.lng,e.lat):Xs.convert(e),this}},{key:"setSouthWest",value:function(e){return this._sw=e instanceof Xs?new Xs(e.lng,e.lat):Xs.convert(e),this}},{key:"extend",value:function(t){var n,r,i=this._sw,a=this._ne;if(t instanceof Xs)n=t,r=t;else{if(!(t instanceof e))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(e.convert(t)):this.extend(Xs.convert(t)):"object"==typeof t&&null!==t&&t.hasOwnProperty("lat")&&t.hasOwnProperty("lon")?this.extend(Xs.convert(t)):this;if(n=t._sw,r=t._ne,!n||!r)return this}return i||a?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this._sw=new Xs(n.lng,n.lat),this._ne=new Xs(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new Xs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new Xs(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new Xs(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(e){var t=Xs.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i}}],[{key:"convert",value:function(t){return!t||t instanceof e?t:new e(t)}}]),e}(),Hs=6371008.8,Xs=function(){function e(t,n){if(d(this,e),isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return p(e,[{key:"wrap",value:function(){return new e(U(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return Hs*Math.acos(Math.min(i,1))}},{key:"toBounds",value:function(){var t=360*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Ws(new e(this.lng-n,this.lat-t),new e(this.lng+n,this.lat+t))}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new e(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),Ys=2*Math.PI*Hs;function Ks(e){return Ys*Math.cos(e*Math.PI/180)}function Qs(e){return(180+e)/360}function Js(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function $s(e,t){return e/Ks(t)}function el(e){return 360*e-180}function tl(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function nl(e,t){return e*Ks(tl(t))}var rl=85.051129;function il(e){return 1/Math.cos(e*Math.PI/180)}var al=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;d(this,e),this.x=+t,this.y=+n,this.z=+r}return p(e,[{key:"toLngLat",value:function(){return new Xs(el(this.x),tl(this.y))}},{key:"toAltitude",value:function(){return nl(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/Ys*il(tl(this.y))}}],[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Xs.convert(t);return new e(Qs(r.lng),Js(r.lat),$s(n,r.lat))}}]),e}();function ol(e,t,n,r,i,a,o,s,l){var u=(t+r)/2,c=(n+i)/2,f=new A(u,c);s(f),function(e,t,n,r,i,a){var o=n-i,s=r-a;return Math.abs((r-t)*o-(n-e)*s)/Math.hypot(o,s)}(f.x,f.y,a.x,a.y,o.x,o.y)>=l?(ol(e,t,n,u,c,a,f,s,l),ol(e,u,c,r,i,f,o,s,l)):e.push(o)}function sl(e,t,n){var r=e[0],i=r.x,a=r.y;t(r);for(var o=[r],s=1;s<e.length;s++){var l=e[s],u=l.x,c=l.y;t(l),ol(o,i,a,u,c,r,l,t,n),i=u,a=c,r=l}return o}function ll(e,t,n,r){if(r(t,n)){var i=t.add(n)._mult(.5);ll(e,t,i,r),ll(e,i,n,r)}else e.push(n)}function ul(e,t){for(var n=e[0],r=[n],i=1;i<e.length;i++){var a=e[i];ll(r,n,a,t),n=a}return r}var cl=Math.pow(2,14)-1,fl=-cl-1;function hl(e,t){var n=Math.round(e.x*t),r=Math.round(e.y*t);return e.x=B(n,fl,cl),e.y=B(r,fl,cl),(n<e.x||n>e.x+1||r<e.y||r>e.y+1)&&te("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function dl(e,t,n){var r=e.loadGeometry(),i=e.extent,a=qs/i;if(t&&n&&n.projection.isReprojectedInTileSpace)for(var o=1<<t.z,s=n.scale,l=n.x,u=n.y,c=n.projection,f=function(e){var n=el((t.x+e.x/i)/o),r=tl((t.y+e.y/i)/o),a=c.project(n,r);e.x=(a.x*s-l)*i,e.y=(a.y*s-u)*i},d=0;d<r.length;d++)if(1!==e.type)r[d]=sl(r[d],f,1);else{var p,m=[],v=h(r[d]);try{for(v.s();!(p=v.n()).done;){var y=p.value;y.x<0||y.x>=i||y.y<0||y.y>=i||(f(y),m.push(y))}}catch(k){v.e(k)}finally{v.f()}r[d]=m}var g,_=h(r);try{for(_.s();!(g=_.n()).done;){var x,b=g.value,w=h(b);try{for(w.s();!(x=w.n()).done;)hl(x.value,a)}catch(k){w.e(k)}finally{w.f()}}}catch(k){_.e(k)}finally{_.f()}return r}function pl(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?dl(e):[]}}function ml(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}function vl(e,t,n){var r=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*r,n[1]*r,n[2]*r)}var yl=function(){function e(t){d(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new wo,this.indexArray=new Bo,this.segments=new Gs,this.programConfigurations=new Os(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n,r){var i=this.layers[0],a=[],o=null;"circle"===i.type&&(o=i.layout.get("circle-sort-key"));var s,l=h(e);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.feature,f=u.id,d=u.index,p=u.sourceLayerIndex,m=this.layers[0]._featureFilter.needGeometry,v=pl(c,m);if(this.layers[0]._featureFilter.filter(new eo(this.zoom),v,n)){var y=o?o.evaluate(v,{},n):void 0,g={id:f,properties:c.properties,type:c.type,sourceLayerIndex:p,index:d,geometry:m?v.geometry:dl(c,n,r),patterns:{},sortKey:y};a.push(g)}}}catch(T){l.e(T)}finally{l.f()}o&&a.sort((function(e,t){return e.sortKey-t.sortKey}));var _=null;"globe"===r.projection.name&&(this.globeExtVertexArray=new ls,_=r.projection);for(var x=0,b=a;x<b.length;x++){var w=b[x],k=w.geometry,C=w.index,E=w.sourceLayerIndex,S=e[C].feature;this.addFeature(w,k,C,t.availableImages,n,_),t.featureIndex.insert(S,k,C,E,this.index)}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ns.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Vs.members))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}},{key:"addFeature",value:function(e,t,n,r,i,a){var o,s=h(t);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,c=h(u);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=f.x,p=f.y;if(!(d<0||d>=qs||p<0||p>=qs)){if(a){var m=a.projectTilePoint(d,p,i),v=a.upVector(i,d,p),y=this.globeExtVertexArray;vl(y,m,v),vl(y,m,v),vl(y,m,v),vl(y,m,v)}var g=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),_=g.vertexLength;ml(this.layoutVertexArray,d,p,-1,-1),ml(this.layoutVertexArray,d,p,1,-1),ml(this.layoutVertexArray,d,p,1,1),ml(this.layoutVertexArray,d,p,-1,1),this.indexArray.emplaceBack(_,_+1,_+2),this.indexArray.emplaceBack(_,_+2,_+3),g.vertexLength+=4,g.primitiveLength+=2}}}catch(x){c.e(x)}finally{c.f()}}}catch(x){s.e(x)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r,i)}}]),e}();function gl(e,t){for(var n=0;n<e.length;n++)if(Tl(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Tl(e,t[r]))return!0;return!!wl(e,t)}function _l(e,t,n){return!!Tl(e,t)||!!Cl(t,e,n)}function xl(e,t){if(1===e.length)return Sl(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(Tl(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(Sl(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(wl(e,t[o]))return!0;return!1}function bl(e,t,n){if(e.length>1){if(wl(e,t))return!0;for(var r=0;r<t.length;r++)if(Cl(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Cl(e[i],t,n))return!0;return!1}function wl(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++)if(kl(r,i,t[a],t[a+1]))return!0;return!1}function kl(e,t,n,r){return ne(e,n,r)!==ne(t,n,r)&&ne(e,t,n)!==ne(e,t,r)}function Cl(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(El(e,t[i-1],t[i])<r)return!0;return!1}function El(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Sl(e,t){for(var n,r,i,a=!1,o=0;o<e.length;o++)for(var s=0,l=(n=e[o]).length-1;s<n.length;l=s++)r=n[s],i=n[l],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(a=!a);return a}function Tl(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function Al(e,t,n,r,i){var a,o=h(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t<=s.x&&n<=s.y&&r>=s.x&&i>=s.y)return!0}}catch(d){o.e(d)}finally{o.f()}var l=[new A(t,n),new A(t,i),new A(r,i),new A(r,n)];if(e.length>2){var u,c=h(l);try{for(c.s();!(u=c.n()).done;)if(Tl(e,u.value))return!0}catch(d){c.e(d)}finally{c.f()}}for(var f=0;f<e.length-1;f++)if(Ml(e[f],e[f+1],l))return!0;return!1}function Ml(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=ne(e,t,n[0]);return a!==ne(e,t,n[1])||a!==ne(e,t,n[2])||a!==ne(e,t,n[3])}function Il(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Pl(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Ll(e,t,n,r,i){if(!t[0]&&!t[1])return e;var a=A.convert(t)._mult(i);"viewport"===n&&a._rotate(-r);for(var o=[],s=0;s<e.length;s++)o.push(e[s].sub(a));return o}function zl(e,t,n,r){var i=A.convert(e)._mult(r);return"viewport"===t&&i._rotate(-n),i}ea(yl,"CircleBucket",{omit:["layers"]});var Ol=new mo({"circle-sort-key":new co(ut.layout_circle["circle-sort-key"])}),Dl={paint:new mo({"circle-radius":new co(ut.paint_circle["circle-radius"]),"circle-color":new co(ut.paint_circle["circle-color"]),"circle-blur":new co(ut.paint_circle["circle-blur"]),"circle-opacity":new co(ut.paint_circle["circle-opacity"]),"circle-translate":new uo(ut.paint_circle["circle-translate"]),"circle-translate-anchor":new uo(ut.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new uo(ut.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new uo(ut.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new co(ut.paint_circle["circle-stroke-width"]),"circle-stroke-color":new co(ut.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new co(ut.paint_circle["circle-stroke-opacity"])}),layout:Ol},Rl=1e-6,Fl="undefined"!=typeof Float32Array?Float32Array:Array;function Bl(){var e=new Fl(9);return Fl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function jl(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=n[0],d=n[1],p=n[2],m=n[3],v=n[4],y=n[5],g=n[6],_=n[7],x=n[8];return e[0]=h*r+d*o+p*u,e[1]=h*i+d*s+p*c,e[2]=h*a+d*l+p*f,e[3]=m*r+v*o+y*u,e[4]=m*i+v*s+y*c,e[5]=m*a+v*l+y*f,e[6]=g*r+_*o+x*u,e[7]=g*i+_*s+x*c,e[8]=g*a+_*l+x*f,e}function Ul(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Zl(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],v=t[14],y=t[15],g=n*s-r*o,_=n*l-i*o,x=n*u-a*o,b=r*l-i*s,w=r*u-a*s,k=i*u-a*l,C=c*m-f*p,E=c*v-h*p,S=c*y-d*p,T=f*v-h*m,A=f*y-d*m,M=h*y-d*v,I=g*M-_*A+x*T+b*S-w*E+k*C;return I?(e[0]=(s*M-l*A+u*T)*(I=1/I),e[1]=(i*A-r*M-a*T)*I,e[2]=(m*k-v*w+y*b)*I,e[3]=(h*w-f*k-d*b)*I,e[4]=(l*S-o*M-u*E)*I,e[5]=(n*M-i*S+a*E)*I,e[6]=(v*x-p*k-y*_)*I,e[7]=(c*k-h*x+d*_)*I,e[8]=(o*A-s*S+u*C)*I,e[9]=(r*S-n*A-a*C)*I,e[10]=(p*w-m*x+y*g)*I,e[11]=(f*x-c*w-d*g)*I,e[12]=(s*E-o*T-l*C)*I,e[13]=(n*T-r*E+i*C)*I,e[14]=(m*_-p*b-v*g)*I,e[15]=(c*b-f*_+h*g)*I,e):null}function Nl(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],m=t[12],v=t[13],y=t[14],g=t[15],_=n[0],x=n[1],b=n[2],w=n[3];return e[0]=_*r+x*s+b*f+w*m,e[1]=_*i+x*l+b*h+w*v,e[2]=_*a+x*u+b*d+w*y,e[3]=_*o+x*c+b*p+w*g,e[4]=(_=n[4])*r+(x=n[5])*s+(b=n[6])*f+(w=n[7])*m,e[5]=_*i+x*l+b*h+w*v,e[6]=_*a+x*u+b*d+w*y,e[7]=_*o+x*c+b*p+w*g,e[8]=(_=n[8])*r+(x=n[9])*s+(b=n[10])*f+(w=n[11])*m,e[9]=_*i+x*l+b*h+w*v,e[10]=_*a+x*u+b*d+w*y,e[11]=_*o+x*c+b*p+w*g,e[12]=(_=n[12])*r+(x=n[13])*s+(b=n[14])*f+(w=n[15])*m,e[13]=_*i+x*l+b*h+w*v,e[14]=_*a+x*u+b*d+w*y,e[15]=_*o+x*c+b*p+w*g,e}function Vl(e,t,n){var r,i,a,o,s,l,u,c,f,h,d,p,m=n[0],v=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*y+t[12],e[13]=t[1]*m+t[5]*v+t[9]*y+t[13],e[14]=t[2]*m+t[6]*v+t[10]*y+t[14],e[15]=t[3]*m+t[7]*v+t[11]*y+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*m+s*v+f*y+t[12],e[13]=i*m+l*v+h*y+t[13],e[14]=a*m+u*v+d*y+t[14],e[15]=o*m+c*v+p*y+t[15]),e}function Gl(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ql(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=l*i+h*r,e[8]=u*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=h*i-l*r,e}function Wl(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=o*i-c*r,e[2]=s*i-f*r,e[3]=l*i-h*r,e[8]=a*r+u*i,e[9]=o*r+c*i,e[10]=s*r+f*i,e[11]=l*r+h*i,e}function Hl(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Xl(e,t,n){var r,i,a,o=n[0],s=n[1],l=n[2],u=Math.hypot(o,s,l);return u<Rl?null:(o*=u=1/u,s*=u,l*=u,r=Math.sin(t),i=Math.cos(t),e[0]=o*o*(a=1-i)+i,e[1]=s*o*a+l*r,e[2]=l*o*a-s*r,e[3]=0,e[4]=o*s*a-l*r,e[5]=s*s*a+i,e[6]=l*s*a+o*r,e[7]=0,e[8]=o*l*a+s*r,e[9]=s*l*a-o*r,e[10]=l*l*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Yl=Nl;function Kl(){var e=new Fl(3);return Fl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ql(e){var t=new Fl(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Jl(e){return Math.hypot(e[0],e[1],e[2])}function $l(e,t,n){var r=new Fl(3);return r[0]=e,r[1]=t,r[2]=n,r}function eu(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function tu(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function nu(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function ru(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function iu(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function au(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function ou(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function su(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function lu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function uu(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e}function cu(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/(o=o||1),e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function fu(e,t,n){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1],l=t[2],u=i*l-a*s,c=a*o-r*l,f=r*s-i*o,h=i*f-a*c,d=a*u-r*f,p=r*c-i*u,m=2*n[3];return c*=m,f*=m,d*=2,p*=2,e[0]=o+(u*=m)+(h*=2),e[1]=s+c+d,e[2]=l+f+p,e}var hu,du=tu,pu=nu,mu=Jl;function vu(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function yu(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e}function gu(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function _u(){var e=new Fl(4);return Fl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function xu(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function bu(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=a*l-i*s,e[3]=o*l-r*s,e}function wu(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-a*s,e[1]=i*l+o*s,e[2]=a*l+r*s,e[3]=o*l-i*s,e}Kl(),hu=new Fl(4),Fl!=Float32Array&&(hu[0]=0,hu[1]=0,hu[2]=0,hu[3]=0);var ku=yu;Kl(),$l(1,0,0),$l(0,1,0),_u(),_u(),Bl();var Cu=function(){function e(t,n){d(this,e),this.pos=t,this.dir=n}return p(e,[{key:"intersectsPlane",value:function(e,t,n){var r=lu(t,this.dir);if(Math.abs(r)<1e-6)return!1;var i=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/r;return n[0]=this.pos[0]+this.dir[0]*i,n[1]=this.pos[1]+this.dir[1]*i,n[2]=this.pos[2]+this.dir[2]*i,!0}},{key:"closestPointOnSphere",value:function(e,t,n){if(function(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2];return Math.abs(n-a)<=Rl*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=Rl*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=Rl*Math.max(1,Math.abs(i),Math.abs(s))}(this.pos,e)||0===t)return n[0]=n[1]=n[2]=0,!1;var r=f(this.dir,3),i=r[0],a=r[1],o=r[2],s=this.pos[0]-e[0],l=this.pos[1]-e[1],u=this.pos[2]-e[2],c=i*i+a*a+o*o,h=2*(s*i+l*a+u*o),d=h*h-4*c*(s*s+l*l+u*u-t*t);if(d<0){var p=Math.max(-h/2,0),m=s+i*p,v=l+a*p,y=u+o*p,g=Math.hypot(m,v,y);return n[0]=m*t/g,n[1]=v*t/g,n[2]=y*t/g,!1}var _=(-h-Math.sqrt(d))/(2*c);if(_<0){var x=Math.hypot(s,l,u);return n[0]=s*t/x,n[1]=l*t/x,n[2]=u*t/x,!1}return n[0]=s+i*_,n[1]=l+a*_,n[2]=u+o*_,!0}}]),e}(),Eu=function(){function e(t,n,r,i,a){d(this,e),this.TL=t,this.TR=n,this.BR=r,this.BL=i,this.horizon=a}return p(e,null,[{key:"fromInvProjectionMatrix",value:function(t,n,r){var i=[-1,1,1],a=[1,1,1],o=[1,-1,1],s=[-1,-1,1];return new e(cu(i,i,t),cu(a,a,t),cu(o,o,t),cu(s,s,t),n/r)}}]),e}(),Su=function(){function e(t,n){d(this,e),this.points=t,this.planes=n}return p(e,null,[{key:"fromInvProjectionMatrix",value:function(t,n,r,i){var a=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(e){var r=gu([],e,t),o=1/r[3]/n*a;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(r,r,[o,o,i?1/r[3]:o,o])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var t=su([],uu([],du([],o[e[0]],o[e[1]]),du([],o[e[2]],o[e[1]]))),n=-lu(t,o[e[1]]);return t.concat(n)}));return new e(o,s)}}]),e}(),Tu=function(){function e(t,n){d(this,e),this.min=t,this.max=n,this.center=au([],eu([],this.min,this.max),.5)}return p(e,[{key:"quadrant",value:function(t){for(var n=[t%2==0,t<2],r=Ql(this.min),i=Ql(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],i[a]=n[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new e(r,i)}},{key:"distanceX",value:function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}},{key:"distanceY",value:function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}},{key:"distanceZ",value:function(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}},{key:"getCorners",value:function(){var e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}},{key:"intersects",value:function(e){for(var t=this.getCorners(),n=!0,r=0;r<e.planes.length;r++){for(var i=e.planes[r],a=0,o=0;o<t.length;o++)a+=lu(i,t[o])+i[3]>=0;if(0===a)return 0;a!==t.length&&(n=!1)}if(n)return 2;for(var s=0;s<3;s++){for(var l=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=0;c<e.points.length;c++){var f=e.points[c][s]-this.min[s];l=Math.min(l,f),u=Math.max(u,f)}if(u<0||l>this.max[s]-this.min[s])return 0}return 1}}],[{key:"fromPoints",value:function(t){var n,r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=h(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;ru(r,r,o),iu(i,i,o)}}catch(s){a.e(s)}finally{a.f()}return new e(r,i)}},{key:"applyTransform",value:function(t,n){for(var r=t.getCorners(),i=0;i<r.length;++i)cu(r[i],r[i],n);return e.fromPoints(r)}}]),e}();function Au(e,t,n,r,i,a,o,s,l){if(a&&e.queryGeometry.isAboveHorizon)return!1;a&&(l*=e.pixelToTileUnitsFactor);var u,c=e.tileID.canonical,f=n.projection.upVectorScale(c,n.center.lat,n.worldSize).metersToTile,d=h(t);try{for(d.s();!(u=d.n()).done;){var p,m=u.value,v=h(m);try{var y=function(){var t=p.value,u=t.add(s),h=i&&n.elevation?n.elevation.exaggeration()*i.getElevationAt(u.x,u.y,!0):0,d=n.projection.projectTilePoint(u.x,u.y,c);if(h>0){var m=n.projection.upVector(c,u.x,u.y);d.x+=m[0]*f*h,d.y+=m[1]*f*h,d.z+=m[2]*f*h}var v=a?u:Mu(d.x,d.y,d.z,r),y=a?e.tilespaceRays.map((function(e){return Lu(e,h)})):e.queryGeometry.screenGeometry,g=gu([],[d.x,d.y,d.z,1],r);if(!o&&a?l*=g[3]/n.cameraToCenterDistance:o&&!a&&(l*=n.cameraToCenterDistance/g[3]),a){var _=tl((t.y/qs+c.y)/(1<<c.z));l/=n.projection.pixelsPerMeter(_,1)/$s(1,_)}if(_l(y,v,l))return{v:!0}};for(v.s();!(p=v.n()).done;){var g=y();if("object"===typeof g)return g.v}}catch(_){v.e(_)}finally{v.f()}}}catch(_){d.e(_)}finally{d.f()}return!1}function Mu(e,t,n,r){var i=gu([],[e,t,n,1],r);return new A(i[0]/i[3],i[1]/i[3])}var Iu=$l(0,0,0),Pu=$l(0,0,1);function Lu(e,t){var n=Kl();return Iu[2]=t,e.intersectsPlane(Iu,Pu,n),new A(n[0],n[1])}var zu=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n)}(yl);function Ou(e,t,n,r){var i=t.width,a=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*a*n);return e.width=i,e.height=a,e.data=r,e}function Du(e,t,n){var r=t.width,i=t.height;r===e.width&&i===e.height||(Ru(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=t.data)}function Ru(e,t,n,r,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,l=0;l<i.height;l++)for(var u=((n.y+l)*e.width+n.x)*a,c=((r.y+l)*t.width+r.x)*a,f=0;f<i.width*a;f++)s[c+f]=o[u+f];return t}ea(zu,"HeatmapBucket",{omit:["layers"]});var Fu=function(){function e(t,n){d(this,e),Ou(this,t,1,n)}return p(e,[{key:"resize",value:function(t){Du(this,new e(t),1)}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){Ru(e,t,n,r,i,1)}}]),e}(),Bu=function(){function e(t,n){d(this,e),Ou(this,t,4,n)}return p(e,[{key:"resize",value:function(t){Du(this,new e(t),4)}},{key:"replace",value:function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){Ru(e,t,n,r,i,4)}}]),e}();ea(Fu,"AlphaImage"),ea(Bu,"RGBAImage");var ju={paint:new mo({"heatmap-radius":new co(ut.paint_heatmap["heatmap-radius"]),"heatmap-weight":new co(ut.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new uo(ut.paint_heatmap["heatmap-intensity"]),"heatmap-color":new po(ut.paint_heatmap["heatmap-color"]),"heatmap-opacity":new uo(ut.paint_heatmap["heatmap-opacity"])})};function Uu(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Bu({width:n,height:r}),a=function(n,r,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*o.r/o.a),i.data[n+r+1]=Math.floor(255*o.g/o.a),i.data[n+r+2]=Math.floor(255*o.b/o.a),i.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var l=0,u=0;l<n;l++,u+=4){var c=l/(n-1),f=e.clips[o];a(s,u,f.start*(1-c)+f.end*c)}else for(var h=0,d=0;h<n;h++,d+=4)a(0,d,h/(n-1));return i}var Zu={paint:new mo({"hillshade-illumination-direction":new uo(ut.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new uo(ut.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new uo(ut.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new uo(ut.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new uo(ut.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new uo(ut.paint_hillshade["hillshade-accent-color"])})},Nu=xo([{name:"a_pos",components:2,type:"Int16"}],4).members,Vu={exports:{}};function Gu(e,t,n){n=n||2;var r,i,a,o,s,l,u,c=t&&t.length,f=c?t[0]*n:e.length,h=qu(e,0,f,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=qu(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(nc(o));for(s.sort(Ju),i=0;i<s.length;i++)n=$u(s[i],n);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-r,o-i))?32767/u:0}return Hu(h,d,n,r,i,u,0),d}function qu(e,t,n,r,i){var a,o;if(i===mc(e,t,n,r)>0)for(a=t;a<n;a+=r)o=hc(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=hc(a,e[a],e[a+1],o);return o&&oc(o,o.next)&&(dc(o),o=o.next),o}function Wu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!oc(r,r.next)&&0!==ac(r.prev,r,r.next))r=r.next;else{if(dc(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Hu(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=tc(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Yu(e,r,i,a):Xu(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),dc(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Hu(e=Ku(Wu(e),t,n),t,n,r,i,a,2):2===o&&Qu(e,t,n,r,i,a):Hu(Wu(e),t,n,r,i,a,1);break}}}function Xu(e){var t=e.prev,n=e,r=e.next;if(ac(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<l?s<u?s:u:l<u?l:u,h=i>a?i>o?i:o:a>o?a:o,d=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==t;){if(p.x>=c&&p.x<=h&&p.y>=f&&p.y<=d&&rc(i,s,a,l,o,u,p.x,p.y)&&ac(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Yu(e,t,n,r){var i=e.prev,a=e,o=e.next;if(ac(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,f=a.y,h=o.y,d=s<l?s<u?s:u:l<u?l:u,p=c<f?c<h?c:h:f<h?f:h,m=s>l?s>u?s:u:l>u?l:u,v=c>f?c>h?c:h:f>h?f:h,y=tc(d,p,t,n,r),g=tc(m,v,t,n,r),_=e.prevZ,x=e.nextZ;_&&_.z>=y&&x&&x.z<=g;){if(_.x>=d&&_.x<=m&&_.y>=p&&_.y<=v&&_!==i&&_!==o&&rc(s,c,l,f,u,h,_.x,_.y)&&ac(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&rc(s,c,l,f,u,h,x.x,x.y)&&ac(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;_&&_.z>=y;){if(_.x>=d&&_.x<=m&&_.y>=p&&_.y<=v&&_!==i&&_!==o&&rc(s,c,l,f,u,h,_.x,_.y)&&ac(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=g;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&rc(s,c,l,f,u,h,x.x,x.y)&&ac(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Ku(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!oc(i,a)&&sc(i,r,r.next,a)&&cc(i,a)&&cc(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),dc(r),dc(r.next),r=e=a),r=r.next}while(r!==e);return Wu(r)}function Qu(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&ic(o,s)){var l=fc(o,s);return o=Wu(o,o.next),l=Wu(l,l.next),Hu(o,t,n,r,i,a,0),void Hu(l,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function Ju(e,t){return e.x-t.x}function $u(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o&&(o=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&rc(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),cc(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&ec(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=fc(n,e);return Wu(r,r.next),Wu(n,n.next)}function ec(e,t){return ac(e.prev,e,t.prev)<0&&ac(t.next,e,e.next)<0}function tc(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function nc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function rc(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function ic(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&sc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(cc(e,t)&&cc(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(ac(e.prev,e,t.prev)||ac(e,t.prev,t))||oc(e,t)&&ac(e.prev,e,e.next)>0&&ac(t.prev,t,t.next)>0)}function ac(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function oc(e,t){return e.x===t.x&&e.y===t.y}function sc(e,t,n,r){var i=uc(ac(e,t,n)),a=uc(ac(e,t,r)),o=uc(ac(n,r,e)),s=uc(ac(n,r,t));return i!==a&&o!==s||!(0!==i||!lc(e,n,t))||!(0!==a||!lc(e,r,t))||!(0!==o||!lc(n,e,r))||!(0!==s||!lc(n,t,r))}function lc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function uc(e){return e>0?1:e<0?-1:0}function cc(e,t){return ac(e.prev,e,e.next)<0?ac(e,t,e.next)>=0&&ac(e,e.prev,t)>=0:ac(e,t,e.prev)<0||ac(e,e.next,t)<0}function fc(e,t){var n=new pc(e.i,e.x,e.y),r=new pc(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function hc(e,t,n,r){var i=new pc(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function dc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function pc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mc(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function vc(e,t,n,r,i){yc(e,t,n||0,r||e.length-1,i||_c)}function yc(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);yc(e,t,Math.max(n,Math.floor(t-o*l/a+u)),Math.min(r,Math.floor(t+(a-o)*l/a+u)),i)}var c=e[t],f=n,h=r;for(gc(e,n,t),i(e[r],c)>0&&gc(e,n,r);f<h;){for(gc(e,f,h),f++,h--;i(e[f],c)<0;)f++;for(;i(e[h],c)>0;)h--}0===i(e[n],c)?gc(e,n,h):gc(e,++h,r),h<=t&&(n=h+1),t<=h&&(r=h-1)}}function gc(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _c(e,t){return e<t?-1:e>t?1:0}function xc(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,a=[],o=0;o<n;o++){var s=re(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}if(r&&a.push(r),t>1)for(var l=0;l<a.length;l++)a[l].length<=t||(vc(a[l],t,1,a[l].length-1,bc),a[l]=a[l].slice(0,t));return a}function bc(e,t){return t.area-e.area}function wc(e,t,n){var r,i=n.patternDependencies,a=!1,o=h(t);try{for(o.s();!(r=o.n()).done;){var s=r.value.paint.get("".concat(e,"-pattern"));s.isConstant()||(a=!0);var l=s.constantOr(null);l&&(a=!0,i[l.to]=!0,i[l.from]=!0)}}catch(u){o.e(u)}finally{o.f()}return a}function kc(e,t,n,r,i){var a,o=i.patternDependencies,s=h(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.paint.get("".concat(e,"-pattern")).value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),f=u.evaluate({zoom:r},n,{},i.availableImages),d=u.evaluate({zoom:r+1},n,{},i.availableImages);c=c&&c.name?c.name:c,f=f&&f.name?f.name:f,d=d&&d.name?d.name:d,o[c]=!0,o[f]=!0,o[d]=!0,n.patterns[l.id]={min:c,mid:f,max:d}}}}catch(p){s.e(p)}finally{s.f()}return n}Vu.exports=Gu,Vu.exports.default=Gu,Gu.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs(mc(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(mc(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var l=0;for(o=0;o<r.length;o+=3){var u=r[o]*n,c=r[o+1]*n,f=r[o+2]*n;l+=Math.abs((e[u]-e[f])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[f+1]-e[u+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},Gu.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n};var Cc=function(){function e(t){d(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new wo,this.indexArray=new Bo,this.indexArray2=new Go,this.programConfigurations=new Os(t.layers,t.zoom),this.segments=new Gs,this.segments2=new Gs,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.projection=t.projection}return p(e,[{key:"populate",value:function(e,t,n,r){this.hasPattern=wc("fill",this.layers,t);var i,a=this.layers[0].layout.get("fill-sort-key"),o=[],s=h(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.feature,c=l.id,f=l.index,d=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=pl(u,p);if(this.layers[0]._featureFilter.filter(new eo(this.zoom),m,n)){var v=a?a.evaluate(m,{},n,t.availableImages):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:d,index:f,geometry:p?m.geometry:dl(u,n,r),patterns:{},sortKey:v};o.push(y)}}}catch(E){s.e(E)}finally{s.f()}a&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,_=o;g<_.length;g++){var x=_[g],b=x.geometry,w=x.index,k=x.sourceLayerIndex;if(this.hasPattern){var C=kc("fill",this.layers,x,this.zoom,t);this.patternFeatures.push(C)}else this.addFeature(x,b,w,n,{},t.availableImages);t.featureIndex.insert(e[w].feature,b,w,k,this.index)}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=h(this.patternFeatures);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.addFeature(s,s.geometry,s.index,t,n,r)}}catch(l){o.e(l)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Nu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(e,t,n,r,i){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=h(xc(t,500));try{for(s.s();!(a=s.n()).done;){var l,u=a.value,c=0,f=h(u);try{for(f.s();!(l=f.n()).done;)c+=l.value.length}catch(E){f.e(E)}finally{f.f()}var d,p=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),m=p.vertexLength,v=[],y=[],g=h(u);try{for(g.s();!(d=g.n()).done;){var _=d.value;if(0!==_.length){_!==u[0]&&y.push(v.length/2);var x=this.segments2.prepareSegment(_.length,this.layoutVertexArray,this.indexArray2),b=x.vertexLength;this.layoutVertexArray.emplaceBack(_[0].x,_[0].y),this.indexArray2.emplaceBack(b+_.length-1,b),v.push(_[0].x),v.push(_[0].y);for(var w=1;w<_.length;w++)this.layoutVertexArray.emplaceBack(_[w].x,_[w].y),this.indexArray2.emplaceBack(b+w-1,b+w),v.push(_[w].x),v.push(_[w].y);x.vertexLength+=_.length,x.primitiveLength+=_.length}}}catch(E){g.e(E)}finally{g.f()}for(var k=Vu.exports(v,y),C=0;C<k.length;C+=3)this.indexArray.emplaceBack(m+k[C],m+k[C+1],m+k[C+2]);p.vertexLength+=c,p.primitiveLength+=k.length/3}}catch(E){s.e(E)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,o,r)}}]),e}();ea(Cc,"FillBucket",{omit:["layers","patternFeatures"]});var Ec=new mo({"fill-sort-key":new co(ut.layout_fill["fill-sort-key"])}),Sc={paint:new mo({"fill-antialias":new uo(ut.paint_fill["fill-antialias"]),"fill-opacity":new co(ut.paint_fill["fill-opacity"]),"fill-color":new co(ut.paint_fill["fill-color"]),"fill-outline-color":new co(ut.paint_fill["fill-outline-color"]),"fill-translate":new uo(ut.paint_fill["fill-translate"]),"fill-translate-anchor":new uo(ut.paint_fill["fill-translate-anchor"]),"fill-pattern":new fo(ut.paint_fill["fill-pattern"])}),layout:Ec},Tc=xo([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Ac=xo([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Mc=xo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),Ic=Tc.members,Pc={},Lc=A,zc=Oc;function Oc(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(Dc,this,t)}function Dc(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function Rc(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)r+=((n=e[o]).x-(t=e[i]).x)*(t.y+n.y);return r}Oc.types=["Unknown","Point","LineString","Polygon"],Oc.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,a=0,o=0,s=[];e.pos<n;){if(i<=0){var l=e.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)a+=e.readSVarint(),o+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new Lc(a,o));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},Oc.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<l&&(l=a),a>u&&(u=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,s,u]},Oc.prototype.toGeoJSON=function(e,t,n){var r,i,a=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=Oc.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(r=0;r<l.length;r++)f[r]=l[r][0];c(l=f);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=Rc(e[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Fc=zc,Bc=jc;function jc(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Uc,this,t),this.length=this._features.length}function Uc(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}jc.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Fc(this._pbf,t,this.extent,this._keys,this._values)};var Zc=Bc;function Nc(e,t,n){if(3===e){var r=new Zc(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var Vc=Pc.VectorTile=function(e,t){this.layers=e.readFields(Nc,{},t)},Gc=Pc.VectorTileFeature=zc;function qc(e,t,n,r){var i,a=[],o=0===r?function(e,t,n,r,i,a){e.push(new A(a,n+(a-t)/(r-t)*(i-n)))}:function(e,t,n,r,i,a){e.push(new A(t+(a-n)/(i-n)*(r-t),a))},s=h(e);try{for(s.s();!(i=s.n()).done;){var l,u=i.value,c=[],f=h(u);try{for(f.s();!(l=f.n()).done;){var d=l.value;if(!(d.length<=2)){for(var p=[],m=0;m<d.length-1;m++){var v=d[m].x,y=d[m].y,g=d[m+1].x,_=d[m+1].y,x=0===r?v:y,b=0===r?g:_;x<t?b>t&&o(p,v,y,g,_,t):x>n?b<n&&o(p,v,y,g,_,n):p.push(d[m]),b<t&&x>=t&&o(p,v,y,g,_,t),b>n&&x<=n&&o(p,v,y,g,_,n)}var w=d[d.length-1],k=0===r?w.x:w.y;k>=t&&k<=n&&p.push(w),p.length&&(w=p[p.length-1],p[0].x===w.x&&p[0].y===w.y||p.push(p[0]),c.push(p))}}}catch(C){f.e(C)}finally{f.f()}c.length&&a.push(c)}}catch(C){s.e(C)}finally{s.f()}return a}Pc.VectorTileLayer=Bc;var Wc=Gc.types,Hc=Math.pow(2,13);function Xc(e,t,n,r,i,a,o,s){e.emplaceBack((t<<1)+o,(n<<1)+a,(Math.floor(r*Hc)<<1)+i,Math.round(s))}function Yc(e,t,n){var r=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*r,n[1]*r,n[2]*r)}var Kc=function(){function e(){d(this,e),this.acc=new A(0,0),this.polyCount=[]}return p(e,[{key:"startRing",value:function(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new A(e.x,e.y),this.max=new A(e.x,e.y))}},{key:"append",value:function(e,t){this.currentPolyCount.edges++,this.acc._add(e);var n=this.min,r=this.max;e.x<n.x?n.x=e.x:e.x>r.x&&(r.x=e.x),e.y<n.y?n.y=e.y:e.y>r.y&&(r.y=e.y),((0===e.x||e.x===qs)&&e.x===t.x)!=((0===e.y||e.y===qs)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,Zn(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>qs!=e.x>qs&&this.addBorderIntersection(1,Zn(t.y,e.y,(qs-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Zn(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>qs!=e.y>qs&&this.addBorderIntersection(3,Zn(t.x,e.x,(qs-t.y)/(e.y-t.y)))}},{key:"addBorderIntersection",value:function(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);var n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}},{key:"processBorderOverlap",value:function(e,t){if(e.x===t.x){if(e.y===t.y)return;var n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{var r=0===e.y?2:3;this.addBorderIntersection(r,t.x),this.addBorderIntersection(r,e.x)}}},{key:"centroid",value:function(){var e=this.polyCount.reduce((function(e,t){return e+t.edges}),0);return 0!==e?this.acc.div(e)._round():new A(0,0)}},{key:"span",value:function(){return new A(this.max.x-this.min.x,this.max.y-this.min.y)}},{key:"intersectsCount",value:function(){return this.borders.reduce((function(e,t){return e+ +(t[0]!==Number.MAX_VALUE)}),0)}}]),e}(),Qc=function(){function e(t){d(this,e),this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new Co,this.centroidVertexArray=new os,this.indexArray=new Bo,this.programConfigurations=new Os(t.layers,t.zoom),this.segments=new Gs,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.enableTerrain=t.enableTerrain}return p(e,[{key:"populate",value:function(e,t,n,r){this.features=[],this.hasPattern=wc("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){var t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/qs/(1<<e.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;var i,a=h(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.feature,l=o.id,u=o.index,c=o.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,d=pl(s,f);if(this.layers[0]._featureFilter.filter(new eo(this.zoom),d,n)){var p={id:l,sourceLayerIndex:c,index:u,geometry:f?d.geometry:dl(s,n,r),properties:s.properties,type:s.type,patterns:{}},m=this.layoutVertexArray.length;this.hasPattern?this.features.push(kc("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,u,n,{},t.availableImages,r),t.featureIndex.insert(s,p.geometry,u,c,this.index,m)}}}catch(v){a.e(v)}finally{a.f()}this.sortBorders()}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=h(this.features);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.geometry;this.addFeature(s,l,s.index,t,n,r,i)}}catch(u){o.e(u)}finally{o.f()}this.sortBorders()}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ic),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Mc.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"uploadCentroid",value:function(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Ac.members,!0),this.needsCentroidUpdate=!1)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,n,r,i,a,o){var s=[new A(0,0),new A(qs,qs)],l=o.projection,u="globe"===l.name,c=this.enableTerrain&&!u?new Kc:null,f="Polygon"===Wc[e.type];u&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Xo);for(var d,p,m=xc(t,500),v=m.length-1;v>=0;v--){var y=m[v];(0===y.length||(d=y[0]).every((function(e){return e.x<=0}))||d.every((function(e){return e.x>=qs}))||d.every((function(e){return e.y<=0}))||d.every((function(e){return e.y>=qs})))&&m.splice(v,1)}if(u)p=of(m,s,r);else{p=[];var g,_=h(m);try{for(_.s();!(g=_.n()).done;){var x=g.value;p.push({polygon:x,bounds:s})}}catch(Ie){_.e(Ie)}finally{_.f()}}var b,w=f?this.edgeRadius:0,k=h(p);try{for(k.s();!(b=k.n()).done;){var C,E=b.value,S=E.polygon,T=E.bounds,M=0,I=0,P=h(S);try{for(P.s();!(C=P.n()).done;){var L=C.value;f&&!L[0].equals(L[L.length-1])&&L.push(L[0]),I+=f?L.length-1:L.length}}catch(Ie){P.e(Ie)}finally{P.f()}var z=this.segments.prepareSegment((f?5:4)*I,this.layoutVertexArray,this.indexArray);if(f){var O=[],D=[];M=z.vertexLength;var R,F=h(S);try{for(F.s();!(R=F.n()).done;){var B=R.value,j=void 0,U=void 0;B.length&&B!==S[0]&&D.push(O.length/2),j=B[1].sub(B[0])._perp()._unit();for(var Z=1;Z<B.length;Z++){var N=B[Z],V=B[Z===B.length-1?1:Z+1],G=N.x,q=N.y;if(w){U=V.sub(N)._perp()._unit();var W=j.add(U)._unit(),H=w*Math.min(4,1/(j.x*W.x+j.y*W.y));G+=H*W.x,q+=H*W.y,j=U}Xc(this.layoutVertexArray,G,q,0,0,1,1,0),z.vertexLength++,O.push(N.x,N.y),u&&Yc(this.layoutVertexExtArray,l.projectTilePoint(G,q,r),l.upVector(r,G,q))}}}catch(Ie){F.e(Ie)}finally{F.f()}for(var X=Vu.exports(O,D),Y=0;Y<X.length;Y+=3)this.indexArray.emplaceBack(M+X[Y],M+X[Y+2],M+X[Y+1]),z.primitiveLength++}var K,Q=h(S);try{for(Q.s();!(K=Q.n()).done;){var J=K.value;c&&J.length&&c.startRing(J[0]);var $=void 0,ee=void 0,te=void 0,ne=J.length>4&&nf(J[J.length-2],J[0],J[1]),re=w?$c(J[J.length-2],J[0],J[1],w):0;ee=J[1].sub(J[0])._perp()._unit();for(var ie=!0,ae=1,oe=0;ae<J.length;ae++){var se=J[ae-1],le=J[ae],ue=J[ae===J.length-1?1:ae+1];if(c&&f&&c.currentPolyCount.top++,tf(le,se,T))w&&(ee=ue.sub(le)._perp()._unit(),ie=!ie);else{c&&c.append(le,se);var ce=le.sub(se)._perp(),fe=ce.x/(Math.abs(ce.x)+Math.abs(ce.y)),he=ce.y>0?1:0,de=se.dist(le);if(oe+de>32768&&(oe=0),w){te=ue.sub(le)._perp()._unit();var pe=ef(se,le,ue,Jc(ee,te),w);isNaN(pe)&&(pe=0);var me=le.sub(se)._unit();se=se.add(me.mult(re))._round(),le=le.add(me.mult(-pe))._round(),re=pe,ee=te}var ve=z.vertexLength,ye=J.length>4&&nf(se,le,ue),ge=rf(oe,ne,ie);if(Xc(this.layoutVertexArray,se.x,se.y,fe,he,0,0,ge),Xc(this.layoutVertexArray,se.x,se.y,fe,he,0,1,ge),ge=rf(oe+=de,ye,!ie),ne=ye,Xc(this.layoutVertexArray,le.x,le.y,fe,he,0,0,ge),Xc(this.layoutVertexArray,le.x,le.y,fe,he,0,1,ge),z.vertexLength+=4,this.indexArray.emplaceBack(ve+0,ve+1,ve+2),this.indexArray.emplaceBack(ve+1,ve+3,ve+2),z.primitiveLength+=2,w){var _e=M+(1===ae?J.length-2:ae-2),xe=1===ae?M:_e+1;if(this.indexArray.emplaceBack(ve+1,_e,ve+3),this.indexArray.emplaceBack(_e,xe,ve+3),z.primitiveLength+=2,void 0===$&&($=ve),!tf(ue,J[ae],T)){var be=ae===J.length-1?$:z.vertexLength;this.indexArray.emplaceBack(ve+2,ve+3,be),this.indexArray.emplaceBack(ve+3,be+1,be),this.indexArray.emplaceBack(ve+3,xe,be+1),z.primitiveLength+=3}ie=!ie}if(u){var we=this.layoutVertexExtArray,ke=l.projectTilePoint(se.x,se.y,r),Ce=l.projectTilePoint(le.x,le.y,r),Ee=l.upVector(r,se.x,se.y),Se=l.upVector(r,le.x,le.y);Yc(we,ke,Ee),Yc(we,ke,Ee),Yc(we,Ce,Se),Yc(we,Ce,Se)}}}f&&(M+=J.length-1)}}catch(Ie){Q.e(Ie)}finally{Q.f()}}}catch(Ie){k.e(Ie)}finally{k.f()}if(c&&c.polyCount.length>0){if(c.borders){c.vertexArrayOffset=this.centroidVertexArray.length;for(var Te=c.borders,Ae=this.featuresOnBorder.push(c)-1,Me=0;Me<4;Me++)Te[Me][0]!==Number.MAX_VALUE&&this.borders[Me].push(Ae)}this.encodeCentroid(c.borders?void 0:c.centroid(),c)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,a,r)}},{key:"sortBorders",value:function(){for(var e=this,t=function(t){e.borders[t].sort((function(n,r){return e.featuresOnBorder[n].borders[t][0]-e.featuresOnBorder[r].borders[t][0]}))},n=0;n<4;n++)t(n)}},{key:"encodeCentroid",value:function(e,t){var n,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(0!==e.y){var a=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(a.x/10)),r=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(a.y/10))}else n=Math.ceil(7*(e.x+450)),r=0;else n=0,r=+i;var o,s=i?this.centroidVertexArray.length:t.vertexArrayOffset,l=h(t.polyCount);try{for(l.s();!(o=l.n()).done;){var u=o.value;i&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*u.edges+u.top);for(var c=0;c<u.top;c++)this.centroidVertexArray.emplace(s++,n,r);for(var f=0;f<2*u.edges;f++)this.centroidVertexArray.emplace(s++,0,r),this.centroidVertexArray.emplace(s++,n,r)}}catch(d){l.e(d)}finally{l.f()}}}]),e}();function Jc(e,t){var n=e.add(t)._unit();return e.x*n.x+e.y*n.y}function $c(e,t,n,r){var i=t.sub(e)._perp()._unit(),a=n.sub(t)._perp()._unit();return ef(e,t,n,Jc(i,a),r)}function ef(e,t,n,r,i){var a=Math.sqrt(1-r*r);return Math.min(e.dist(t)/3,t.dist(n)/3,i*a/r)}function tf(e,t,n){return e.x<n[0].x&&t.x<n[0].x||e.x>n[1].x&&t.x>n[1].x||e.y<n[0].y&&t.y<n[0].y||e.y>n[1].y&&t.y>n[1].y}function nf(e,t,n){if(e.x<0||e.x>=qs||t.x<0||t.x>=qs||n.x<0||n.x>=qs)return!1;var r=n.sub(t),i=r.perp(),a=e.sub(t);return(r.x*a.x+r.y*a.y)/Math.sqrt((r.x*r.x+r.y*r.y)*(a.x*a.x+a.y*a.y))>-.866&&i.x*a.x+i.y*a.y<0}function rf(e,t,n){var r=t?2|e:-3&e;return n?1|r:-2&r}function af(){var e=Math.PI/32,t=Math.tan(e),n=Hs;return n*Math.sqrt(1+2*t*t)-n}function of(e,t,n){var r=1<<n.z,i=el(n.x/r),a=el((n.x+1)/r),o=tl(n.y/r),s=tl((n.y+1)/r);return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=[];if(!e.length||!n||!r)return o;for(var s=function(e,t){var n,r=h(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.push({polygon:i,bounds:t})}}catch(a){r.e(a)}finally{r.f()}},l=Math.ceil(Math.log2(n)),u=Math.ceil(Math.log2(r)),c=l-u,f=[],d=0;d<Math.abs(c);d++)f.push(c>0?0:1);for(var p=0;p<Math.min(l,u);p++)f.push(0),f.push(1);var m=e;if(m=qc(m,t[0].y-i,t[1].y+i,1),!(m=qc(m,t[0].x-i,t[1].x+i,0)).length)return o;var v=[];for(f.length?v.push({polygons:m,bounds:t,depth:0}):s(m,t);v.length;){var y=v.pop(),g=y.depth,_=f[g],x=y.bounds[0],b=y.bounds[1],w=0===_?x.x:x.y,k=0===_?b.x:b.y,C=a?a(_,w,k):.5*(w+k),E=qc(y.polygons,w-i,C+i,_),S=qc(y.polygons,C-i,k+i,_);if(E.length){var T=[x,new A(0===_?C:b.x,1===_?C:b.y)];f.length>g+1?v.push({polygons:E,bounds:T,depth:g+1}):s(E,T)}if(S.length){var M=[new A(0===_?C:x.x,1===_?C:x.y),b];f.length>g+1?v.push({polygons:S,bounds:M,depth:g+1}):s(S,M)}}return o}(e,t,Math.ceil((a-i)/11.25),Math.ceil((o-s)/11.25),1,(function(e,t,i){if(0===e)return.5*(t+i);var a=tl((n.y+t/qs)/r);return(Js(.5*(tl((n.y+i/qs)/r)+a))*r-n.y)*qs}))}ea(Qc,"FillExtrusionBucket",{omit:["layers","features"]}),ea(Kc,"PartMetadata");var sf=new mo({"fill-extrusion-edge-radius":new uo(ut["layout_fill-extrusion"]["fill-extrusion-edge-radius"])}),lf={paint:new mo({"fill-extrusion-opacity":new uo(ut["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new co(ut["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new uo(ut["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new uo(ut["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new fo(ut["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new co(ut["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new co(ut["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new uo(ut["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new uo(ut["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new uo(ut["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:sf};function uf(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}var cf=function(){function e(t,n,r){d(this,e),this.z=t,this.x=n,this.y=r,this.key=df(0,t,t,n,r)}return p(e,[{key:"equals",value:function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}},{key:"url",value:function(e,t){var n=function(e,t,n){var r=uf(256*e,256*(t=Math.pow(2,n)-t-1),n),i=uf(256*(e+1),256*(t+1),n);return r[0]+","+r[1]+","+i[0]+","+i[1]}(this.x,this.y,this.z),r=function(e,t,n){for(var r,i="",a=e;a>0;a--)i+=(t&(r=1<<a-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),e}(),ff=p((function e(t,n){d(this,e),this.wrap=t,this.canonical=n,this.key=df(t,n.z,n.z,n.x,n.y)})),hf=function(){function e(t,n,r,i,a){d(this,e),this.overscaledZ=t,this.wrap=n,this.canonical=new cf(r,+i,+a),this.key=0===n&&t===r?this.canonical.key:df(n,t,r,i,a)}return p(e,[{key:"equals",value:function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}},{key:"scaledTo",value:function(t){var n=this.canonical.z-t;return t>this.canonical.z?new e(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new e(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}},{key:"calculateScaledKey",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return df(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);var n=this.canonical.z-e;return df(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}},{key:"isChildOf",value:function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}},{key:"children",value:function(t){if(this.overscaledZ>=t)return[new e(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var n=this.canonical.z+1,r=2*this.canonical.x,i=2*this.canonical.y;return[new e(n,this.wrap,n,r,i),new e(n,this.wrap,n,r+1,i),new e(n,this.wrap,n,r,i+1),new e(n,this.wrap,n,r+1,i+1)]}},{key:"isLessThan",value:function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}},{key:"wrapped",value:function(){return new e(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(t){return new e(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new ff(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}}]),e}();function df(e,t,n,r,i){var a=1<<Math.min(n,22),o=a*(i%a)+r%a;return e&&n<22&&(o+=a*a*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*o+n)+(t-n)}ea(cf,"CanonicalTileID"),ea(hf,"OverscaledTileID",{omit:["projMatrix"]});var pf=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r)).z=i,a}return p(n)}(A);function mf(e,t){return e.x*t.x+e.y*t.y}function vf(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var a=t[r],o=e[0],s=n.sub(i),l=a.sub(i),u=o.sub(i),c=mf(s,s),f=mf(s,l),d=mf(l,l),p=mf(u,s),m=mf(u,l),v=c*d-f*f,y=(d*p-f*m)/v,g=(c*m-f*p)/v,_=i.z*(1-y-g)+n.z*y+a.z*g;if(isFinite(_))return _}return 1/0}var x,b=1/0,w=h(t);try{for(w.s();!(x=w.n()).done;){var k=x.value;b=Math.min(b,k.z)}}catch(C){w.e(C)}finally{w.f()}return b}function yf(e,t,n,r,i,a,o,s){var l=o*i.getElevationAt(e,t,!0,!0),u=0!==a[0],c=u?0===a[1]?o*(a[0]/7-450):o*function(e,t,n){var r=Math.floor(t[0]/8),i=Math.floor(t[1]/8),a=10*(t[0]-8*r),o=10*(t[1]-8*i),s=e.getElevationAt(r,i,!0,!0),l=e.getMeterToDEM(n),u=Math.floor(.5*(a*l-1)),c=Math.floor(.5*(o*l-1)),f=e.tileCoordToPixel(r,i),h=2*u+1,d=2*c+1,p=function(e,t,n,r,i){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+i,n,!0),e.getElevationAtPixel(t,n+i,!0),e.getElevationAtPixel(t+r,n+i,!0)]}(e,f.x-u,f.y-c,h,d),m=Math.abs(p[0]-p[1]),v=Math.abs(p[2]-p[3]),y=Math.abs(p[0]-p[2])+Math.abs(p[1]-p[3]),g=Math.min(.25,.5*l*(m+v)/h),_=Math.min(.25,.5*l*y/d);return s+Math.max(g*a,_*o)}(i,a,s):l;return{base:l+(0===n)?-1:n,top:u?Math.max(c+r,l+n+2):l+r}}var gf=xo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4).members,_f=xo([{name:"a_packed",components:4,type:"Float32"}]).members,xf=Gc.types,bf=Math.cos(Math.PI/180*37.5),wf=function(){function e(t){var n=this;d(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){n.gradients[e.id]={}})),this.layoutVertexArray=new Eo,this.layoutVertexArray2=new So,this.indexArray=new Bo,this.programConfigurations=new Os(t.layers,t.zoom),this.segments=new Gs,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n,r){this.hasPattern=wc("line",this.layers,t);var i,a=this.layers[0].layout.get("line-sort-key"),o=[],s=h(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.feature,c=l.id,f=l.index,d=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=pl(u,p);if(this.layers[0]._featureFilter.filter(new eo(this.zoom),m,n)){var v=a?a.evaluate(m,{},n):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:d,index:f,geometry:p?m.geometry:dl(u,n,r),patterns:{},sortKey:v};o.push(y)}}}catch(A){s.e(A)}finally{s.f()}a&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=t.lineAtlas,_=t.featureIndex,x=this.addConstantDashes(g),b=0,w=o;b<w.length;b++){var k=w[b],C=k.geometry,E=k.index,S=k.sourceLayerIndex;if(x&&this.addFeatureDashes(k,g),this.hasPattern){var T=kc("line",this.layers,k,this.zoom,t);this.patternFeatures.push(T)}else this.addFeature(k,C,E,n,g.positions,t.availableImages);_.insert(e[E].feature,C,E,S,this.index)}}},{key:"addConstantDashes",value:function(e){var t,n=!1,r=h(this.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"!==a.kind||"constant"!==o.kind)n=!0;else{var s=o.value,l=a.value;if(!l)continue;e.addDash(l.from,s),e.addDash(l.to,s),l.other&&e.addDash(l.other,s)}}}catch(u){r.e(u)}finally{r.f()}return n}},{key:"addFeatureDashes",value:function(e,t){var n,r=this.zoom,i=h(this.layers);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.paint.get("line-dasharray").value,s=a.layout.get("line-cap").value;if("constant"!==o.kind||"constant"!==s.kind){var l=void 0,u=void 0,c=void 0,f=void 0,d=void 0,p=void 0;if("constant"===o.kind){var m=o.value;if(!m)continue;l=m.other||m.to,u=m.to,c=m.from}else l=o.evaluate({zoom:r-1},e),u=o.evaluate({zoom:r},e),c=o.evaluate({zoom:r+1},e);"constant"===s.kind?f=d=p=s.value:(f=s.evaluate({zoom:r-1},e),d=s.evaluate({zoom:r},e),p=s.evaluate({zoom:r+1},e)),t.addDash(l,f),t.addDash(u,d),t.addDash(c,p);var v=t.getKey(l,f),y=t.getKey(u,d),g=t.getKey(c,p);e.patterns[a.id]={min:v,mid:y,max:g}}}}catch(_){i.e(_)}finally{i.f()}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=h(this.patternFeatures);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.addFeature(s,s.geometry,s.index,t,n,r)}}catch(l){o.e(l)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,_f)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,gf),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}},{key:"addFeature",value:function(e,t,n,r,i,a){var o=this.layers[0].layout,s=o.get("line-join").evaluate(e,{}),l=o.get("line-cap").evaluate(e,{}),u=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);var f,d=h(t);try{for(d.s();!(f=d.n()).done;){var p=f.value;this.addLine(p,e,s,l,u,c)}}catch(m){d.e(m)}finally{d.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,a,r)}},{key:"addLine",value:function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===xf[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var u=0;u<l-1&&e[u].equals(e[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c,f,h,d,p,m=this.overscaling<=16?122880/(512*this.overscaling):0,v=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,s&&(c=e[l-2],p=e[u].sub(c)._unit()._perp());for(var y=u;y<l;y++)if(!(h=y===l-1?s?e[u+1]:void 0:e[y+1])||!e[y].equals(h)){p&&(d=p),c&&(f=c),c=e[y],p=h?h.sub(c)._unit()._perp():d;var g=(d=d||p).add(p);0===g.x&&0===g.y||g._unit();var _=d.x*p.x+d.y*p.y,x=g.x*p.x+g.y*p.y,b=0!==x?1/x:1/0,w=2*Math.sqrt(2-2*x),k=x<bf&&f&&h,C=d.x*p.y-d.y*p.x>0;if(k&&y>u){var E=c.dist(f);if(E>2*m){var S=c.sub(c.sub(f)._mult(m/E)._round());this.updateDistance(f,S),this.addCurrentVertex(S,d,0,0,v),f=S}}var T=f&&h,A=T?n:s?"butt":r;if(T&&"round"===A&&(b<a?A="miter":b<=2&&(A="fakeround")),"miter"===A&&b>i&&(A="bevel"),"bevel"===A&&(b>2&&(A="flipbevel"),b<i&&(A="miter")),f&&this.updateDistance(f,c),"miter"===A)g._mult(b),this.addCurrentVertex(c,g,0,0,v);else if("flipbevel"===A){if(b>100)g=p.mult(-1);else{var M=b*d.add(p).mag()/d.sub(p).mag();g._perp()._mult(M*(C?-1:1))}this.addCurrentVertex(c,g,0,0,v),this.addCurrentVertex(c,g.mult(-1),0,0,v)}else if("bevel"===A||"fakeround"===A){var I=-Math.sqrt(b*b-1),P=C?I:0,L=C?0:I;if(f&&this.addCurrentVertex(c,d,P,L,v),"fakeround"===A)for(var z=Math.round(180*w/Math.PI/20),O=1;O<z;O++){var D=O/z;if(.5!==D){var R=D-.5;D+=D*R*(D-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*R*R+(.848013+_*(.215638*_-1.06021)))}var F=p.sub(d)._mult(D)._add(d)._unit()._mult(C?-1:1);this.addHalfVertex(c,F.x,F.y,!1,C,0,v)}h&&this.addCurrentVertex(c,p,-P,-L,v)}else if("butt"===A)this.addCurrentVertex(c,g,0,0,v);else if("square"===A){var B=f?1:-1;f||this.addCurrentVertex(c,g,B,B,v),this.addCurrentVertex(c,g,0,0,v),f&&this.addCurrentVertex(c,g,B,B,v)}else"round"===A&&(f&&(this.addCurrentVertex(c,d,0,0,v),this.addCurrentVertex(c,d,1,1,v,!0)),h&&(this.addCurrentVertex(c,p,-1,-1,v,!0),this.addCurrentVertex(c,p,0,0,v)));if(k&&y<l-1){var j=c.dist(h);if(j>2*m){var U=c.add(h.sub(c)._mult(m/j)._round());this.updateDistance(c,U),this.addCurrentVertex(U,p,0,0,v),c=U}}}}}},{key:"addCurrentVertex",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,i),this.addHalfVertex(e,o,s,a,!0,-r,i)}},{key:"addHalfVertex",value:function(e,t,n,r,i,a,o){var s=e.x,l=e.y;this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(l<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);var u=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),o.primitiveLength++),i?this.e2=u:this.e1=u}},{key:"updateScaledDistance",value:function(){if(this.lineClips){var e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}},{key:"updateDistance",value:function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}]),e}();ea(wf,"LineBucket",{omit:["layers","patternFeatures"]});var kf=new mo({"line-cap":new co(ut.layout_line["line-cap"]),"line-join":new co(ut.layout_line["line-join"]),"line-miter-limit":new uo(ut.layout_line["line-miter-limit"]),"line-round-limit":new uo(ut.layout_line["line-round-limit"]),"line-sort-key":new co(ut.layout_line["line-sort-key"])}),Cf={paint:new mo({"line-opacity":new co(ut.paint_line["line-opacity"]),"line-color":new co(ut.paint_line["line-color"]),"line-translate":new uo(ut.paint_line["line-translate"]),"line-translate-anchor":new uo(ut.paint_line["line-translate-anchor"]),"line-width":new co(ut.paint_line["line-width"]),"line-gap-width":new co(ut.paint_line["line-gap-width"]),"line-offset":new co(ut.paint_line["line-offset"]),"line-blur":new co(ut.paint_line["line-blur"]),"line-dasharray":new fo(ut.paint_line["line-dasharray"]),"line-pattern":new fo(ut.paint_line["line-pattern"]),"line-gradient":new po(ut.paint_line["line-gradient"]),"line-trim-offset":new uo(ut.paint_line["line-trim-offset"])}),layout:kf},Ef=new(function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"possiblyEvaluate",value:function(e,t){return t=new eo(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),o(s(n.prototype),"possiblyEvaluate",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,r,i){return t=V({},t,{zoom:Math.floor(t.zoom)}),o(s(n.prototype),"evaluate",this).call(this,e,t,r,i)}}]),n}(co))(Cf.paint.properties["line-width"].specification);function Sf(e,t){return t>0?t+2*e:e}Ef.useIntegerZoom=!0;var Tf=xo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Af=xo([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Mf=xo([{name:"a_projected_pos",components:4,type:"Float32"}],4);xo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var If=xo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Pf=xo([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);xo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Lf=xo([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),zf=xo([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);xo([{name:"triangle",components:3,type:"Uint16"}]),xo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),xo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),xo([{type:"Float32",name:"offsetX"}]),xo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Of=24,Df=128;function Rf(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new eo(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],l=r[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new eo(s)),maxSize:n.evaluate(new eo(l)),interpolationType:i}}function Ff(e,t,n){var r=t.uSize,i=t.uSizeT,a=n.lowerSize,o=n.upperSize;return"source"===e.kind?a/Df:"composite"===e.kind?Zn(a/Df,o/Df,i):r}function Bf(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,a=e.minZoom,o=e.maxZoom,s=i?B(lr.interpolationFactor(i,t,a,o),0,1):0;"camera"===e.kind?r=Zn(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:r}}var jf=Object.freeze({__proto__:null,getSizeData:Rf,evaluateSizeForFeature:Ff,evaluateSizeForZoom:Bf,SIZE_PACK_FACTOR:Df});function Uf(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),$a.applyArabicShaping&&(e=$a.applyArabicShaping(e)),e}(e.text,t,n)})),e}var Zf={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Nf(e){return"\ufe36"===e||"\ufe48"===e||"\ufe38"===e||"\ufe44"===e||"\ufe42"===e||"\ufe3e"===e||"\ufe3c"===e||"\ufe3a"===e||"\ufe18"===e||"\ufe40"===e||"\ufe10"===e||"\ufe13"===e||"\ufe14"===e||"\uff40"===e||"\uffe3"===e||"\ufe11"===e||"\ufe12"===e}function Vf(e){return"\ufe35"===e||"\ufe47"===e||"\ufe37"===e||"\ufe43"===e||"\ufe41"===e||"\ufe3d"===e||"\ufe3b"===e||"\ufe39"===e||"\ufe17"===e||"\ufe3f"===e}var Gf=Hf,qf=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=u}return(d?-1:1)*o*Math.pow(2,a-r)},Wf=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+d]=255&o,d+=p,o/=256,u-=8);e[n+d-p]|=128*m};function Hf(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Hf.Varint=0,Hf.Fixed64=1,Hf.Bytes=2,Hf.Fixed32=5;var Xf=4294967296,Yf=1/Xf,Kf="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Qf(e){return e.type===Hf.Bytes?e.readVarint()+e.pos:e.pos+1}function Jf(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function $f(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function eh(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function th(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function nh(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function rh(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function ih(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function ah(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function oh(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function sh(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function lh(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function uh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function ch(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function fh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function hh(e,t,n){t.glyphs=[],1===e&&n.readMessage(dh,t)}function dh(e,t,n){if(3===e){var r=n.readMessage(ph,{}),i=r.id,a=r.bitmap,o=r.width,s=r.height,l=r.left,u=r.top,c=r.advance;t.glyphs.push({id:i,bitmap:new Fu({width:o+6,height:s+6},a),metrics:{width:o,height:s,left:l,top:u,advance:c}})}else 4===e?t.ascender=n.readSVarint():5===e&&(t.descender=n.readSVarint())}function ph(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function mh(e){var t,n=0,r=0,i=h(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n+=a.w*a.h,r=Math.max(r,a.w)}}catch(v){i.e(v)}finally{i.f()}e.sort((function(e,t){return t.h-e.h}));var o,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),r),h:1/0}],l=0,u=0,c=h(e);try{for(c.s();!(o=c.n()).done;)for(var f=o.value,d=s.length-1;d>=0;d--){var p=s[d];if(!(f.w>p.w||f.h>p.h)){if(f.x=p.x,f.y=p.y,u=Math.max(u,f.y+f.h),l=Math.max(l,f.x+f.w),f.w===p.w&&f.h===p.h){var m=s.pop();d<s.length&&(s[d]=m)}else f.h===p.h?(p.x+=f.w,p.w-=f.w):f.w===p.w?(p.y+=f.h,p.h-=f.h):(s.push({x:p.x+f.w,y:p.y,w:p.w-f.w,h:f.h}),p.y+=f.h,p.h-=f.h);break}}}catch(v){c.e(v)}finally{c.f()}return{w:l,h:u,fill:n/(l*u)||0}}Hf.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=uh(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=fh(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=uh(this.buf,this.pos)+uh(this.buf,this.pos+4)*Xf;return this.pos+=8,e},readSFixed64:function(){var e=uh(this.buf,this.pos)+fh(this.buf,this.pos+4)*Xf;return this.pos+=8,e},readFloat:function(){var e=qf(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=qf(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128)return Jf(e,r,t);if(r|=(127&(i=a[n.pos++]))<<3,i<128)return Jf(e,r,t);if(r|=(127&(i=a[n.pos++]))<<10,i<128)return Jf(e,r,t);if(r|=(127&(i=a[n.pos++]))<<17,i<128)return Jf(e,r,t);if(r|=(127&(i=a[n.pos++]))<<24,i<128)return Jf(e,r,t);if(r|=(1&(i=a[n.pos++]))<<31,i<128)return Jf(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Kf?function(e,t,n){return Kf.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var a,o,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===c?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&a)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Hf.Bytes)return e.push(this.readVarint(t));var n=Qf(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Hf.Bytes)return e.push(this.readSVarint());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Hf.Bytes)return e.push(this.readBoolean());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Hf.Bytes)return e.push(this.readFloat());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Hf.Bytes)return e.push(this.readDouble());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Hf.Bytes)return e.push(this.readFixed32());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Hf.Bytes)return e.push(this.readSFixed32());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Hf.Bytes)return e.push(this.readFixed64());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Hf.Bytes)return e.push(this.readSFixed64());var t=Qf(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Hf.Varint)for(;this.buf[this.pos++]>127;);else if(t===Hf.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Hf.Fixed32)this.pos+=4;else{if(t!==Hf.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),ch(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),ch(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),ch(this.buf,-1&e,this.pos),ch(this.buf,Math.floor(e*Yf),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),ch(this.buf,-1&e,this.pos),ch(this.buf,Math.floor(e*Yf),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&$f(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Wf(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Wf(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&$f(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Hf.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,eh,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,th,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,ih,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,nh,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,rh,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,ah,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,oh,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,sh,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,lh,t)},writeBytesField:function(e,t){this.writeTag(e,Hf.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Hf.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Hf.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Hf.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Hf.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Hf.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Hf.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Hf.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Hf.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Hf.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var vh=function(){function e(t,n){var r=n.pixelRatio,i=n.version,a=n.stretchX,o=n.stretchY,s=n.content;d(this,e),this.paddedRect=t,this.pixelRatio=r,this.stretchX=a,this.stretchY=o,this.content=s,this.version=i}return p(e,[{key:"tl",get:function(){return[this.paddedRect.x+1,this.paddedRect.y+1]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}]),e}(),yh=function(){function e(t,n){d(this,e);var r={},i={};this.haveRenderCallbacks=[];var a=[];this.addImages(t,r,a),this.addImages(n,i,a);var o=mh(a),s=o.w,l=o.h,u=new Bu({width:s||1,height:l||1});for(var c in t){var f=t[c],h=r[c].paddedRect;Bu.copy(f.data,u,{x:0,y:0},{x:h.x+1,y:h.y+1},f.data)}for(var p in n){var m=n[p],v=i[p].paddedRect,y=v.x+1,g=v.y+1,_=m.data.width,x=m.data.height;Bu.copy(m.data,u,{x:0,y:0},{x:y,y:g},m.data),Bu.copy(m.data,u,{x:0,y:x-1},{x:y,y:g-1},{width:_,height:1}),Bu.copy(m.data,u,{x:0,y:0},{x:y,y:g+x},{width:_,height:1}),Bu.copy(m.data,u,{x:_-1,y:0},{x:y-1,y:g},{width:1,height:x}),Bu.copy(m.data,u,{x:0,y:0},{x:y+_,y:g},{width:1,height:x})}this.image=u,this.iconPositions=r,this.patternPositions=i}return p(e,[{key:"addImages",value:function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(a),t[r]=new vh(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}},{key:"patchUpdatedImages",value:function(e,t){for(var n in this.haveRenderCallbacks=this.haveRenderCallbacks.filter((function(t){return e.hasImage(t)})),e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}},{key:"patchUpdatedImage",value:function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=f(e.tl,2),i=r[0],a=r[1];n.update(t.data,void 0,{x:i,y:a})}}}]),e}();ea(vh,"ImagePosition"),ea(yh,"ImageAtlas");var gh={horizontal:1,vertical:2,horizontalOnly:3},_h=function(){function e(){d(this,e),this.scale=1,this.fontStack="",this.imageName=null}return p(e,null,[{key:"forText",value:function(t,n){var r=new e;return r.scale=t||1,r.fontStack=n,r}},{key:"forImage",value:function(t){var n=new e;return n.imageName=t,n}}]),e}(),xh=function(){function e(){d(this,e),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return p(e,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(e){return this.sections[this.sectionIndex[e]]}},{key:"getSections",value:function(){return this.sections}},{key:"getSectionIndex",value:function(e){return this.sectionIndex[e]}},{key:"getCharCode",value:function(e){return this.text.charCodeAt(e)}},{key:"verticalizePunctuation",value:function(e){this.text=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charCodeAt(r+1)||null,a=e.charCodeAt(r-1)||null;n+=!t&&(i&&Ba(i)&&!Zf[e[r+1]]||a&&Ba(a)&&!Zf[e[r-1]])||!Zf[e[r]]?e[r]:Zf[e[r]]}return n}(this.text,e)}},{key:"trim",value:function(){for(var e=0,t=0;t<this.text.length&&wh[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&wh[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)}},{key:"substring",value:function(t,n){var r=new e;return r.text=this.text.substring(t,n),r.sectionIndex=this.sectionIndex.slice(t,n),r.sections=this.sections,r}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)}},{key:"addTextSection",value:function(e,t){this.text+=e.text,this.sections.push(_h.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)}},{key:"addImageSection",value:function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(_h.forImage(t)),this.sectionIndex.push(this.sections.length-1)):te("Reached maximum number of images 6401")}else te("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(t,n){for(var r=new e,i=0;i<t.sections.length;i++){var a=t.sections[i];a.image?r.addImageSection(a):r.addTextSection(a,n)}return r}}]),e}();function bh(e,t,n,r,i,a,o,s,l,u,c,f,d,p,m,v){var y,g=xh.fromFeature(e,i);f===gh.vertical&&g.verticalizePunctuation(d);var _=$a.processBidirectionalText,x=$a.processStyledBidirectionalText;if(_&&1===g.sections.length){y=[];var b,w=_(g.toString(),Mh(g,u,a,t,r,p,m)),k=h(w);try{for(k.s();!(b=k.n()).done;){var C=b.value,E=new xh;E.text=C,E.sections=g.sections;for(var S=0;S<C.length;S++)E.sectionIndex.push(0);y.push(E)}}catch(O){k.e(O)}finally{k.f()}}else if(x){y=[];var T,A=x(g.text,g.sectionIndex,Mh(g,u,a,t,r,p,m)),M=h(A);try{for(M.s();!(T=M.n()).done;){var I=T.value,P=new xh;P.text=I[0],P.sectionIndex=I[1],P.sections=g.sections,y.push(P)}}catch(O){M.e(O)}finally{M.f()}}else y=function(e,t){var n,r=[],i=e.text,a=0,o=h(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.push(e.substring(a,s)),a=s}}catch(O){o.e(O)}finally{o.f()}return a<i.length&&r.push(e.substring(a,i.length)),r}(g,Mh(g,u,a,t,r,p,m));var L=[],z={positionedLines:L,text:g.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:f,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,n,r,i,a,o,s,l,u,c,f){var d,p=0,m=0,v=0,y="right"===s?1:"left"===s?0:.5,g=!1,_=h(i);try{for(_.s();!(d=_.n()).done;){var x,b=d.value.getSections(),w=h(b);try{for(w.s();!(x=w.n()).done;){var k=x.value;if(!k.imageName){var C=t[k.fontStack];if(C&&!(g=void 0!==C.ascender&&void 0!==C.descender))break}}}catch(O){w.e(O)}finally{w.f()}if(!g)break}}catch(O){_.e(O)}finally{_.f()}var E,S,T=0,A=h(i);try{for(A.s();!(E=A.n()).done;){var M=E.value;M.trim();var I=M.getMaxScale(),P=(I-1)*Of,L={positionedGlyphs:[],lineOffset:0};e.positionedLines[T]=L;var z=L.positionedGlyphs,D=0;if(M.length()){for(var R=0,F=0,B=0;B<M.length();B++){var j=M.getSection(B),U=M.getSectionIndex(B),Z=M.getCharCode(B),N=j.scale,V=null,G=null,q=null,W=Of,H=0,X=!(l===gh.horizontal||!c&&!Fa(Z)||c&&(wh[Z]||(S=Z,sa(S)||la(S)||ua(S)||Aa(S)||La(S))));if(j.imageName){var Y=r[j.imageName];if(!Y)continue;q=j.imageName,e.iconsInText=e.iconsInText||!0,G=Y.paddedRect;var K=Y.displaySize;N=N*Of/f,V={width:K[0],height:K[1],left:1,top:-3,advance:X?K[1]:K[0],localGlyph:!1},H=g?-V.height*N:I*Of-17-K[1]*N,W=V.advance;var Q=(X?K[0]:K[1])*N-Of*I;Q>0&&Q>D&&(D=Q)}else{var J=n[j.fontStack];if(!J)continue;J[Z]&&(G=J[Z]);var $=t[j.fontStack];if(!$)continue;var ee=$.glyphs[Z];if(!ee)continue;if(V=ee.metrics,W=8203!==Z?Of:0,g){var te=void 0!==$.ascender?Math.abs($.ascender):0,ne=void 0!==$.descender?Math.abs($.descender):0,re=(te+ne)*N;R<re&&(R=re,F=(te-ne)/2*N),H=-te*N}else H=(I-N)*Of-17}X?(e.verticalizable=!0,z.push({glyph:Z,imageName:q,x:p,y:m+H,vertical:X,scale:N,localGlyph:V.localGlyph,fontStack:j.fontStack,sectionIndex:U,metrics:V,rect:G}),p+=W*N+u):(z.push({glyph:Z,imageName:q,x:p,y:m+H,vertical:X,scale:N,localGlyph:V.localGlyph,fontStack:j.fontStack,sectionIndex:U,metrics:V,rect:G}),p+=V.advance*N+u)}0!==z.length&&(v=Math.max(p-u,v),g?Ph(z,y,D,F,a*I/2):Ph(z,y,D,0,a/2)),p=0;var ie=a*I+D;L.lineOffset=Math.max(D,P),m+=ie,++T}else m+=a,++T}}catch(O){A.e(O)}finally{A.f()}var ae=m,oe=Ih(o),se=oe.horizontalAlign,le=oe.verticalAlign;(function(e,t,n,r,i,a){var o,s=(t-n)*i,l=-a*r,u=h(e);try{for(u.s();!(o=u.n()).done;){var c,f=o.value,d=h(f.positionedGlyphs);try{for(d.s();!(c=d.n()).done;){var p=c.value;p.x+=s,p.y+=l}}catch(O){d.e(O)}finally{d.f()}}}catch(O){u.e(O)}finally{u.f()}})(e.positionedLines,y,se,le,v,ae),e.top+=-le*ae,e.bottom=e.top+ae,e.left+=-se*v,e.right=e.left+v,e.hasBaseline=g}(z,t,n,r,y,o,s,l,f,u,d,v),!function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;)if(0!==t.value.positionedGlyphs.length)return!1}catch(O){n.e(O)}finally{n.f()}return!0}(L)&&z}var wh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},kh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Ch(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*Of/a+i:0}var s=n[t.fontStack],l=s&&s.glyphs[e];return l?l.metrics.advance*t.scale+i:0}function Eh(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Sh(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Th(e,t,n,r,i,a){var o,s=null,l=Eh(t,n,i,a),u=h(r);try{for(u.s();!(o=u.n()).done;){var c=o.value,f=Eh(t-c.x,n,i,a)+c.badness;f<=l&&(s=c,l=f)}}catch(d){u.e(d)}finally{u.f()}return{index:e,x:t,priorBreak:s,badness:l}}function Ah(e){return e?Ah(e.priorBreak).concat(e.index):[]}function Mh(e,t,n,r,i,a,o){if("point"!==a)return[];if(!e)return[];for(var s,l=[],u=function(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var l=e.getSection(s);o+=Ch(e.getCharCode(s),l,r,i,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,i,o),c=e.text.indexOf("\u200b")>=0,f=0,h=0;h<e.length();h++){var d=e.getSection(h),p=e.getCharCode(h);if(wh[p]||(f+=Ch(p,d,r,i,t,o)),h<e.length()-1){var m=!((s=p)<11904||!(ya(s)||va(s)||Ia(s)||Ta(s)||ba(s)||ca(s)||ga(s)||da(s)||wa(s)||ka(s)||xa(s)||za(s)||pa(s)||ha(s)||fa(s)||_a(s)||ma(s)||Ma(s)||Ea(s)||Ca(s)));(kh[p]||m||d.imageName)&&l.push(Th(h+1,f,u,l,Sh(p,e.getCharCode(h+1),m&&c),!1))}}return Ah(Th(e.length(),f,u,l,0,!0))}function Ih(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Ph(e,t,n,r,i){if(t||n||r||i)for(var a=e.length-1,o=e[a],s=(o.x+o.metrics.advance*o.scale)*t,l=0;l<=a;l++)e[l].x-=s,e[l].y+=n+r+i}function Lh(e,t,n){var r=Ih(n),i=r.horizontalAlign,a=r.verticalAlign,o=t[0]-e.displaySize[0]*i,s=t[1]-e.displaySize[1]*a;return{image:e,top:s,bottom:s+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function zh(e,t,n,r,i,a){var o,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;o=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,f,h,d,p=t.left*a,m=t.right*a;"width"===n||"both"===n?(d=i[0]+p-r[3],f=i[0]+m+r[1]):f=(d=i[0]+(p+m-s.displaySize[0])/2)+s.displaySize[0];var v=t.top*a,y=t.bottom*a;return"height"===n||"both"===n?(c=i[1]+v-r[0],h=i[1]+y+r[2]):h=(c=i[1]+(v+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:f,bottom:h,left:d,collisionPadding:o}}var Oh=function(e){m(n,e);var t=v(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r)).angle=a,s.z=i,void 0!==o&&(s.segment=o),s}return p(n,[{key:"clone",value:function(){return new n(this.x,this.y,this.z,this.angle,this.segment)}}]),n}(A);function Dh(e,t,n,r,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var l=[],u=0;s<n/2;){var c=e[o],f=e[o+1];if(!f)return!1;var h=e[o-1].angleTo(c)-c.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;o++,s+=c.dist(f)}return!0}function Rh(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Fh(e,t,n){return e?.6*t*n:0}function Bh(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function jh(e,t,n,r,i,a){for(var o=Fh(n,i,a),s=Bh(n,r)*a,l=0,u=Rh(e)/2,c=0;c<e.length-1;c++){var f=e[c],h=e[c+1],d=f.dist(h);if(l+d>u){var p=(u-l)/d,m=Zn(f.x,h.x,p),v=Zn(f.y,h.y,p),y=new Oh(m,v,0,h.angleTo(f),c);return!o||Dh(e,y,s,o,t)?y:void 0}l+=d}}function Uh(e,t,n,r,i,a,o,s,l){var u=Fh(r,a,o),c=Bh(r,i),f=c*o,h=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-f<t/4&&(t=f+t/4),Zh(e,h?t/2*s%t:(c/2+2*a)*o*s%t,t,u,n,f,h,!1,l)}function Zh(e,t,n,r,i,a,o,s,l){for(var u=a/2,c=Rh(e),f=0,h=t-n,d=[],p=0;p<e.length-1;p++){for(var m=e[p],v=e[p+1],y=m.dist(v),g=v.angleTo(m);h+n<f+y;){var _=((h+=n)-f)/y,x=Zn(m.x,v.x,_),b=Zn(m.y,v.y,_);if(x>=0&&x<l&&b>=0&&b<l&&h-u>=0&&h+u<=c){var w=new Oh(x,b,0,g,p);w._round(),r&&!Dh(e,w,a,r,i)||d.push(w)}}f+=y}return s||d.length||o||(d=Zh(e,f/2,n,r,i,a,o,!0,l)),d}function Nh(e,t,n,r,i){for(var a=[],o=0;o<e.length;o++)for(var s=e[o],l=void 0,u=0;u<s.length-1;u++){var c=s[u],f=s[u+1];c.x<t&&f.x<t||(c.x<t?c=new A(t,c.y+(t-c.x)/(f.x-c.x)*(f.y-c.y))._round():f.x<t&&(f=new A(t,c.y+(t-c.x)/(f.x-c.x)*(f.y-c.y))._round()),c.y<n&&f.y<n||(c.y<n?c=new A(c.x+(n-c.y)/(f.y-c.y)*(f.x-c.x),n)._round():f.y<n&&(f=new A(c.x+(n-c.y)/(f.y-c.y)*(f.x-c.x),n)._round()),c.x>=r&&f.x>=r||(c.x>=r?c=new A(r,c.y+(r-c.x)/(f.x-c.x)*(f.y-c.y))._round():f.x>=r&&(f=new A(r,c.y+(r-c.x)/(f.x-c.x)*(f.y-c.y))._round()),c.y>=i&&f.y>=i||(c.y>=i?c=new A(c.x+(i-c.y)/(f.y-c.y)*(f.x-c.x),i)._round():f.y>=i&&(f=new A(c.x+(i-c.y)/(f.y-c.y)*(f.x-c.x),i)._round()),l&&c.equals(l[l.length-1])||(l=[c],a.push(l)),l.push(f)))))}return a}ea(Oh,"Anchor");var Vh=1e20;function Gh(e,t,n,r,i,a,o,s,l){for(var u=t;u<t+r;u++)qh(e,n*a+u,a,i,o,s,l);for(var c=n;c<n+i;c++)qh(e,c*a+t,1,r,o,s,l)}function qh(e,t,n,r,i,a,o){a[0]=0,o[0]=-Vh,o[1]=Vh,i[0]=e[t];for(var s=1,l=0,u=0;s<r;s++){i[s]=e[t+s*n];var c=s*s;do{var f=a[l];u=(i[s]-i[f]+c-f*f)/(s-f)/2}while(u<=o[l]&&--l>-1);a[++l]=s,o[l]=u,o[l+1]=Vh}for(var h=0,d=0;h<r;h++){for(;o[d+1]<h;)d++;var p=a[d],m=h-p;e[t+h*n]=i[p]+m*m}}var Wh={none:0,ideographs:1,all:2},Hh=function(){function e(t,n,r){d(this,e),this.requestManager=t,this.localGlyphMode=n,this.localFontFamily=r,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}return p(e,[{key:"setURL",value:function(e){this.url=e}},{key:"getGlyphs",value:function(t,n){var r=this,i=[];for(var a in t){var o,s=h(t[a]);try{for(s.s();!(o=s.n()).done;){var l=o.value;i.push({stack:a,id:l})}}catch(u){s.e(u)}finally{s.f()}}Z(i,(function(t,n){var i=t.stack,a=t.id,o=r.entries[i];o||(o=r.entries[i]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});var s=o.glyphs[a];if(void 0===s){if(s=r._tinySDF(o,i,a))return o.glyphs[a]=s,void n(null,{stack:i,id:a,glyph:s});var l=Math.floor(a/256);if(256*l>65535)n(new Error("glyphs > 65535 not supported"));else if(o.ranges[l])n(null,{stack:i,id:a,glyph:s});else{var c=o.requests[l];c||(c=o.requests[l]=[],e.loadGlyphRange(i,l,r.url,r.requestManager,(function(e,t){if(t){for(var n in o.ascender=t.ascender,o.descender=t.descender,t.glyphs)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t.glyphs[+n]);o.ranges[l]=!0}var i,a=h(c);try{for(a.s();!(i=a.n()).done;)(0,i.value)(e,t)}catch(u){a.e(u)}finally{a.f()}delete o.requests[l]}))),c.push((function(e,t){e?n(e):t&&n(null,{stack:i,id:a,glyph:t.glyphs[a]||null})}))}}else n(null,{stack:i,id:a,glyph:s})}),(function(e,t){if(e)n(e);else if(t){var i,a={},o=h(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.stack,c=s.id,f=s.glyph;void 0===a[l]&&(a[l]={}),void 0===a[l].glyphs&&(a[l].glyphs={}),a[l].glyphs[c]=f&&{id:f.id,bitmap:f.bitmap.clone(),metrics:f.metrics},a[l].ascender=r.entries[l].ascender,a[l].descender=r.entries[l].descender}}catch(u){o.e(u)}finally{o.f()}n(null,a)}}))}},{key:"_doesCharSupportLocalGlyph",value:function(e){return this.localGlyphMode!==Wh.none&&(this.localGlyphMode===Wh.all?!!this.localFontFamily:!!this.localFontFamily&&(ka(e)||Sa(e)||pa(e)||ma(e)||da(e)))}},{key:"_tinySDF",value:function(t,n,r){var i=this.localFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var a=t.tinySDF;if(!a){var o="400";/bold/i.test(n)?o="900":/medium/i.test(n)?o="500":/light/i.test(n)&&(o="200"),(a=t.tinySDF=new e.TinySDF({fontFamily:i,fontWeight:o,fontSize:48,buffer:6,radius:16})).fontWeight=o}if(this.localGlyphs[a.fontWeight][r])return this.localGlyphs[a.fontWeight][r];var s=String.fromCharCode(r),l=a.draw(s),u=l.data,c=l.width,f=l.height,h=l.glyphWidth,d=l.glyphHeight,p=l.glyphLeft,m=l.glyphTop,v=l.glyphAdvance;return this.localGlyphs[a.fontWeight][r]={id:r,bitmap:new Fu({width:c,height:f},u),metrics:{width:h/2,height:d/2,left:p/2,top:m/2-27,advance:v/2,localGlyph:!0}}}}}]),e}();function Xh(e,t,n,r){var i=[],a=e.image,o=a.pixelRatio,s=a.paddedRect.w-2,l=a.paddedRect.h-2,u=e.right-e.left,c=e.bottom-e.top,f=a.stretchX||[[0,s]],h=a.stretchY||[[0,l]],d=function(e,t){return e+t[1]-t[0]},p=f.reduce(d,0),m=h.reduce(d,0),v=s-p,y=l-m,g=0,_=p,x=0,b=m,w=0,k=v,C=0,E=y;if(a.content&&r){var S=a.content;g=Yh(f,0,S[0]),x=Yh(h,0,S[1]),_=Yh(f,S[0],S[2]),b=Yh(h,S[1],S[3]),w=S[0]-g,C=S[1]-x,k=S[2]-S[0]-_,E=S[3]-S[1]-b}var T=function(r,i,s,l){var f=Qh(r.stretch-g,_,u,e.left),h=Jh(r.fixed-w,k,r.stretch,p),d=Qh(i.stretch-x,b,c,e.top),v=Jh(i.fixed-C,E,i.stretch,m),y=Qh(s.stretch-g,_,u,e.left),S=Jh(s.fixed-w,k,s.stretch,p),T=Qh(l.stretch-x,b,c,e.top),M=Jh(l.fixed-C,E,l.stretch,m),I=new A(f,d),P=new A(y,d),L=new A(y,T),z=new A(f,T),O=new A(h/o,v/o),D=new A(S/o,M/o),R=t*Math.PI/180;if(R){var F=Math.sin(R),B=Math.cos(R),j=[B,-F,F,B];I._matMult(j),P._matMult(j),z._matMult(j),L._matMult(j)}var U=r.stretch+r.fixed,Z=i.stretch+i.fixed;return{tl:I,tr:P,bl:z,br:L,tex:{x:a.paddedRect.x+1+U,y:a.paddedRect.y+1+Z,w:s.stretch+s.fixed-U,h:l.stretch+l.fixed-Z},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:O,pixelOffsetBR:D,minFontScaleX:k/o/u,minFontScaleY:E/o/c,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var M=Kh(f,v,p),I=Kh(h,y,m),P=0;P<M.length-1;P++)for(var L=M[P],z=M[P+1],O=0;O<I.length-1;O++)i.push(T(L,I[O],z,I[O+1]));else i.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function Yh(e,t,n){var r,i=0,a=h(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}}catch(s){a.e(s)}finally{a.f()}return i}function Kh(e,t,n){var r,i=[{fixed:-1,stretch:0}],a=h(e);try{for(a.s();!(r=a.n()).done;){var o=f(r.value,2),s=o[0],l=o[1],u=i[i.length-1];i.push({fixed:s-u.stretch,stretch:u.stretch}),i.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}}catch(c){a.e(c)}finally{a.f()}return i.push({fixed:t+1,stretch:n}),i}function Qh(e,t,n,r){return e/t*n+r}function Jh(e,t,n,r){return e-t*n/r}function $h(e,t,n,r){var i=t+e.positionedLines[r].lineOffset;return 0===r?n+i/2:n+(i+(t+e.positionedLines[r-1].lineOffset))/2}Hh.loadGlyphRange=function(e,t,n,r,i){var a=256*t,o=a+255,s=r.transformRequest(r.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}","".concat(a,"-").concat(o)),_e.Glyphs);ke(s,(function(e,t){if(e)i(e);else if(t){var n,r={},a=function(e){return new Gf(e).readFields(hh,{})}(t),o=h(a.glyphs);try{for(o.s();!(n=o.n()).done;){var s=n.value;r[s.id]=s}}catch(l){o.e(l)}finally{o.f()}i(null,{glyphs:r,ascender:a.ascender,descender:a.descender})}}))},Hh.TinySDF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fontSize,r=void 0===n?24:n,i=t.buffer,a=void 0===i?3:i,o=t.radius,s=void 0===o?8:o,l=t.cutoff,u=void 0===l?.25:l,c=t.fontFamily,f=void 0===c?"sans-serif":c,h=t.fontWeight,p=void 0===h?"normal":h,m=t.fontStyle,v=void 0===m?"normal":m;d(this,e),this.buffer=a,this.cutoff=u,this.radius=s;var y=this.size=r+4*a,g=this._createCanvas(y),_=this.ctx=g.getContext("2d",{willReadFrequently:!0});_.font="".concat(v," ").concat(p," ").concat(r,"px ").concat(f),_.textBaseline="alphabetic",_.textAlign="left",_.fillStyle="black",this.gridOuter=new Float64Array(y*y),this.gridInner=new Float64Array(y*y),this.f=new Float64Array(y),this.z=new Float64Array(y+1),this.v=new Uint16Array(y)}return p(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),n=t.width,r=t.actualBoundingBoxAscent,i=t.actualBoundingBoxDescent,a=t.actualBoundingBoxLeft,o=t.actualBoundingBoxRight,s=Math.ceil(r),l=Math.min(this.size-this.buffer,Math.ceil(o-a)),u=Math.min(this.size-this.buffer,s+Math.ceil(i)),c=l+2*this.buffer,f=u+2*this.buffer,h=Math.max(c*f,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:f,glyphWidth:l,glyphHeight:u,glyphTop:s,glyphLeft:0,glyphAdvance:n};if(0===l||0===u)return p;var m=this.ctx,v=this.buffer,y=this.gridInner,g=this.gridOuter;m.clearRect(v,v,l,u),m.fillText(e,v,v+s);var _=m.getImageData(v,v,l,u);g.fill(Vh,0,h),y.fill(0,0,h);for(var x=0;x<u;x++)for(var b=0;b<l;b++){var w=_.data[4*(x*l+b)+3]/255;if(0!==w){var k=(x+v)*c+b+v;if(1===w)g[k]=0,y[k]=Vh;else{var C=.5-w;g[k]=C>0?C*C:0,y[k]=C<0?C*C:0}}}Gh(g,0,0,c,f,c,this.f,this.v,this.z),Gh(y,v,v,l,u,c,this.f,this.v,this.z);for(var E=0;E<h;E++){var S=Math.sqrt(g[E])-Math.sqrt(y[E]);d[E]=Math.round(255-255*(S/this.radius+this.cutoff))}return p}}]),e}();var ed=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:td;if(d(this,e),this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}return p(e,[{key:"push",value:function(e){this.data.push(e),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r}},{key:"_down",value:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i}}]),e}();function td(e,t){return e<t?-1:e>t?1:0}function nd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1/0,i=1/0,a=-1/0,o=-1/0,s=e[0],l=0;l<s.length;l++){var u=s[l];(!l||u.x<r)&&(r=u.x),(!l||u.y<i)&&(i=u.y),(!l||u.x>a)&&(a=u.x),(!l||u.y>o)&&(o=u.y)}var c=Math.min(a-r,o-i),f=c/2,h=new ed([],rd);if(0===c)return new A(r,i);for(var d=r;d<a;d+=c)for(var p=i;p<o;p+=c)h.push(new id(d+f,p+f,f,e));for(var m=function(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var l=i[a],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,t+=3*c}return new id(n/t,r/t,0,e)}(e),v=h.length;h.length;){var y=h.pop();(y.d>m.d||!m.d)&&(m=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,v)),y.max-m.d<=t||(f=y.h/2,h.push(new id(y.p.x-f,y.p.y-f,f,e)),h.push(new id(y.p.x+f,y.p.y-f,f,e)),h.push(new id(y.p.x-f,y.p.y+f,f,e)),h.push(new id(y.p.x+f,y.p.y+f,f,e)),v+=4)}return n&&(console.log("num probes: ".concat(v)),console.log("best distance: ".concat(m.d))),m.p}function rd(e,t){return t.max-e.max}function id(e,t,n,r){this.p=new A(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,l=s-1;o<s;l=o++){var u=a[o],c=a[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,El(e,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}var ad=Number.POSITIVE_INFINITY,od=Math.sqrt(2);function sd(e,t){return t[1]!==ad?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/od;switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function ld(e,t,n,r,i,a,o,s,l,u){e.createArrays(),e.tilePixelRatio=qs/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var c=e.layers[0].layout,f=e.layers[0]._unevaluatedLayout._values,d={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,m=p.minZoom,v=p.maxZoom;d.compositeTextSizes=[f["text-size"].possiblyEvaluate(new eo(m),s),f["text-size"].possiblyEvaluate(new eo(v),s)]}if("composite"===e.iconSizeData.kind){var y=e.iconSizeData,g=y.minZoom,_=y.maxZoom;d.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new eo(g),s),f["icon-size"].possiblyEvaluate(new eo(_),s)]}d.layoutTextSize=f["text-size"].possiblyEvaluate(new eo(l+1),s),d.layoutIconSize=f["icon-size"].possiblyEvaluate(new eo(l+1),s),d.textMaxSize=f["text-size"].possiblyEvaluate(new eo(18),s);var x,b="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),w=c.get("text-size"),k=h(e.features);try{var C=function(){var a=x.value,l=c.get("text-font").evaluate(a,{},s).join(","),f=w.evaluate(a,{},s),h=d.layoutTextSize.evaluate(a,{},s),p=(d.layoutIconSize.evaluate(a,{},s),{horizontal:{},vertical:void 0}),m=a.text,v=void 0,y=[0,0];if(m){var g=m.toString(),_=c.get("text-letter-spacing").evaluate(a,{},s)*Of,k=c.get("text-line-height").evaluate(a,{},s)*Of,C=Da(g)?_:0,E=c.get("text-anchor").evaluate(a,{},s),S=c.get("text-variable-anchor");if(!S){var T=c.get("text-radial-offset").evaluate(a,{},s);y=T?sd(E,[T*Of,ad]):c.get("text-offset").evaluate(a,{},s).map((function(e){return e*Of}))}var A=b?"center":c.get("text-justify").evaluate(a,{},s),M=c.get("symbol-placement"),I="point"===M,P="point"===M?c.get("text-max-width").evaluate(a,{},s)*Of:0,L=function(r){e.allowVerticalPlacement&&Oa(g)&&(p.vertical=bh(m,t,n,i,l,P,k,E,r,C,y,gh.vertical,!0,M,h,f))};if(!b&&S){for(var z="auto"===A?S.map((function(e){return ud(e)})):[A],O=!1,D=0;D<z.length;D++){var R=z[D];if(!p.horizontal[R])if(O)p.horizontal[R]=p.horizontal[0];else{var F=bh(m,t,n,i,l,P,k,"center",R,C,y,gh.horizontal,!1,M,h,f);F&&(p.horizontal[R]=F,O=1===F.positionedLines.length)}}L("left")}else{if("auto"===A&&(A=ud(E)),I||c.get("text-writing-mode").indexOf("horizontal")>=0||!Oa(g)){var B=bh(m,t,n,i,l,P,k,E,A,C,y,gh.horizontal,!1,M,h,f);B&&(p.horizontal[A]=B)}L("point"===M?"left":A)}}var j=!1;if(a.icon&&a.icon.name){var U=r[a.icon.name];U&&(v=Lh(i[a.icon.name],c.get("icon-offset").evaluate(a,{},s),c.get("icon-anchor").evaluate(a,{},s)),j=U.sdf,void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&te("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==e.pixelRatio||0!==c.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var Z=dd(p.horizontal)||p.vertical;e.iconsInText||(e.iconsInText=!!Z&&Z.iconsInText),(Z||v)&&cd(e,a,p,v,r,d,h,0,y,j,o,s,u)};for(k.s();!(x=k.n()).done;)C()}catch(E){k.e(E)}finally{k.f()}a&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function ud(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function cd(e,t,n,r,i,a,o,s,l,u,c,d,p){var m=a.textMaxSize.evaluate(t,{},d);void 0===m&&(m=o);var v,y,g=e.layers[0].layout,_=g.get("icon-offset").evaluate(t,{},d),x=dd(n.horizontal)||n.vertical,b="globe"===p.name,w=o/24,k=e.tilePixelRatio*m/24,C=(v=e.overscaling,e.zoom>18&&v>2&&(v>>=1),Math.max(qs/(512*v),1)*g.get("symbol-spacing")),E=g.get("text-padding")*e.tilePixelRatio,S=g.get("icon-padding")*e.tilePixelRatio,T=L(g.get("text-max-angle")),A="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement"),M="map"===g.get("icon-rotation-alignment")&&"point"!==g.get("symbol-placement"),I=g.get("symbol-placement"),P=C/2,z=g.get("icon-text-fit");r&&"none"!==z&&(e.allowVerticalPlacement&&n.vertical&&(y=zh(r,n.vertical,z,g.get("icon-text-fit-padding"),_,w)),x&&(r=zh(r,x,z,g.get("icon-text-fit-padding"),_,w)));var O=function(o,s,h){if(!(s.x<0||s.x>=qs||s.y<0||s.y>=qs)){var m=null;if(b){var v=p.projectTilePoint(s.x,s.y,h),g=v.x,x=v.y,w=v.z;m={anchor:new Oh(g,x,w,0,void 0),up:p.upVector(h,s.x,s.y)}}!function(e,t,n,r,i,a,o,s,l,u,c,h,d,p,m,v,y,g,_,x,b,w,k,C,E){var S,T,A,M,I,P,L,z,O,D=e.addToLineVertexArray(t,r),R=0,F=0,B=0,j=0,U=-1,Z=-1,N={},V=fs.exports(""),G=n?n.anchor:t,q=0,W=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?(S=l.layout.get("text-offset").evaluate(b,{},E).map((function(e){return e*Of})),q=(T=f(S,2))[0],W=T[1]):(q=l.layout.get("text-radial-offset").evaluate(b,{},E)*Of,W=ad),e.allowVerticalPlacement&&i.vertical){var H=i.vertical;if(m)z=md(H),s&&(O=md(s));else{var X=l.layout.get("text-rotate").evaluate(b,{},E)+90;I=pd(u,G,t,c,h,d,H,p,X,v),s&&(P=pd(u,G,t,c,h,d,s,g,X))}}if(a){var Y=l.layout.get("icon-rotate").evaluate(b,{},E),K="none"!==l.layout.get("icon-text-fit"),Q=Xh(a,Y,k,K),J=s?Xh(s,Y,k,K):void 0;M=pd(u,G,t,c,h,d,a,g,Y),R=4*Q.length;var $=e.iconSizeData,ee=null;"source"===$.kind?(ee=[Df*l.layout.get("icon-size").evaluate(b,{},E)])[0]>fd&&te("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===$.kind&&((ee=[Df*w.compositeIconSizes[0].evaluate(b,{},E),Df*w.compositeIconSizes[1].evaluate(b,{},E)])[0]>fd||ee[1]>fd)&&te("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,Q,ee,x,_,b,!1,n,t,D.lineStartIndex,D.lineLength,-1,C,E),U=e.icon.placedSymbolArray.length-1,J&&(F=4*J.length,e.addSymbols(e.icon,J,ee,x,_,b,gh.vertical,n,t,D.lineStartIndex,D.lineLength,-1,C,E),Z=e.icon.placedSymbolArray.length-1)}for(var ne in i.horizontal){var re=i.horizontal[ne];A||(V=fs.exports(re.text),m?L=md(re):A=pd(u,G,t,c,h,d,re,p,l.layout.get("text-rotate").evaluate(b,{},E),v));var ie=1===re.positionedLines.length;if(B+=hd(e,n,t,re,o,l,m,b,v,D,i.vertical?gh.horizontal:gh.horizontalOnly,ie?Object.keys(i.horizontal):[ne],N,U,w,C,E),ie)break}i.vertical&&(j+=hd(e,n,t,i.vertical,o,l,m,b,v,D,gh.vertical,["vertical"],N,Z,w,C,E));var ae=-1,oe=function(e,t){return e?Math.max(e,t):t};ae=oe(L,ae),ae=oe(z,ae);var se=(ae=oe(O,ae))>-1?1:0;e.glyphOffsetArray.length>=Tp.MAX_GLYPHS&&te("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(G.x,G.y,G.z,t.x,t.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical>=0?N.vertical:-1,U,Z,V,void 0!==A?A:e.collisionBoxArray.length,void 0!==A?A+1:e.collisionBoxArray.length,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,P||e.collisionBoxArray.length,P?P+1:e.collisionBoxArray.length,c,B,j,R,F,se,0,q,W,ae)}(e,s,m,o,n,r,i,y,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,E,A,l,0,S,M,_,t,a,u,c,d)}};if("line"===I){var D,R=h(Nh(t.geometry,0,0,qs,qs));try{for(R.s();!(D=R.n()).done;){var F,B=D.value,j=Uh(B,C,T,n.vertical||x,r,24,k,e.overscaling,qs),U=h(j);try{for(U.s();!(F=U.n()).done;){var Z=F.value;x&&vd(e,x.text,P,Z)||O(B,Z,d)}}catch(oe){U.e(oe)}finally{U.f()}}}catch(oe){R.e(oe)}finally{R.f()}}else if("line-center"===I){var N,V=h(t.geometry);try{for(V.s();!(N=V.n()).done;){var G=N.value;if(G.length>1){var q=jh(G,T,n.vertical||x,r,24,k);q&&O(G,q,d)}}}catch(oe){V.e(oe)}finally{V.f()}}else if("Polygon"===t.type){var W,H=h(xc(t.geometry,0));try{for(H.s();!(W=H.n()).done;){var X=W.value,Y=nd(X,16);O(X[0],new Oh(Y.x,Y.y,0,0,void 0),d)}}catch(oe){H.e(oe)}finally{H.f()}}else if("LineString"===t.type){var K,Q=h(t.geometry);try{for(Q.s();!(K=Q.n()).done;){var J=K.value;O(J,new Oh(J[0].x,J[0].y,0,0,void 0),d)}}catch(oe){Q.e(oe)}finally{Q.f()}}else if("Point"===t.type){var $,ee=h(t.geometry);try{for(ee.s();!($=ee.n()).done;){var ne,re=$.value,ie=h(re);try{for(ie.s();!(ne=ie.n()).done;){var ae=ne.value;O([ae],new Oh(ae.x,ae.y,0,0,void 0),d)}}catch(oe){ie.e(oe)}finally{ie.f()}}}catch(oe){ee.e(oe)}finally{ee.f()}}}var fd=32640;function hd(e,t,n,r,i,o,s,l,u,f,d,p,m,v,y,g,_){var x=function(e,t,n,r,i,o,s,l){var u=[];if(0===t.positionedLines.length)return u;var f,d=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,p=function(e){var t=e[0],n=e[1],r=t*n;return r>0?[t,-n]:r<0?[-t,n]:0===t?[n,t]:[n,-t]}(n),m=Math.abs(t.top-t.bottom),v=h(t.positionedLines);try{for(v.s();!(f=v.n()).done;)m-=f.value.lineOffset}catch(oe){v.e(oe)}finally{v.f()}for(var y=t.positionedLines.length,g=m/y,_=t.top-n[1],x=0;x<y;++x){var b=t.positionedLines[x];_=$h(t,g,_,x);var w,k=h(b.positionedGlyphs);try{for(k.s();!(w=k.n()).done;){var C=w.value;if(C.rect){var E=C.rect||{},S=4,T=!0,M=1,I=0;if(C.imageName){var P=s[C.imageName];if(!P)continue;if(P.sdf){te("SDF images are not supported in formatted text and will be ignored.");continue}T=!1,S=1/(M=P.pixelRatio)}var L=(i||l)&&C.vertical,z=C.metrics.advance*C.scale/2,O=C.metrics,D=C.rect;if(null!==D){l&&t.verticalizable&&(I=C.imageName?z-C.metrics.width*C.scale/2:0);var R=i?[C.x+z,C.y]:[0,0],F=[0,0],B=[0,0],j=!1;i||(L?(B=[C.x+z+p[0],C.y+p[1]-I],j=!0):F=[C.x+z+n[0],C.y+n[1]-I]);var U=D.w*C.scale/(M*(C.localGlyph?2:1)),Z=D.h*C.scale/(M*(C.localGlyph?2:1)),N=void 0,V=void 0,G=void 0,q=void 0;if(L){var W=C.y-_,H=new A(-z,z-W),X=-Math.PI/2,Y=a(A,c(B));(N=new A(-z+F[0],F[1]))._rotateAround(X,H)._add(Y),N.x+=-W+z,N.y-=(O.left-S)*C.scale;var K=C.imageName?O.advance*C.scale:Of*C.scale,Q=String.fromCharCode(C.glyph);Nf(Q)?N.x+=(1-S)*C.scale:Vf(Q)?N.x+=K-O.height*C.scale+(-S-1)*C.scale:N.x+=C.imageName||O.width+2*S===D.w&&O.height+2*S===D.h?(K-Z)/2:(K-(O.height+2*S)*C.scale)/2,V=new A(N.x,N.y-U),G=new A(N.x+Z,N.y),q=new A(N.x+Z,N.y-U)}else{var J=(O.left-S)*C.scale-z+F[0],$=(-O.top-S)*C.scale+F[1],ee=J+U,ne=$+Z;N=new A(J,$),V=new A(ee,$),G=new A(J,ne),q=new A(ee,ne)}if(d){var re=void 0;re=i?new A(0,0):j?new A(p[0],p[1]):new A(n[0],n[1]),N._rotateAround(d,re),V._rotateAround(d,re),G._rotateAround(d,re),q._rotateAround(d,re)}var ie=new A(0,0),ae=new A(0,0);u.push({tl:N,tr:V,bl:G,br:q,tex:E,writingMode:t.writingMode,glyphOffset:R,sectionIndex:C.sectionIndex,isSDF:T,pixelOffsetTL:ie,pixelOffsetBR:ae,minFontScaleX:0,minFontScaleY:0})}}}}catch(oe){k.e(oe)}finally{k.f()}}return u}(0,r,u,o,s,l,i,e.allowVerticalPlacement),b=e.textSizeData,w=null;"source"===b.kind?(w=[Df*o.layout.get("text-size").evaluate(l,{},_)])[0]>fd&&te("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===b.kind&&((w=[Df*y.compositeTextSizes[0].evaluate(l,{},_),Df*y.compositeTextSizes[1].evaluate(l,{},_)])[0]>fd||w[1]>fd)&&te("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,x,w,u,s,l,d,t,n,f.lineStartIndex,f.lineLength,v,g,_);var k,C=h(p);try{for(C.s();!(k=C.n()).done;)m[k.value]=e.text.placedSymbolArray.length-1}catch(E){C.e(E)}finally{C.f()}return 4*x.length}function dd(e){for(var t in e)return e[t];return null}function pd(e,t,n,r,i,a,o,s,l,u){var c=o.top,f=o.bottom,h=o.left,d=o.right,p=o.collisionPadding;if(p&&(h-=p[0],c-=p[1],d+=p[2],f+=p[3]),l){var m=new A(h,c),v=new A(d,c),y=new A(h,f),g=new A(d,f),_=L(l),x=new A(0,0);u&&(x=new A(u[0],u[1])),m._rotateAround(_,x),v._rotateAround(_,x),y._rotateAround(_,x),g._rotateAround(_,x),h=Math.min(m.x,v.x,y.x,g.x),d=Math.max(m.x,v.x,y.x,g.x),c=Math.min(m.y,v.y,y.y,g.y),f=Math.max(m.y,v.y,y.y,g.y)}return e.emplaceBack(t.x,t.y,t.z,n.x,n.y,h,c,d,f,s,r,i,a),e.length-1}function md(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);var t=e.bottom-e.top;return t>0?Math.max(10,t):null}function vd(e,t,n,r){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0}else i[t]=[];return i[t].push(r),!1}var yd=xo([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]).members,gd=xo([{name:"a_pos_3",components:3,type:"Int16"}]),_d=xo([{name:"a_pos",type:"Int16",components:2}]),xd=qs/Math.PI/2,bd=2*$s(1,0)*xd*Math.PI,wd=64,kd=[wd,32,16],Cd=-xd,Ed=xd,Sd=[new Tu([Cd,Cd,Cd],[Ed,Ed,Ed]),new Tu([Cd,Cd,Cd],[0,0,Ed]),new Tu([0,Cd,Cd],[Ed,0,Ed]),new Tu([Cd,0,Cd],[0,Ed,Ed]),new Tu([0,0,Cd],[Ed,Ed,Ed])];function Td(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=au([],e._camera.position,e.worldSize),a=[t,n,1,1];gu(a,a,e.pixelMatrixInverse),vu(a,a,1/a[3]);var o=su([],du([],a,i)),s=e.globeMatrix,l=[s[12],s[13],s[14]],u=du([],l,i),c=Jl(u),f=su([],u),h=e.worldSize/(2*Math.PI),d=lu(f,o),p=Math.asin(h/c);if(p<Math.acos(d)){if(!r)return null;var m=[],v=[];au(m,o,c/d),su(v,du(v,m,u)),su(o,eu(o,u,au(o,v,Math.tan(p)*c)))}var y=[];new Cu(i,o).closestPointOnSphere(l,h,y);var g=su([],ue(s,0)),_=su([],ue(s,1)),x=su([],ue(s,2)),b=lu(g,y),w=lu(_,y),k=lu(x,y),C=z(Math.asin(-w/h)),E=z(Math.atan2(b,k));E=e.center.lng+function(e,t){var n=(t-e+180)%360-180;return n<-180?n+360:n}(e.center.lng,E);var S=Qs(E),T=B(Js(C),0,1);return new al(S,T)}var Ad=p((function e(t,n,r){d(this,e),this.a=du([],t,r),this.b=du([],n,r),this.center=r;var i=su([],this.a),a=su([],this.b);this.angle=Math.acos(lu(i,a))}));function Md(e,t){return 0===e.angle||(n=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)))<0||n>1?null:function(e,t,n,r){var i=Math.sin(n);return e*(Math.sin((1-r)*n)/i)+t*(Math.sin(r*n)/i)}(e.a[t],e.b[t],e.angle,B(n,0,1))+e.center[t];var n}function Id(e){if(e.z<=1)return Sd[e.z+2*e.y+e.x];var t=Rd(Dd(e));return Tu.fromPoints(t)}function Pd(e,t,n){return au(e,e,1-n),ou(e,e,t,n)}function Ld(e,t){var n=qd(t.zoom);if(0===n)return Id(e);var r=Dd(e),i=Rd(r),a=Qs(r.getWest())*t.worldSize,o=Qs(r.getEast())*t.worldSize,s=Js(r.getNorth())*t.worldSize,l=Js(r.getSouth())*t.worldSize,u=[a,s,0],c=[o,s,0],f=[a,l,0],h=[o,l,0],d=Zl([],t.globeMatrix);return cu(u,u,d),cu(c,c,d),cu(f,f,d),cu(h,h,d),i[0]=Pd(i[0],f,n),i[1]=Pd(i[1],h,n),i[2]=Pd(i[2],c,n),i[3]=Pd(i[3],u,n),Tu.fromPoints(i)}function zd(e,t,n){var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;cu(a,a,t),au(a,a,n)}}catch(o){i.e(o)}finally{i.f()}}function Od(e,t,n){var r=t/e.worldSize,i=e.globeMatrix;if(n.z<=1){var a=Id(n).getCorners();return zd(a,i,r),Tu.fromPoints(a)}var o=Dd(n),s=Rd(o);zd(s,i,r);var l=Number.MAX_VALUE,u=[-l,-l,-l],c=[l,l,l];if(o.contains(e.center)){var f,d=h(s);try{for(d.s();!(f=d.n()).done;){var p=f.value;ru(c,c,p),iu(u,u,p)}}catch(j){d.e(j)}finally{d.f()}u[2]=0;var m=e.point,v=[m.x*r,m.y*r,0];return ru(c,c,v),iu(u,u,v),new Tu(c,u)}var y=[i[12]*r,i[13]*r,i[14]*r],g=o.getCenter(),_=B(e.center.lat,-85.051129,rl),x=B(g.lat,-85.051129,rl),b=Qs(e.center.lng),w=Js(_),k=b-Qs(g.lng),C=w-Js(x);k>.5?k-=1:k<-.5&&(k+=1);var E=0;Math.abs(k)>Math.abs(C)?E=k>=0?1:3:(E=C>=0?0:2,ou(y,y,[i[4]*r,i[5]*r,i[6]*r],-Math.sin(L(C>=0?o.getSouth():o.getNorth()))*xd));var S=s[E],T=s[(E+1)%4],A=new Ad(S,T,y),M=[Md(A,0)||S[0],Md(A,1)||S[1],Md(A,2)||S[2]],I=qd(e.zoom);if(I>0){for(var P=function(e,t,n,r,i){var a=e.x,o=e.y,s=1/(1<<e.z),l=a*s,u=l+s,c=o*s,f=c+s,h=0,d=(l+u)/2-r;return d>.5?h=-1:d<-.5&&(h=1),c=(c*t-(i*=t))*n+i,[[l=((l+h)*t-(r*=t))*n+r,f=(f*t-i)*n+i,0],[u=((u+h)*t-r)*n+r,f,0],[u,c,0],[l,c,0]]}(n,t,e._pixelsPerMercatorPixel,b,w),z=0;z<s.length;z++)Pd(s[z],P[z],I);var O=eu([],P[E],P[(E+1)%4]);au(O,O,.5),Pd(M,O,I)}var D,R=h(s);try{for(R.s();!(D=R.n()).done;){var F=D.value;ru(c,c,F),iu(u,u,F)}}catch(j){R.e(j)}finally{R.f()}return c[2]=Math.min(S[2],T[2]),ru(c,c,M),iu(u,u,M),new Tu(c,u)}function Dd(e){var t=e.x,n=e.y,r=1/(1<<e.z),i=new Xs(el(t*r),tl((n+1)*r)),a=new Xs(el((t+1)*r),tl(n*r));return new Ws(i,a)}function Rd(e){var t=L(e.getNorth()),n=L(e.getSouth()),r=Math.cos(t),i=Math.cos(n),a=Math.sin(t),o=Math.sin(n),s=e.getWest(),l=e.getEast();return[Fd(i,o,s),Fd(i,o,l),Fd(r,a,l),Fd(r,a,s)]}function Fd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xd;return n=L(n),[e*Math.sin(n)*r,-t*r,e*Math.cos(n)*r]}function Bd(e,t,n){return Fd(Math.cos(L(e)),Math.sin(L(e)),t,n)}function jd(e,t,n,r){var i=1<<n.z,a=(e/qs+n.x)/i;return Bd(tl((t/qs+n.y)/i),el(a),r)}function Ud(e){var t=e.min,n=e.max;return 16383/Math.max(n[0]-t[0],n[1]-t[1],n[2]-t[2])}var Zd=new Float64Array(16);function Nd(e){var t,n,r=Ud(e),i=Hl(Zd,[r,r,r]);return Vl(i,i,((t=[])[0]=-(n=e.min)[0],t[1]=-n[1],t[2]=-n[2],t))}function Vd(e){var t,n,r=(n=e.min,(t=Zd)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t),i=1/Ud(e);return Gl(r,r,[i,i,i])}function Gd(e,t,n,r,i){var a=function(e){var t=qs/(2*Math.PI);return e/(2*Math.PI)/t}(n),o=[e,t,-n/(2*Math.PI)],s=Ul(new Float64Array(16));return Vl(s,s,o),Gl(s,s,[a,a,a]),ql(s,s,L(-i)),Wl(s,s,L(-r)),s}function qd(e){return j(5,6,e)}function Wd(e,t){var n,r,i,a,o,s,l,u,c,f,h=Bd(t.lat,t.lng),d=function(e){var t=Bd(e._center.lat,e._center.lng),n=uu([],$l(0,1,0),t),r=Xl([],-e.angle,t);n=cu(n,n,r),Xl(r,-e._pitch,n);var i=su([],t);return au(i,i,e.cameraToCenterDistance/e.pixelsPerMeter*bd),cu(i,i,r),eu([],t,i)}(e);return i=(n=tu([],d,h))[0],a=n[1],o=n[2],s=(r=h)[0],l=r[1],u=r[2],f=(c=Math.sqrt(i*i+a*a+o*o)*Math.sqrt(s*s+l*l+u*u))&&lu(n,r)/c,Math.acos(Math.min(Math.max(f,-1),1))}var Hd=L(85),Xd=Math.cos(Hd),Yd=Math.sin(Hd);function Kd(e,t){var n=e.fovAboveCenter,r=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,i=(e._camera.position[2]*e.worldSize-r)/Math.cos(e._pitch),a=Math.sin(n)*i/Math.sin(Math.max(Math.PI/2-e._pitch-n,.01)),o=Math.sin(e._pitch)*a+i;return Math.min(1.01*o,i*(1/e._horizonShift))}function Qd(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};var n=Math.pow(2,-e.z),r=e.x*n,i=(e.x+1)*n,a=e.y*n,o=(e.y+1)*n,s=el(r),l=el(i),u=tl(a),c=tl(o),f=t.project(s,u),h=t.project(l,u),d=t.project(l,c),p=t.project(s,c),m=Math.min(f.x,h.x,d.x,p.x),v=Math.min(f.y,h.y,d.y,p.y),y=Math.max(f.x,h.x,d.x,p.x),g=Math.max(f.y,h.y,d.y,p.y),_=n/16;function x(e,n,r,i,a,o){var s=(r+a)/2,l=(i+o)/2,u=t.project(el(s),tl(l)),c=Math.max(0,m-u.x,v-u.y,u.x-y,u.y-g);m=Math.min(m,u.x),y=Math.max(y,u.x),v=Math.min(v,u.y),g=Math.max(g,u.y),c>_&&(x(e,u,r,i,s,l),x(u,n,s,l,a,o))}x(f,h,r,a,i,a),x(h,d,i,a,i,o),x(d,p,i,o,r,o),x(p,f,r,o,r,a),m-=_,v-=_,y+=_,g+=_;var b=1/Math.max(y-m,g-v);return{scale:b,x:m*b,y:v*b,x2:y*b,y2:g*b,projection:t}}var Jd=Ul(new Float32Array(16)),$d=function(){function e(t){d(this,e),this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}return p(e,[{key:"project",value:function(e,t){return{x:0,y:0,z:0}}},{key:"unproject",value:function(e,t){return new Xs(0,0)}},{key:"projectTilePoint",value:function(e,t,n){return{x:e,y:t,z:0}}},{key:"locationPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e._coordinatePoint(e.locationCoordinate(t),n)}},{key:"pixelsPerMeter",value:function(e,t){return $s(1,e)*t}},{key:"pixelSpaceConversion",value:function(e,t,n){return 1}},{key:"farthestPixelDistance",value:function(e){return Kd(e,e.pixelsPerMeter)}},{key:"pointCoordinate",value:function(e,t,n,r){var i=e.horizonLineFromTop(!1),a=new A(t,Math.max(i,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(a,r))}},{key:"pointCoordinate3D",value:function(e,t,n){var r=new A(t,n);if(e.elevation)return e.elevation.pointCoordinate(r);var i=this.pointCoordinate(e,r.x,r.y,0);return[i.x,i.y,i.z]}},{key:"isPointAboveHorizon",value:function(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);var n=e.horizonLineFromTop();return t.y<n}},{key:"createInversionMatrix",value:function(e,t){return Jd}},{key:"createTileMatrix",value:function(e,t,n){var r,i,a,o=n.canonical,s=Ul(new Float64Array(16));if(this.isReprojectedInTileSpace){var l=Qd(o,this);r=1,i=l.x+n.wrap*l.scale,a=l.y,Gl(s,s,[r/l.scale,r/l.scale,e.pixelsPerMeter/t])}else r=t/e.zoomScale(o.z),i=(o.x+Math.pow(2,o.z)*n.wrap)*r,a=o.y*r;return Vl(s,s,[i,a,0]),Gl(s,s,[r/qs,r/qs,1]),s}},{key:"upVector",value:function(e,t,n){return[0,0,1]}},{key:"upVectorScale",value:function(e,t,n){return{metersToTile:1}}}]),e}(),ep=function(e){m(n,e);var t=v(n);function n(e){var r;d(this,n),(r=t.call(this,e)).range=[4,7],r.center=e.center||[-96,37.5];var i=r.parallels=e.parallels||[29.5,45.5],a=f(i,2),o=a[0],s=a[1],l=Math.sin(L(o));return r.n=(l+Math.sin(L(s)))/2,r.c=1+l*(2*r.n-l),r.r0=Math.sqrt(r.c)/r.n,r}return p(n,[{key:"project",value:function(e,t){var n=this.n,r=this.c,i=this.r0,a=L(e-this.center[0]),o=L(t),s=Math.sqrt(r-2*n*Math.sin(o))/n;return{x:s*Math.sin(a*n),y:s*Math.cos(a*n)-i,z:0}}},{key:"unproject",value:function(e,t){var n=this.n,r=this.c,i=this.r0+t,a=Math.atan2(e,Math.abs(i))*Math.sign(i);i*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(i));var o=L(this.center[0])*n,s=B(z((a=U(a,-Math.PI-o,Math.PI-o))/n)+this.center[0],-180,180),l=Math.asin(B((r-(e*e+i*i)*n*n)/(2*n),-1,1)),u=B(z(l),-85.051129,rl);return new Xs(s,u)}}]),n}($d),tp=1.340264,np=-.081106,rp=893e-6,ip=.003796,ap=Math.sqrt(3)/2,op=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"project",value:function(e,t){t=t/180*Math.PI,e=e/180*Math.PI;var n=Math.asin(ap*Math.sin(t)),r=n*n,i=r*r*r;return{x:.5*(e*Math.cos(n)/(ap*(tp+3*np*r+i*(7*rp+9*ip*r)))/Math.PI+.5),y:1-.5*(n*(tp+np*r+i*(rp+ip*r))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;for(var n,r=t=(2*(1-t)-1)*Math.PI,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r=B(r-(n=(r*(tp+np*i+a*(rp+ip*i))-t)/(tp+3*np*i+a*(7*rp+9*ip*i))),-Math.PI/3,Math.PI/3))*r)*i*i,!(Math.abs(n)<1e-12));++o);var s=ap*e*(tp+3*np*i+a*(7*rp+9*ip*i))/Math.cos(r),l=Math.asin(Math.sin(r)/ap),u=B(180*s/Math.PI,-180,180),c=B(180*l/Math.PI,-85.051129,rl);return new Xs(u,c)}}]),n}($d),sp=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).wrap=!0,r.supportsWorldCopies=!0,r}return p(n,[{key:"project",value:function(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}},{key:"unproject",value:function(e,t){var n=360*(e-.5),r=B(360*(.5-t),-85.051129,rl);return new Xs(n,r)}}]),n}($d),lp=Math.PI/2;function up(e){return Math.tan((lp+e)/2)}var cp=function(e){m(n,e);var t=v(n);function n(e){var r;d(this,n),(r=t.call(this,e)).center=e.center||[0,30];var i=r.parallels=e.parallels||[30,30],a=f(i,2),o=a[0],s=a[1],l=L(o),u=L(s);r.southernCenter=l+u<0,r.southernCenter&&(l=-l,u=-u);var c=Math.cos(l),h=up(l);return r.n=l===u?Math.sin(l):Math.log(c/Math.cos(u))/Math.log(up(u)/h),r.f=c*Math.pow(up(l),r.n)/r.n,r}return p(n,[{key:"project",value:function(e,t){t=L(t),this.southernCenter&&(t=-t),e=L(e-this.center[0]);var n=1e-6,r=this.n,i=this.f;i>0?t<-lp+n&&(t=-lp+n):t>lp-n&&(t=lp-n);var a=i/Math.pow(up(t),r),o=a*Math.sin(r*e),s=i-a*Math.cos(r*e);return o=.5*(o/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:o,y:this.southernCenter?s:1-s,z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;var n=this.n,r=this.f,i=r-t,a=Math.sign(i),o=Math.sign(n)*Math.sqrt(e*e+i*i),s=Math.atan2(e,Math.abs(i))*a;i*n<0&&(s-=Math.PI*Math.sign(e)*a);var l=B(z(s/n)+this.center[0],-180,180),u=B(z(2*Math.atan(Math.pow(r/o,1/n))-lp),-85.051129,rl);return new Xs(l,this.southernCenter?-u:u)}}]),n}($d),fp=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).wrap=!0,r.supportsWorldCopies=!0,r.supportsTerrain=!0,r.supportsFog=!0,r.supportsFreeCamera=!0,r.isReprojectedInTileSpace=!1,r.unsupportedLayers=[],r.range=null,r}return p(n,[{key:"project",value:function(e,t){return{x:Qs(e),y:Js(t),z:0}}},{key:"unproject",value:function(e,t){var n=el(e),r=tl(t);return new Xs(n,r)}}]),n}($d),hp=L(rl),dp=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"project",value:function(e,t){var n=(t=L(t))*t,r=n*n;return{x:.5*((e=L(e))*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;var n=t=(2*(1-t)-1)*Math.PI,r=25,i=0,a=n*n;do{var o=(a=n*n)*a;n=B(n-(i=(n*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))),-hp,hp)}while(Math.abs(i)>1e-6&&--r>0);var s=B(z(e/(.8707+(a=n*n)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979))),-180,180),l=z(n);return new Xs(s,l)}}]),n}($d),pp=L(rl),mp=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"project",value:function(e,t){t=L(t),e=L(e);var n=Math.cos(t),r=2/Math.PI,i=Math.acos(n*Math.cos(e/2)),a=Math.sin(i)/i,o=.5*(e*r+2*n*Math.sin(e/2)/a)||0,s=.5*(t+Math.sin(t)/a)||0;return{x:.5*(o/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){var n=e=(2*e-.5)*Math.PI,r=t=(2*(1-t)-1)*Math.PI,i=25,a=1e-6,o=0,s=0;do{var l=Math.cos(r),u=Math.sin(r),c=2*u*l,f=u*u,h=l*l,d=Math.cos(n/2),p=Math.sin(n/2),m=2*d*p,v=p*p,y=1-h*d*d,g=y?1/y:0,_=y?Math.acos(l*d)*Math.sqrt(1/y):0,x=.5*(2*_*l*p+2*n/Math.PI)-e,b=.5*(_*u+r)-t,w=.5*g*(h*v+_*l*d*f)+1/Math.PI,k=g*(m*c/4-_*u*p),C=.125*g*(c*p-_*u*h*m),E=.5*g*(f*d+_*v*l)+.5,S=k*C-E*w;s=(x*C-b*w)/S,n=B(n-(o=(b*k-x*E)/S),-Math.PI,Math.PI),r=B(r-s,-pp,pp)}while((Math.abs(o)>a||Math.abs(s)>a)&&--i>0);return new Xs(z(n),z(r))}}]),n}($d),vp=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).center=e.center||[0,0],r.parallels=e.parallels||[0,0],r.cosPhi=Math.max(.01,Math.cos(L(r.parallels[0]))),r.scale=1/(2*Math.max(Math.PI*r.cosPhi,1/r.cosPhi)),r.wrap=!0,r.supportsWorldCopies=!0,r}return p(n,[{key:"project",value:function(e,t){var n=this.scale,r=this.cosPhi;return{x:L(e)*r*n+.5,y:-Math.sin(L(t))/r*n+.5,z:0}}},{key:"unproject",value:function(e,t){var n=this.scale,r=this.cosPhi,i=-(t-.5)/n,a=B(z((e-.5)/n)/r,-180,180),o=Math.asin(B(i*r,-1,1)),s=B(z(o),-85.051129,rl);return new Xs(a,s)}}]),n}($d),yp=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).requiresDraping=!0,r.supportsWorldCopies=!1,r.supportsFog=!0,r.zAxisUnit="pixels",r.unsupportedLayers=["debug","custom"],r.range=[3,5],r}return p(n,[{key:"projectTilePoint",value:function(e,t,n){var r=jd(e,t,n);return cu(r,r,Nd(Id(n))),{x:r[0],y:r[1],z:r[2]}}},{key:"locationPoint",value:function(e,t){var n=Bd(t.lat,t.lng),r=su([],n),i=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;ou(n,n,r,$s(1,0)*qs*i);var a=Ul(new Float64Array(16));return Nl(a,e.pixelMatrix,e.globeMatrix),cu(n,n,a),new A(n[0],n[1])}},{key:"pixelsPerMeter",value:function(e,t){return $s(1,0)*t}},{key:"pixelSpaceConversion",value:function(e,t,n){var r=$s(1,e)*t,i=Zn($s(1,45)*t,r,n);return this.pixelsPerMeter(e,t)/i}},{key:"createTileMatrix",value:function(e,t,n){var r=Vd(Id(n.canonical));return Nl(new Float64Array(16),e.globeMatrix,r)}},{key:"createInversionMatrix",value:function(e,t){var n=e.center,r=Nd(Id(t));return Wl(r,r,L(n.lng)),ql(r,r,L(n.lat)),Gl(r,r,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(r)}},{key:"pointCoordinate",value:function(e,t,n,r){return Td(e,t,n,!0)||new al(0,0)}},{key:"pointCoordinate3D",value:function(e,t,n){var r=this.pointCoordinate(e,t,n,0);return[r.x,r.y,r.z]}},{key:"isPointAboveHorizon",value:function(e,t){return!Td(e,t.x,t.y,!1)}},{key:"farthestPixelDistance",value:function(e){var t=function(e,t){var n,r=e.cameraToCenterDistance,i=e._centerAltitude*t,a=e._camera,o=e._camera.forward(),s=eu([],au([],o,-r),[0,0,i]),l=e.worldSize/(2*Math.PI),u=[0,0,-l],c=e.width/e.height,f=Math.tan(e.fovAboveCenter),h=au([],a.up(),f),d=au([],a.right(),f*c),p=su([],eu([],eu([],o,h),d)),m=[];if(new Cu(s,p).closestPointOnSphere(u,l,m)){var v=eu([],m,u),y=du([],v,s);n=Math.cos(e.fovAboveCenter)*Jl(y)}else{var g=du([],s,u),_=du([],u,s);su(_,_);var x=Jl(g)-l;n=Math.sqrt(x*(x+2*l));var b=Math.acos(n/(l+x))-Math.acos(lu(o,_));n*=Math.cos(b)}return 1.01*n}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=qd(e.zoom);if(n>0){var r=Kd(e,$s(1,e.center.lat)*e.worldSize),i=e.worldSize/(2*Math.PI),a=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Zn(t,r+i*(1-Math.cos(a)),Math.pow(n,10))}return t}},{key:"upVector",value:function(e,t,n){return jd(t,n,e,1)}},{key:"upVectorScale",value:function(e){return{metersToTile:bd*Ud(Id(e))}}}]),n}(fp);function gp(e){var t=e.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new fp(e);case"equirectangular":return new sp(e);case"naturalEarth":return new dp(e);case"equalEarth":return new op(e);case"winkelTripel":return new mp(e);case"albers":return n?new vp(e):new ep(e);case"lambertConformalConic":return n?new vp(e):new cp(e);case"globe":return new yp(e)}throw new Error("Invalid projection name: ".concat(e.name))}var _p=Gc.types,xp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function bp(e,t,n,r,i,a,o,s,l,u,c,f,h){var d=s?Math.min(fd,Math.round(s[0])):0,p=s?Math.min(fd,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),a,o,(d<<1)+(l?1:0),p,16*u,16*c,256*f,256*h)}function wp(e,t,n,r,i,a,o){e.emplaceBack(t,n,r,i,a,o)}function kp(e,t,n,r,i){e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i)}function Cp(e){var t,n=h(e.sections);try{for(n.s();!(t=n.n()).done;)if(Za(t.value.text))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var Ep=function(){function e(t){d(this,e),this.layoutVertexArray=new Io,this.indexArray=new Bo,this.programConfigurations=t,this.segments=new Gs,this.dynamicLayoutVertexArray=new So,this.opacityVertexArray=new Lo,this.placedSymbolArray=new Jo,this.globeExtVertexArray=new Po}return p(e,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Tf.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Mf.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,xp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Af.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}]),e}();ea(Ep,"SymbolBuffers");var Sp=function(){function e(t,n,r){d(this,e),this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new r,this.segments=new Gs,this.collisionVertexArray=new Ro,this.collisionVertexArrayExt=new Fo}return p(e,[{key:"upload",value:function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,If.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,Pf.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}]),e}();ea(Sp,"CollisionBuffers");var Tp=function(){function e(t){d(this,e),this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ul([]),this.placementViewportMatrix=Ul([]);var n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Rf(this.zoom,n["text-size"]),this.iconSizeData=Rf(this.zoom,n["icon-size"]);var r=this.layers[0].layout,i=r.get("symbol-sort-key"),a=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==a&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===a||"auto"===a&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=r.get("text-writing-mode").map((function(e){return gh[e]})),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=t.sourceID,this.projection=t.projection}return p(e,[{key:"createArrays",value:function(){this.text=new Ep(new Os(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new Ep(new Os(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new ts,this.lineVertexArray=new ns,this.symbolInstances=new es}},{key:"calculateGlyphDependencies",value:function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,r&&i){var o=Zf[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}}},{key:"populate",value:function(e,t,n,r){var i=this.layers[0],a=i.layout,o="globe"===this.projection.name,s=a.get("text-font"),l=a.get("text-field"),u=a.get("icon-image"),c=("constant"!==l.value.kind||l.value.value instanceof Vt&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),f="constant"!==u.value.kind||!!u.value.value||Object.keys(u.parameters).length>0,d=a.get("symbol-sort-key");if(this.features=[],c||f){var p,m=t.iconDependencies,v=t.glyphDependencies,y=t.availableImages,g=new eo(this.zoom),_=h(e);try{for(_.s();!(p=_.n()).done;){var x=p.value,b=x.feature,w=x.id,k=x.index,C=x.sourceLayerIndex,E=i._featureFilter.needGeometry,S=pl(b,E);if(i._featureFilter.filter(g,S,n)){E||(S.geometry=dl(b,n,r)),o&&1!==b.type&&n.z<=5&&function(){for(var e=S.geometry,t=.98078528056,r=function(e,r){return lu(jd(e.x,e.y,n,1),jd(r.x,r.y,n,1))<t},i=0;i<e.length;i++)e[i]=ul(e[i],r)}();var T=void 0,A=void 0;if(c){var M=i.getValueAndResolveTokens("text-field",S,n,y),I=Vt.factory(M);Cp(I)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Qa()||this.hasRTLText&&$a.isParsed())&&(T=Uf(I,i,S))}if(f){var P=i.getValueAndResolveTokens("icon-image",S,n,y);A=P instanceof Gt?P:Gt.fromString(P)}if(T||A){var L=this.sortFeaturesByKey?d.evaluate(S,{},n):void 0;if(this.features.push({id:w,text:T,icon:A,index:k,sourceLayerIndex:C,geometry:S.geometry,properties:b.properties,type:_p[b.type],sortKey:L}),A&&(m[A.name]=!0),T){var z=s.evaluate(S,{},n).join(","),O="map"===a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(gh.vertical)>=0;var D,R=h(T.sections);try{for(R.s();!(D=R.n()).done;){var F=D.value;if(F.image)m[F.image.name]=!0;else{var B=Oa(T.toString()),j=F.fontStack||z,U=v[j]=v[j]||{};this.calculateGlyphDependencies(F.text,U,O,this.allowVerticalPlacement,B)}}}catch(Z){R.e(Z)}finally{R.f()}}}}}}catch(Z){_.e(Z)}finally{_.f()}"line"===a.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function l(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(r.x,":").concat(r.y)}for(var u=0;u<e.length;u++){var c=e[u],f=c.geometry,h=c.text?c.text.toString():null;if(h){var d=l(h,f),p=l(h,f,!0);if(d in n&&p in t&&n[d]!==t[p]){var m=s(d,p,f),v=o(d,p,r[m].geometry);delete t[d],delete n[p],n[l(h,r[v].geometry,!0)]=v,r[m].geometry=null}else d in n?o(d,p,f):p in t?s(d,p,f):(a(u),t[d]=i-1,n[p]=i-1)}else a(u)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n,r))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"getProjection",value:function(){return this.projectionInstance||(this.projectionInstance=gp(this.projection)),this.projectionInstance}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(e,t){var n=this.lineVertexArray.length,r=e.segment;if(void 0!==r){for(var i=e.dist(t[r+1]),a=e.dist(t[r]),o={},s=r+1;s<t.length;s++)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s<t.length-1&&(i+=t[s+1].dist(t[s]));for(var l=r||0;l>=0;l--)o[l]={x:t[l].x,y:t[l].y,tileUnitDistanceFromAnchor:a},l>0&&(a+=t[l-1].dist(t[l]));for(var u=0;u<t.length;u++){var c=o[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}},{key:"addSymbols",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h,d){for(var p=e.indexArray,m=e.layoutVertexArray,v=e.globeExtVertexArray,y=e.segments.prepareSegment(4*t.length,m,p,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,_=y.vertexLength,x=this.allowVerticalPlacement&&o===gh.vertical?Math.PI/2:0,b=a.text&&a.text.sections,w=0;w<t.length;w++){var k=t[w],C=k.tl,E=k.tr,S=k.bl,T=k.br,A=k.tex,M=k.pixelOffsetTL,I=k.pixelOffsetBR,P=k.minFontScaleX,L=k.minFontScaleY,z=k.glyphOffset,O=k.isSDF,D=k.sectionIndex,R=y.vertexLength,F=z[1];if(bp(m,l.x,l.y,C.x,F+C.y,A.x,A.y,n,O,M.x,M.y,P,L),bp(m,l.x,l.y,E.x,F+E.y,A.x+A.w,A.y,n,O,I.x,M.y,P,L),bp(m,l.x,l.y,S.x,F+S.y,A.x,A.y+A.h,n,O,M.x,I.y,P,L),bp(m,l.x,l.y,T.x,F+T.y,A.x+A.w,A.y+A.h,n,O,I.x,I.y,P,L),s){var B=s.anchor,j=s.up;wp(v,B.x,B.y,B.z,j[0],j[1],j[2]),wp(v,B.x,B.y,B.z,j[0],j[1],j[2]),wp(v,B.x,B.y,B.z,j[0],j[1],j[2]),wp(v,B.x,B.y,B.z,j[0],j[1],j[2]),kp(e.dynamicLayoutVertexArray,B.x,B.y,B.z,x)}else kp(e.dynamicLayoutVertexArray,l.x,l.y,l.z,x);p.emplaceBack(R,R+1,R+2),p.emplaceBack(R+1,R+2,R+3),y.vertexLength+=4,y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(z[0]),w!==t.length-1&&D===t[w+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,a,a.index,{},h,d,b&&b[D])}var U=s?s.anchor:l;e.placedSymbolArray.emplaceBack(U.x,U.y,U.z,l.x,l.y,g,this.glyphOffsetArray.length-g,_,u,c,l.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,0,!1,0,f,0)}},{key:"_commitLayoutVertex",value:function(e,t,n,r,i,a,o){e.emplaceBack(t,n,r,i,a,Math.round(o.x),Math.round(o.y))}},{key:"_addCollisionDebugVertices",value:function(e,t,n,r,i,a,o){for(var s=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=s.vertexLength,u=o.tileAnchorX,c=o.tileAnchorY,f=0;f<4;f++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new A(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new A(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new A(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new A(e.x1,e.y2)),s.vertexLength+=4;var h=n.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),s.primitiveLength+=4}},{key:"_addTextDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceTextSize(e,a,t,o);this._addCollisionDebugVertices(s,l,this.textCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,a)}}},{key:"_addIconDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceIconSize(e,t,a.placedIconSymbolIndex);this._addCollisionDebugVertices(s,l,this.iconCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,a)}}},{key:"generateCollisionDebugBuffers",value:function(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Sp(Oo,Lf.members,Go),this.iconCollisionBox=new Sp(Oo,Lf.members,Go);for(var n=Bf(this.iconSizeData,e),r=Bf(this.textSizeData,e),i=0;i<this.symbolInstances.length;i++){var a=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(r,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._addTextDebugCollisionBoxes(r,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._addIconDebugCollisionBoxes(n,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex,a),this._addIconDebugCollisionBoxes(n,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a)}}},{key:"getSymbolInstanceTextSize",value:function(e,t,n,r){var i=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:r),a=Ff(this.textSizeData,e,i)/Of;return this.tilePixelRatio*a}},{key:"getSymbolInstanceIconSize",value:function(e,t,n){var r=this.icon.placedSymbolArray.get(n),i=Ff(this.iconSizeData,e,r);return this.tilePixelRatio*i}},{key:"_commitDebugCollisionVertexUpdate",value:function(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}},{key:"_updateTextDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceTextSize(e,a,t,o);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,l,s.padding)}}},{key:"_updateIconDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceIconSize(e,t,a);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,l,s.padding)}}},{key:"updateCollisionDebugBuffers",value:function(e,t){if(this.hasDebugData()){this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();for(var n=Bf(this.iconSizeData,e),r=Bf(this.textSizeData,e),i=0;i<this.symbolInstances.length;i++){var a=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(r,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._updateTextDebugCollisionBoxes(r,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._updateIconDebugCollisionBoxes(n,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex,a.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(n,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(e,t,n,r,i,a,o,s,l){for(var u={},c=t;c<n;c++){var f=e.get(c);u.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,padding:f.padding,projectedAnchorX:f.projectedAnchorX,projectedAnchorY:f.projectedAnchorY,projectedAnchorZ:f.projectedAnchorZ,tileAnchorX:f.tileAnchorX,tileAnchorY:f.tileAnchorY},u.textFeatureIndex=f.featureIndex;break}for(var h=r;h<i;h++){var d=e.get(h);u.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,padding:d.padding,projectedAnchorX:d.projectedAnchorX,projectedAnchorY:d.projectedAnchorY,projectedAnchorZ:d.projectedAnchorZ,tileAnchorX:d.tileAnchorX,tileAnchorY:d.tileAnchorY},u.verticalTextFeatureIndex=d.featureIndex;break}for(var p=a;p<o;p++){var m=e.get(p);u.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,padding:m.padding,projectedAnchorX:m.projectedAnchorX,projectedAnchorY:m.projectedAnchorY,projectedAnchorZ:m.projectedAnchorZ,tileAnchorX:m.tileAnchorX,tileAnchorY:m.tileAnchorY},u.iconFeatureIndex=m.featureIndex;break}for(var v=s;v<l;v++){var y=e.get(v);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,padding:y.padding,projectedAnchorX:y.projectedAnchorX,projectedAnchorY:y.projectedAnchorY,projectedAnchorZ:y.projectedAnchorZ,tileAnchorX:y.tileAnchorX,tileAnchorY:y.tileAnchorY},u.verticalIconFeatureIndex=y.featureIndex;break}return u}},{key:"deserializeCollisionBoxes",value:function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)}},{key:"getSortedSymbolIndexes",value:function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.tileAnchorX+n*s.tileAnchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),a}},{key:"addToSortKeyRanges",value:function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}},{key:"sortFeatures",value:function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var n,r=h(this.symbolInstanceIndexes);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.symbolInstances.get(i);this.featureSortOrder.push(a.featureIndex),[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),a.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,a.verticalPlacedTextSymbolIndex),a.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.placedIconSymbolIndex),a.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.verticalPlacedIconSymbolIndex)}}catch(o){r.e(o)}finally{r.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),e}();ea(Tp,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Tp.MAX_GLYPHS=65535,Tp.addDynamicAttributes=kp;var Ap=new mo({"symbol-placement":new uo(ut.layout_symbol["symbol-placement"]),"symbol-spacing":new uo(ut.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new uo(ut.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new co(ut.layout_symbol["symbol-sort-key"]),"symbol-z-order":new uo(ut.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new uo(ut.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new uo(ut.layout_symbol["icon-ignore-placement"]),"icon-optional":new uo(ut.layout_symbol["icon-optional"]),"icon-rotation-alignment":new uo(ut.layout_symbol["icon-rotation-alignment"]),"icon-size":new co(ut.layout_symbol["icon-size"]),"icon-text-fit":new uo(ut.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new uo(ut.layout_symbol["icon-text-fit-padding"]),"icon-image":new co(ut.layout_symbol["icon-image"]),"icon-rotate":new co(ut.layout_symbol["icon-rotate"]),"icon-padding":new uo(ut.layout_symbol["icon-padding"]),"icon-keep-upright":new uo(ut.layout_symbol["icon-keep-upright"]),"icon-offset":new co(ut.layout_symbol["icon-offset"]),"icon-anchor":new co(ut.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new uo(ut.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new uo(ut.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new uo(ut.layout_symbol["text-rotation-alignment"]),"text-field":new co(ut.layout_symbol["text-field"]),"text-font":new co(ut.layout_symbol["text-font"]),"text-size":new co(ut.layout_symbol["text-size"]),"text-max-width":new co(ut.layout_symbol["text-max-width"]),"text-line-height":new co(ut.layout_symbol["text-line-height"]),"text-letter-spacing":new co(ut.layout_symbol["text-letter-spacing"]),"text-justify":new co(ut.layout_symbol["text-justify"]),"text-radial-offset":new co(ut.layout_symbol["text-radial-offset"]),"text-variable-anchor":new uo(ut.layout_symbol["text-variable-anchor"]),"text-anchor":new co(ut.layout_symbol["text-anchor"]),"text-max-angle":new uo(ut.layout_symbol["text-max-angle"]),"text-writing-mode":new uo(ut.layout_symbol["text-writing-mode"]),"text-rotate":new co(ut.layout_symbol["text-rotate"]),"text-padding":new uo(ut.layout_symbol["text-padding"]),"text-keep-upright":new uo(ut.layout_symbol["text-keep-upright"]),"text-transform":new co(ut.layout_symbol["text-transform"]),"text-offset":new co(ut.layout_symbol["text-offset"]),"text-allow-overlap":new uo(ut.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new uo(ut.layout_symbol["text-ignore-placement"]),"text-optional":new uo(ut.layout_symbol["text-optional"])}),Mp={paint:new mo({"icon-opacity":new co(ut.paint_symbol["icon-opacity"]),"icon-color":new co(ut.paint_symbol["icon-color"]),"icon-halo-color":new co(ut.paint_symbol["icon-halo-color"]),"icon-halo-width":new co(ut.paint_symbol["icon-halo-width"]),"icon-halo-blur":new co(ut.paint_symbol["icon-halo-blur"]),"icon-translate":new uo(ut.paint_symbol["icon-translate"]),"icon-translate-anchor":new uo(ut.paint_symbol["icon-translate-anchor"]),"text-opacity":new co(ut.paint_symbol["text-opacity"]),"text-color":new co(ut.paint_symbol["text-color"],{runtimeType:bt,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new co(ut.paint_symbol["text-halo-color"]),"text-halo-width":new co(ut.paint_symbol["text-halo-width"]),"text-halo-blur":new co(ut.paint_symbol["text-halo-blur"]),"text-translate":new uo(ut.paint_symbol["text-translate"]),"text-translate-anchor":new uo(ut.paint_symbol["text-translate-anchor"])}),layout:Ap},Ip=function(){function e(t){d(this,e),this.type=t.property.overrides?t.property.overrides.runtimeType:yt,this.defaultValue=t}return p(e,[{key:"evaluate",value:function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),e}();ea(Ip,"FormatSectionOverride",{omit:["defaultValue"]});var Pp=function(e){m(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e,Mp)}return p(n,[{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));var r=this.layout.get("text-writing-mode");if(r){var i,a=[],l=h(r);try{for(l.s();!(i=l.n()).done;){var u=i.value;a.indexOf(u)<0&&a.push(u)}}catch(c){l.e(c)}finally{l.f()}this.layout._values["text-writing-mode"]=a}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||ri(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)}},{key:"createBucket",value:function(e){return new Tp(e)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"_setPaintOverrides",value:function(){var e,t=h(Mp.paint.overridableProperties);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(n.hasPaintOverride(this.layout,r)){var i=this.paint.get(r),a=new Ip(i),o=new ni(a,i.property.specification),s=null;s="constant"===i.value.kind||"source"===i.value.kind?new ai("source",o):new oi("composite",o,i.value.zoomStops,i.value._interpolationType),this.paint._values[r]=new so(i.property,s,i.parameters)}}}catch(l){t.e(l)}finally{t.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&n.hasPaintOverride(this.layout,e)}},{key:"getProgramConfiguration",value:function(e){return new zs(this,e)}}],[{key:"hasPaintOverride",value:function(e,t){var n=e.get("text-field"),r=Mp.paint.properties[t],i=!1,a=function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(r.overrides&&r.overrides.hasOverride(a))return void(i=!0)}}catch(o){n.e(o)}finally{n.f()}};if("constant"===n.value.kind&&n.value.value instanceof Vt)a(n.value.value.sections);else if("source"===n.value.kind){var o=function e(t){i||(t instanceof Kt&&Ht(t.value)===Et?a(t.value.sections):t instanceof tn?a(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return i}}]),n}(Zs),Lp={paint:new mo({"background-color":new uo(ut.paint_background["background-color"]),"background-pattern":new ho(ut.paint_background["background-pattern"]),"background-opacity":new uo(ut.paint_background["background-opacity"])})},zp={paint:new mo({"raster-opacity":new uo(ut.paint_raster["raster-opacity"]),"raster-hue-rotate":new uo(ut.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new uo(ut.paint_raster["raster-brightness-min"]),"raster-brightness-max":new uo(ut.paint_raster["raster-brightness-max"]),"raster-saturation":new uo(ut.paint_raster["raster-saturation"]),"raster-contrast":new uo(ut.paint_raster["raster-contrast"]),"raster-resampling":new uo(ut.paint_raster["raster-resampling"]),"raster-fade-duration":new uo(ut.paint_raster["raster-fade-duration"])})},Op=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e,{})).implementation=e,r}return p(n,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){return!1}},{key:"serialize",value:function(){}},{key:"onAdd",value:function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}},{key:"onRemove",value:function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}]),n}(Zs),Dp={paint:new mo({"sky-type":new uo(ut.paint_sky["sky-type"]),"sky-atmosphere-sun":new uo(ut.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new uo(ut.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new uo(ut.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new uo(ut.paint_sky["sky-gradient-radius"]),"sky-gradient":new po(ut.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new uo(ut.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new uo(ut.paint_sky["sky-atmosphere-color"]),"sky-opacity":new uo(ut.paint_sky["sky-opacity"])})};function Rp(e,t,n){var r=[0,0,1],i=xu([]);return wu(i,i,n?-L(e)+Math.PI:L(e)),bu(i,i,-L(t)),fu(r,r,i),su(r,r)}for(var Fp={circle:function(e){m(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e,Dl)}return p(n,[{key:"createBucket",value:function(e){return new yl(e)}},{key:"queryRadius",value:function(e){var t=e;return Il("circle-radius",this,t)+Il("circle-stroke-width",this,t)+Pl(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var l=zl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return Au(e,r,a,o,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,u)}},{key:"getProgramIds",value:function(){return["circle"]}},{key:"getProgramConfiguration",value:function(e){return new zs(this,e)}}]),n}(Zs),heatmap:function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e,ju))._updateColorRamp(),r}return p(n,[{key:"createBucket",value:function(e){return new zu(e)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"heatmap-color"===e&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=Uu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(e){return Il("heatmap-radius",this,e)}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var l=this.paint.get("heatmap-radius").evaluate(t,n);return Au(e,r,a,o,s,!0,!0,new A(0,0),l)}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["heatmap","heatmapTexture"]}},{key:"getProgramConfiguration",value:function(e){return new zs(this,e)}}]),n}(Zs),hillshade:function(e){m(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e,Zu)}return p(n,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["hillshade","hillshadePrepare"]}}]),n}(Zs),fill:function(e){m(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e,Sc)}return p(n,[{key:"getProgramIds",value:function(){var e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}},{key:"getProgramConfiguration",value:function(e){return new zs(this,e)}},{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(e){return new Cc(e)}},{key:"queryRadius",value:function(){return Pl(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a){return!e.queryGeometry.isAboveHorizon&&xl(Ll(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),r)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Zs),"fill-extrusion":function(e){m(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e,lf)}return p(n,[{key:"createBucket",value:function(e){return new Qc(e)}},{key:"queryRadius",value:function(){return Pl(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"getProgramIds",value:function(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}},{key:"getProgramConfiguration",value:function(e){return new zs(this,e)}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s,l){var u=zl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),c=this.paint.get("fill-extrusion-height").evaluate(t,n),d=this.paint.get("fill-extrusion-base").evaluate(t,n),p=[0,0],m=s&&a.elevation,v=a.elevation?a.elevation.exaggeration():1,y=e.tile.getBucket(this);if(m&&y instanceof Qc){var g=y.centroidVertexArray,_=l+1;if(_<g.length){var x=g.get(_);p[0]=x.a_centroid_pos0,p[1]=x.a_centroid_pos1}}if(0===p[0]&&1===p[1])return!1;"globe"===a.projection.name&&(r=of([r],[new A(0,0),new A(qs,qs)],e.tileID.canonical).map((function(e){return e.polygon})).flat());var b=function(e,t,n,r,i,a,o,s,l,u,c){return"globe"===e.projection.name?function(e,t,n,r,i,a,o,s,l,u,c){var f=[],d=[],p=e.projection.upVectorScale(c,e.center.lat,e.worldSize).metersToTile,m=[0,0,0,1],v=[0,0,0,1],y=function(e,t,n,r){e[0]=t,e[1]=n,e[2]=r,e[3]=1},g=af();n>0&&(n+=g),r+=g;var _,x=h(t);try{for(x.s();!(_=x.n()).done;){var b,w=_.value,k=[],C=[],E=h(w);try{for(E.s();!(b=E.n()).done;){var S=b.value,T=S.x+i.x,A=S.y+i.y,M=e.projection.projectTilePoint(T,A,c),I=e.projection.upVector(c,S.x,S.y),P=n,L=r;if(o){var z=yf(T,A,n,r,o,s,l,u);P+=z.base,L+=z.top}0!==n?y(m,M.x+I[0]*p*P,M.y+I[1]*p*P,M.z+I[2]*p*P):y(m,M.x,M.y,M.z),y(v,M.x+I[0]*p*L,M.y+I[1]*p*L,M.z+I[2]*p*L),cu(m,m,a),cu(v,v,a),k.push(new pf(m[0],m[1],m[2])),C.push(new pf(v[0],v[1],v[2]))}}catch(O){E.e(O)}finally{E.f()}f.push(k),d.push(C)}}catch(O){x.e(O)}finally{x.f()}return[f,d]}(e,t,n,r,i,a,o,s,l,u,c):o?function(e,t,n,r,i,a,o,s,l){var u,c=[],f=[],d=[0,0,0,1],p=h(e);try{for(p.s();!(u=p.n()).done;){var m,v=u.value,y=[],g=[],_=h(v);try{for(_.s();!(m=_.n()).done;){var x=m.value,b=x.x+r.x,w=x.y+r.y,k=yf(b,w,t,n,a,o,s,l);d[0]=b,d[1]=w,d[2]=k.base,d[3]=1,gu(d,d,i),d[3]=Math.max(d[3],1e-5);var C=new pf(d[0]/d[3],d[1]/d[3],d[2]/d[3]);d[0]=b,d[1]=w,d[2]=k.top,d[3]=1,gu(d,d,i),d[3]=Math.max(d[3],1e-5);var E=new pf(d[0]/d[3],d[1]/d[3],d[2]/d[3]);y.push(C),g.push(E)}}catch(S){_.e(S)}finally{_.f()}c.push(y),f.push(g)}}catch(S){p.e(S)}finally{p.f()}return[c,f]}(t,n,r,i,a,o,s,l,u):function(e,t,n,r,i){var a,o=[],s=[],l=i[8]*t,u=i[9]*t,c=i[10]*t,f=i[11]*t,d=i[8]*n,p=i[9]*n,m=i[10]*n,v=i[11]*n,y=h(e);try{for(y.s();!(a=y.n()).done;){var g,_=a.value,x=[],b=[],w=h(_);try{for(w.s();!(g=w.n()).done;){var k=g.value,C=k.x+r.x,E=k.y+r.y,S=i[0]*C+i[4]*E+i[12],T=i[1]*C+i[5]*E+i[13],A=i[2]*C+i[6]*E+i[14],M=i[3]*C+i[7]*E+i[15],I=S+l,P=T+u,L=A+c,z=Math.max(M+f,1e-5),O=S+d,D=T+p,R=A+m,F=Math.max(M+v,1e-5);x.push(new pf(I/z,P/z,L/z)),b.push(new pf(O/F,D/F,R/F))}}catch(B){w.e(B)}finally{w.f()}o.push(x),s.push(b)}}catch(B){y.e(B)}finally{y.f()}return[o,s]}(t,n,r,i,a)}(a,r,d,c,u,o,m?s:null,p,v,a.center.lat,e.tileID.canonical),w=f(b,2),k=w[0],C=w[1],E=e.queryGeometry;return function(e,t,n){var r=1/0;xl(n,t)&&(r=vf(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var l=a[s],u=[l,a[s+1],o[s+1],o[s],l];gl(n,u)&&(r=Math.min(r,vf(n,u)))}return r!==1/0&&r}(k,C,E.isPointQuery()?E.screenBounds:E.screenGeometry)}}]),n}(Zs),line:function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e,Cf)).gradientVersion=0,r}return p(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){if("line-gradient"===e){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof Un,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t),this.paint._values["line-floorwidth"]=Ef.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}},{key:"createBucket",value:function(e){return new wf(e)}},{key:"getProgramIds",value:function(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}},{key:"getProgramConfiguration",value:function(e){return new zs(this,e)}},{key:"queryRadius",value:function(e){var t=e,n=Sf(Il("line-width",this,t),Il("line-gap-width",this,t)),r=Il("line-offset",this,t);return n/2+Math.abs(r)+Pl(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a){if(e.queryGeometry.isAboveHorizon)return!1;var o=Ll(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*Sf(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(r=function(e,t){for(var n=[],r=new A(0,0),i=0;i<e.length;i++){for(var a=e[i],o=[],s=0;s<a.length;s++){var l=a[s-1],u=a[s],c=a[s+1],f=0===s?r:u.sub(l)._unit()._perp(),h=s===a.length-1?r:c.sub(u)._unit()._perp(),d=f._add(h)._unit();d._mult(1/(d.x*h.x+d.y*h.y)),o.push(d._mult(t)._add(u))}n.push(o)}return n}(r,l*e.pixelToTileUnitsFactor)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var a=0;a<i.length;a++)if(Tl(e,i[a]))return!0;if(bl(e,i,n))return!0}return!1}(o,r,s)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Zs),symbol:Pp,background:function(e){m(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e,Lp)}return p(n,[{key:"getProgramIds",value:function(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}}]),n}(Zs),raster:function(e){m(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e,zp)}return p(n,[{key:"getProgramIds",value:function(){return["raster"]}}]),n}(Zs),sky:function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e,Dp))._updateColorRamp(),r}return p(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}},{key:"_updateColorRamp",value:function(){this.colorRamp=Uu({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}},{key:"needsSkyboxCapture",value:function(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){var t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}},{key:"getCenter",value:function(e,t){if("atmosphere"===this.paint.get("sky-type")){var n=this.paint.get("sky-atmosphere-sun"),r=!n,i=e.style.light,a=i.properties.get("position");return r&&"viewport"===i.properties.get("anchor")&&te("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),r?Rp(a.azimuthal,90-a.polar,t):Rp(n[0],90-n[1],t)}var o=this.paint.get("sky-gradient-center");return Rp(o[0],90-o[1],t)}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!0}},{key:"markSkyboxValid",value:function(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}},{key:"hasOffscreenPass",value:function(){return!0}},{key:"getProgramIds",value:function(){var e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}]),n}(Zs)},Bp=function(){function e(t,n,r,i){d(this,e),this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(n,i)}return p(e,[{key:"update",value:function(e,t,n){var r=e.width,i=e.height,a=this.context,o=a.gl,s=g.HTMLImageElement,l=g.HTMLCanvasElement,u=g.HTMLVideoElement,c=g.ImageData,f=g.ImageBitmap;if(o.bindTexture(o.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===o.RGBA&&(!t||!1!==t.premultiply)),n||this.size&&this.size[0]===r&&this.size[1]===i){var h=n||{x:0,y:0},d=h.x,p=h.y;e instanceof s||e instanceof l||e instanceof u||e instanceof c||f&&e instanceof f?o.texSubImage2D(o.TEXTURE_2D,0,d,p,o.RGBA,o.UNSIGNED_BYTE,e):o.texSubImage2D(o.TEXTURE_2D,0,d,p,r,i,o.RGBA,o.UNSIGNED_BYTE,e.data)}else this.size=[r,i],e instanceof s||e instanceof l||e instanceof u||e instanceof c||f&&e instanceof f?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,o.UNSIGNED_BYTE,e):o.texImage2D(o.TEXTURE_2D,0,this.format,r,i,0,this.format,o.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&o.generateMipmap(o.TEXTURE_2D)}},{key:"bind",value:function(e,t){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.useMipmap?e===n.NEAREST?n.NEAREST_MIPMAP_NEAREST:n.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),e}(),jp=function(){function e(t){var n=this;d(this,e),this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){n._triggered=!1,n._callback()})}return p(e,[{key:"trigger",value:function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))}},{key:"remove",value:function(){this._channel=void 0,this._callback=function(){}}}]),e}(),Up=function(){function e(){d(this,e),this.tasks={},this.taskQueue=[],Y(["process"],this),this.invoker=new jp(this.process),this.nextId=0}return p(e,[{key:"add",value:function(e,t){var n=this,r=this.nextId++,i=function(e){var t=e.type,n=e.isSymbolTile,r=e.zoom;return r=r||0,"message"===t?0:"maybePrepare"!==t||n?"parseTile"!==t||n?"parseTile"===t&&n?300-r:"maybePrepare"===t&&n?400-r:500:200-r:100-r}(t);if(0===i){ie();try{e()}finally{}return{cancel:function(){}}}return this.tasks[r]={fn:e,metadata:t,priority:i,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:function(){delete n.tasks[r]}}}},{key:"process",value:function(){var e=this;ie();try{if(this.taskQueue=this.taskQueue.filter((function(t){return!!e.tasks[t]})),!this.taskQueue.length)return;var t=this.pick();if(null===t)return;var n=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!n)return;n.fn()}finally{}}},{key:"pick",value:function(){for(var e=null,t=1/0,n=0;n<this.taskQueue.length;n++){var r=this.tasks[this.taskQueue[n]];r.priority<t&&(t=r.priority,e=n)}if(null===e)return null;var i=this.taskQueue[e];return this.taskQueue.splice(e,1),i}},{key:"remove",value:function(){this.invoker.remove()}}]),e}(),Zp=function(){function e(t){d(this,e),this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];this._stringToNumber[r]=n,this._numberToString[n]=r}}return p(e,[{key:"encode",value:function(e){return this._stringToNumber[e]}},{key:"decode",value:function(e){return this._numberToString[e]}}]),e}(),Np=["tile","layer","source","sourceLayer","state"],Vp=function(){function e(t,n,r,i,a){d(this,e),this.type="Feature",this._vectorTileFeature=t,this._z=n,this._x=r,this._y=i,this.properties=t.properties,this.id=a}return p(e,[{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry},set:function(e){this._geometry=e}},{key:"toJSON",value:function(){var e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);var t,n=h(Np);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==this[r]&&(e[r]=this[r])}}catch(i){n.e(i)}finally{n.f()}return e}}]),e}(),Gp=32,qp=33,Wp=new Uint16Array(8184),Hp=0;Hp<2046;Hp++){var Xp=Hp+2,Yp=0,Kp=0,Qp=0,Jp=0,$p=0,em=0;for(1&Xp?Qp=Jp=$p=Gp:Yp=Kp=em=Gp;(Xp>>=1)>1;){var tm=Yp+Qp>>1,nm=Kp+Jp>>1;1&Xp?(Qp=Yp,Jp=Kp,Yp=$p,Kp=em):(Yp=Qp,Kp=Jp,Qp=$p,Jp=em),$p=tm,em=nm}var rm=4*Hp;Wp[rm+0]=Yp,Wp[rm+1]=Kp,Wp[rm+2]=Qp,Wp[rm+3]=Jp}var im=new Uint16Array(2178),am=new Uint8Array(1089),om=new Uint16Array(1089);function sm(e){return 0===e?-.03125:32===e?.03125:0}var lm=xo([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),um={type:2,extent:qs,loadGeometry:function(){return[[new A(0,0),new A(8193,0),new A(8193,8193),new A(0,8193),new A(0,0)]]}},cm=function(){function e(t,n,r,i,a){d(this,e),this.tileID=t,this.uid=q(),this.uses=0,this.tileSize=n,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=a,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}return p(e,[{key:"registerFadeDuration",value:function(e){var t=e+this.timeAdded;t<rt.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"tileTransform",get:function(){return this._tileTransform||(this._tileTransform=Qd(this.tileID.canonical,this.projection)),this._tileTransform}},{key:"loadVectorData",value:function(e,t,n){if(this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;var r,i=h(e);try{var a=function(){var e=r.value,i=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==i.length){e.layers=i,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return i.filter((function(t){return t.id===e}))[0]})));var a,o=h(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;n[s.id]=e}}catch(l){o.e(l)}finally{o.f()}}};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof Tp){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof Tp&&o.hasRTLText){this.hasRTLText=!0,$a.isLoading()||$a.isLoaded()||"deferred"!==Qa()||Ja();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new Ko}},{key:"unloadVectorData",value:function(){if(this.hasData()){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}},{key:"getBucket",value:function(e){return this.buckets[e.id]}},{key:"upload",value:function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Bp(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Bp(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Bp(e,this.lineAtlas.image,r.ALPHA),this.lineAtlas.uploaded=!0)}},{key:"prepare",value:function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(e,t,n,r,i,a,o,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:r,pixelPosMatrix:o,transform:a,params:i,tileTransform:this.tileTransform},e,t,n):{}}},{key:"querySourceFeatures",value:function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",a=r._geojsonTileLayer||r[i];if(a)for(var o=_i(t&&t.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,f={z:l,x:u,y:c},h=0;h<a.length;h++){var d=a.feature(h);if(o.needGeometry){var p=pl(d,!0);if(!o.filter(new eo(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!o.filter(new eo(this.tileID.overscaledZ),d))continue;var m=n.getId(d,i),v=new Vp(d,l,u,c,m);v.tile=f,e.push(v)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(e){var t=this.expirationTime;if(e.cacheControl){var n=ae(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=r+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t){var n=this.latestFeatureIndex.loadVTLayers(),r=t.style.listImages();for(var i in this.buckets)if(t.style.hasLayer(i)){var a=this.buckets[i],o=a.layers[0].sourceLayer||"_geojsonTileLayer",s=n[o],l=e[o];if(s&&l&&0!==Object.keys(l).length){if(a.update(l,s,r,this.imageAtlas&&this.imageAtlas.patternPositions||{}),a instanceof wf||a instanceof Cc){var u=t.style._getSourceCache(a.layers[0].source);t._terrain&&t._terrain.enabled&&u&&a.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(u.id,this.tileID)}var c=t&&t.style&&t.style.getLayer(i);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(a)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<rt.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(e){this.symbolFadeHoldUntil=rt.now()+e}},{key:"setTexture",value:function(e,t){var n=t.context,r=n.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new Bp(n,e,r.RGBA,{useMipmap:!0}),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),n.extTextureFilterAnisotropic&&r.texParameterf(r.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax))}},{key:"setDependencies",value:function(e,t){var n,r={},i=h(t);try{for(i.s();!(n=i.n()).done;)r[n.value]=!0}catch(a){i.e(a)}finally{i.f()}this.dependencies[e]=r}},{key:"hasDependency",value:function(e,t){var n,r=h(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.dependencies[i];if(a){var o,s=h(t);try{for(s.s();!(o=s.n()).done;)if(a[o.value])return!0}catch(l){s.e(l)}finally{s.f()}}}}catch(l){r.e(l)}finally{r.f()}return!1}},{key:"clearQueryDebugViz",value:function(){}},{key:"_makeDebugTileBoundsBuffers",value:function(e,t){if(t&&"mercator"!==t.name&&!this._tileDebugBuffer){for(var n=dl(um,this.tileID.canonical,this.tileTransform)[0],r=new wo,i=new qo,a=0;a<n.length;a++){var o=n[a],s=o.x,l=o.y;r.emplaceBack(s,l),i.emplaceBack(a)}i.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(i),this._tileDebugBuffer=e.createVertexBuffer(r,_d.members),this._tileDebugSegments=Gs.simpleSegment(0,0,r.length,i.length)}}},{key:"_makeTileBoundsBuffers",value:function(e,t){if(!this._tileBoundsBuffer&&t&&"mercator"!==t.name){var n,r,i=dl(um,this.tileID.canonical,this.tileTransform)[0];if(this.isRaster){var a=function(e,t){for(var n=Qd(e,t),r=Math.pow(2,e.z),i=0;i<qp;i++)for(var a=0;a<qp;a++){var o=el((e.x+(a+sm(a))/Gp)/r),s=tl((e.y+(i+sm(i))/Gp)/r),l=t.project(o,s),u=i*qp+a;im[2*u+0]=Math.round((l.x*n.scale-n.x)*qs),im[2*u+1]=Math.round((l.y*n.scale-n.y)*qs)}am.fill(0),om.fill(0);for(var c=2045;c>=0;c--){var f=4*c,h=Wp[f+0],d=Wp[f+1],p=Wp[f+2],m=Wp[f+3],v=h+p>>1,y=d+m>>1,g=v+y-d,_=y+h-v,x=d*qp+h,b=m*qp+p,w=y*qp+v,k=Math.hypot((im[2*x+0]+im[2*b+0])/2-im[2*w+0],(im[2*x+1]+im[2*b+1])/2-im[2*w+1])>=16;if(am[w]=am[w]||(k?1:0),c<1022){var C=(d+_>>1)*qp+(h+g>>1),E=(m+_>>1)*qp+(p+g>>1);am[w]=am[w]||am[C]||am[E]}}var S=new Co,T=new Bo,A=0;function M(e,t){var n=t*qp+e;return 0===om[n]&&(S.emplaceBack(im[2*n+0],im[2*n+1],e*qs/Gp,t*qs/Gp),om[n]=++A),om[n]-1}function I(e,t,n,r,i,a){var o=e+n>>1,s=t+r>>1;if(Math.abs(e-i)+Math.abs(t-a)>1&&am[s*qp+o])I(i,a,e,t,o,s),I(n,r,i,a,o,s);else{var l=M(e,t),u=M(n,r),c=M(i,a);T.emplaceBack(l,u,c)}}return I(0,0,Gp,Gp,Gp,0),I(Gp,Gp,0,0,0,Gp),{vertices:S,indices:T}}(this.tileID.canonical,t);n=a.vertices,r=a.indices}else{n=new Co,r=new Bo;var o,s=h(i);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.x,c=l.y;n.emplaceBack(u,c,0,0)}}catch(p){s.e(p)}finally{s.f()}for(var f=Vu.exports(n.int16,void 0,4),d=0;d<f.length;d+=3)r.emplaceBack(f[d],f[d+1],f[d+2])}this._tileBoundsBuffer=e.createVertexBuffer(n,lm.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(r),this._tileBoundsSegments=Gs.simpleSegment(0,0,n.length,r.length)}}},{key:"_makeGlobeTileDebugBuffers",value:function(e,t){var n=t.projection;if(n&&"globe"===n.name&&!t.freezeTileCoverage){var r,i=this.tileID.canonical,a=Nd(Ld(i,t)),o=qd(t.zoom);o>0&&(r=Zl(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,i,t,a,r,o),this._makeGlobeTileDebugTextBuffer(e,i,t,a,r,o)}}},{key:"_globePoint",value:function(e,t,n,r,i,a,o){var s=jd(e,t,n);if(a){var l=1<<n.z,u=Qs(r.center.lng),c=Js(r.center.lat),f=(n.x+.5)/l-u,h=0;f>.5?h=-1:f<-.5&&(h=1);var d=(e/qs+n.x)/l+h,p=(t/qs+n.y)/l;d=(d-u)*r._pixelsPerMercatorPixel+u,p=(p-c)*r._pixelsPerMercatorPixel+c;var m=[d*r.worldSize,p*r.worldSize,0];cu(m,m,a),s=Pd(s,m,o)}return cu(s,s,i)}},{key:"_makeGlobeTileDebugBorderBuffer",value:function(e,t,n,r,i,a){var o=this,s=new wo,l=new qo,u=new ko,c=function(e,c,f,h,d){for(var p=(f-e)/(d-1),m=(h-c)/(d-1),v=s.length,y=0;y<d;y++){var g=e+y*p,_=c+y*m;s.emplaceBack(g,_);var x=o._globePoint(g,_,t,n,r,i,a);u.emplaceBack(x[0],x[1],x[2]),l.emplaceBack(v+y)}},f=qs;c(0,0,f,0,16),c(f,0,f,f,16),c(f,f,0,f,16),c(0,f,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(l),this._tileDebugBuffer=e.createVertexBuffer(s,_d.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(u,gd.members),this._tileDebugSegments=Gs.simpleSegment(0,0,s.length,l.length)}},{key:"_makeGlobeTileDebugTextBuffer",value:function(e,t,n,r,i,a){var o=new wo,s=new Bo,l=new ko,u=25;s.reserve(32),o.reserve(u),l.reserve(u);for(var c=function(e,t){return u*e+t},f=0;f<u;f++)for(var h=2048*f,d=0;d<u;d++){var p=2048*d;o.emplaceBack(p,h);var m=this._globePoint(p,h,t,n,r,i,a);l.emplaceBack(m[0],m[1],m[2])}for(var v=0;v<4;v++)for(var y=0;y<4;y++){var g=c(v,y),_=c(v,y+1),x=c(v+1,y),b=c(v+1,y+1);s.emplaceBack(g,_,x),s.emplaceBack(x,_,b)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(s),this._tileDebugTextBuffer=e.createVertexBuffer(o,_d.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(l,gd.members),this._tileDebugTextSegments=Gs.simpleSegment(0,0,u,32)}}]),e}(),fm=function(){function e(){d(this,e),this.state={},this.stateChanges={},this.deletedStates={}}return p(e,[{key:"updateState",value:function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},V(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var a in this.deletedStates[e][r]={},this.state[e][r])n[a]||(this.deletedStates[e][r][a]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][o]&&delete this.deletedStates[e][r][o]}},{key:"removeFeatureState",value:function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}}},{key:"getState",value:function(e,t){var n=String(t),r=V({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var a in i)delete r[a]}return r}},{key:"initializeTileState",value:function(e,t){e.setFeatureState(this.state,t)}},{key:"coalesceChanges",value:function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),V(this.state[r][a],this.stateChanges[r][a]),i[a]=this.state[r][a];n[r]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var l in this.state[o])s[l]={},this.state[o][l]={};else for(var u in this.deletedStates[o]){if(null===this.deletedStates[o][u])this.state[o][u]={};else for(var c=0,f=Object.keys(this.deletedStates[o][u]);c<f.length;c++){var h=f[c];delete this.state[o][u][h]}s[u]=this.state[o][u]}n[o]=n[o]||{},V(n[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var d in e)e[d].setFeatureState(n,t)}}]),e}(),hm=function(){function e(t){d(this,e),this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}return p(e,[{key:"getElevation",value:function(e,t){var n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}},{key:"isLeaf",value:function(e,t){return this.leaves[this.toIdx(e,t)]}},{key:"toIdx",value:function(e,t){return t*this.size+e}}]),e}();function dm(e,t,n,r){for(var i=0,a=Number.MAX_VALUE,o=0;o<3;o++)if(Math.abs(r[o])<1e-15){if(n[o]<e[o]||n[o]>t[o])return null}else{var s=1/r[o],l=(e[o]-n[o])*s,u=(t[o]-n[o])*s;if(l>u){var c=l;l=u,u=c}if(l>i&&(i=l),u<a&&(a=u),i>a)return null}return i}function pm(e,t,n,r,i,a,o,s,l,u,c){var f=r-e,h=i-t,d=a-n,p=o-e,m=s-t,v=l-n,y=c[1]*v-c[2]*m,g=c[2]*p-c[0]*v,_=c[0]*m-c[1]*p,x=f*y+h*g+d*_;if(Math.abs(x)<1e-15)return null;var b=1/x,w=u[0]-e,k=u[1]-t,C=u[2]-n,E=(w*y+k*g+C*_)*b;if(E<0||E>1)return null;var S=k*d-C*h,T=C*f-w*d,A=w*h-k*f,M=(c[0]*S+c[1]*T+c[2]*A)*b;return M<0||E+M>1?null:(p*S+m*T+v*A)*b}function mm(e,t,n){return(e-t)/(n-t)}function vm(e,t,n,r,i,a,o,s,l){var u=1<<n,c=a-r,f=o-i,h=(e+1)/u*c+r,d=(t+0)/u*f+i,p=(t+1)/u*f+i;s[0]=(e+0)/u*c+r,s[1]=d,l[0]=h,l[1]=p}var ym=function(){function e(t){if(d(this,e),this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],this.dem){var n=function(e){for(var t=Math.ceil(Math.log2(e.dim/8)),n=[],r=Math.ceil(Math.pow(2,t)),i=1/r,a=function(e,t,n,r,i){var a=r?1:0,o=(e+1)*n-a,s=t*n,l=(t+1)*n-a;i[0]=e*n,i[1]=s,i[2]=o,i[3]=l},o=new hm(r),s=[],l=0;l<r*r;l++){a(l%r,Math.floor(l/r),i,!1,s);var u=_m(s[0],s[1],e),c=_m(s[2],s[1],e),f=_m(s[2],s[3],e),h=_m(s[0],s[3],e);o.minimums.push(Math.min(u,c,f,h)),o.maximums.push(Math.max(u,c,f,h)),o.leaves.push(1)}for(n.push(o),r/=2;r>=1;r/=2){var d=n[n.length-1];o=new hm(r);for(var p=0;p<r*r;p++){a(p%r,Math.floor(p/r),2,!0,s);var m=d.getElevation(s[0],s[1]),v=d.getElevation(s[2],s[1]),y=d.getElevation(s[2],s[3]),g=d.getElevation(s[0],s[3]),_=d.isLeaf(s[0],s[1]),x=d.isLeaf(s[2],s[1]),b=d.isLeaf(s[2],s[3]),w=d.isLeaf(s[0],s[3]),k=Math.min(m.min,v.min,y.min,g.min),C=Math.max(m.max,v.max,y.max,g.max),E=_&&x&&b&&w;o.maximums.push(C),o.minimums.push(k),o.leaves.push(C-k<=5&&E?1:0)}n.push(o)}return n}(this.dem),r=n.length-1,i=n[r];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(n,0,0,r,0)}}return p(e,[{key:"raycastRoot",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return dm([e,t,-100],[n,r,this.maximums[0]*o],i,a)}},{key:"raycast",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(!this.nodeCount)return null;var s=this.raycastRoot(e,t,n,r,i,a,o);if(null==s)return null;for(var l=[],u=[],c=[],f=[],h=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];h.length>0;){var d=h.pop(),p=d.idx,m=d.t,v=d.nodex,y=d.nodey,g=d.depth;if(this.leaves[p]){vm(v,y,g,e,t,n,r,c,f);var _=1<<g,x=(v+0)/_,b=(v+1)/_,w=(y+0)/_,k=(y+1)/_,C=_m(x,w,this.dem)*o,E=_m(b,w,this.dem)*o,S=_m(b,k,this.dem)*o,T=_m(x,k,this.dem)*o,A=pm(c[0],c[1],C,f[0],c[1],E,f[0],f[1],S,i,a),M=pm(f[0],f[1],S,c[0],f[1],T,c[0],c[1],C,i,a),I=Math.min(null!==A?A:Number.MAX_VALUE,null!==M?M:Number.MAX_VALUE);if(I!==Number.MAX_VALUE)return I;var P=ou([],i,a,m);if(gm(C,E,T,S,mm(P[0],c[0],f[0]),mm(P[1],c[1],f[1]))>=P[2])return m}else{for(var L=0,z=0;z<this._siblingOffset.length;z++){vm((v<<1)+this._siblingOffset[z][0],(y<<1)+this._siblingOffset[z][1],g+1,e,t,n,r,c,f),c[2]=-100,f[2]=this.maximums[this.childOffsets[p]+z]*o;var O=dm(c,f,i,a);if(null!=O){var D=O;l[z]=D;for(var R=!1,F=0;F<L&&!R;F++)D>=l[u[F]]&&(u.splice(F,0,z),R=!0);R||(u[L]=z),L++}}for(var B=0;B<L;B++){var j=u[B];h.push({idx:this.childOffsets[p]+j,t:l[j],nodex:(v<<1)+this._siblingOffset[j][0],nodey:(y<<1)+this._siblingOffset[j][1],depth:g+1})}}}return null}},{key:"_addNode",value:function(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}},{key:"_construct",value:function(e,t,n,r,i){if(1!==e[r].isLeaf(t,n)){this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);for(var a=r-1,o=e[a],s=0,l=0,u=0;u<this._siblingOffset.length;u++){var c=2*t+this._siblingOffset[u][0],f=2*n+this._siblingOffset[u][1],h=o.getElevation(c,f),d=o.isLeaf(c,f),p=this._addNode(h.min,h.max,d);d&&(s|=1<<u),l||(l=p)}for(var m=0;m<this._siblingOffset.length;m++)s&1<<m||this._construct(e,2*t+this._siblingOffset[m][0],2*n+this._siblingOffset[m][1],a,l+m)}}}]),e}();function gm(e,t,n,r,i,a){return Zn(Zn(e,n,a),Zn(t,r,a),i)}function _m(e,t,n){var r=n.dim,i=B(e*r-.5,0,r-1),a=B(t*r-.5,0,r-1),o=Math.floor(i),s=Math.floor(a),l=Math.min(o+1,r-1),u=Math.min(s+1,r-1);return gm(n.get(o,s),n.get(l,s),n.get(o,u),n.get(l,u),i-o,a-s)}var xm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]},bm=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d(this,e),this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return te('"'.concat(r,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));this.stride=n.height;var o=this.dim=n.height-2,s=new Uint32Array(n.data.buffer);if(this.pixels=new Uint8Array(n.data.buffer),this.encoding=r||"mapbox",this.borderReady=i,!i){for(var l=0;l<o;l++)s[this._idx(-1,l)]=s[this._idx(0,l)],s[this._idx(o,l)]=s[this._idx(o-1,l)],s[this._idx(l,-1)]=s[this._idx(l,0)],s[this._idx(l,o)]=s[this._idx(l,o-1)];s[this._idx(-1,-1)]=s[this._idx(0,0)],s[this._idx(o,-1)]=s[this._idx(o-1,0)],s[this._idx(-1,o)]=s[this._idx(0,o-1)],s[this._idx(o,o)]=s[this._idx(o-1,o-1)],a&&this._buildQuadTree()}}return p(e,[{key:"tree",get:function(){return this._tree||this._buildQuadTree(),this._tree}},{key:"_buildQuadTree",value:function(){this._tree=new ym(this)}},{key:"get",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=B(e,-1,this.dim),t=B(t,-1,this.dim));var n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}},{key:"unpackVector",get:function(){return xm[this.encoding]}},{key:"_idx",value:function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}},{key:"_unpackMapbox",value:function(e,t,n){return(256*e*256+256*t+n)/10-1e4}},{key:"_unpackTerrarium",value:function(e,t,n){return 256*e+t+n/256-32768}},{key:"getPixels",value:function(){return new Bu({width:this.stride,height:this.stride},this.pixels)}},{key:"backfillBorder",value:function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,l=-n*this.dim,u=a;u<o;u++)for(var c=r;c<i;c++){var f=4*this._idx(c,u),h=4*this._idx(c+s,u+l);this.pixels[f+0]=e.pixels[h+0],this.pixels[f+1]=e.pixels[h+1],this.pixels[f+2]=e.pixels[h+2],this.pixels[f+3]=e.pixels[h+3]}}},{key:"onDeserialize",value:function(){this._tree&&(this._tree.dem=this)}}],[{key:"getUnpackVector",value:function(e){return xm[e]}},{key:"pack",value:function(t,n){var r=[0,0,0,0],i=e.getUnpackVector(n),a=Math.floor((t+i[3])/i[2]);return r[2]=a%256,a=Math.floor(a/256),r[1]=a%256,a=Math.floor(a/256),r[0]=a,r}}]),e}();ea(bm,"DEMData"),ea(ym,"DemMinMaxQuadTree",{omit:["dem"]});var wm=function(){function e(t,n){d(this,e),this.max=t,this.onRemove=n,this.reset()}return p(e,[{key:"reset",value:function(){for(var e in this.data){var t,n=h(this.data[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}}catch(i){n.e(i)}finally{n.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(void 0!==n&&(a.timeout=setTimeout((function(){r.remove(e,a)}),n)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}},{key:"has",value:function(e){return e.wrapped().key in this.data}},{key:"getAndRemove",value:function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}},{key:"getByKey",value:function(e){var t=this.data[e];return t?t[0].value:null}},{key:"get",value:function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}},{key:"remove",value:function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}},{key:"setMaxSize",value:function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}},{key:"filter",value:function(e){var t=[];for(var n in this.data){var r,i=h(this.data[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;e(a.value)||t.push(a)}}catch(u){i.e(u)}finally{i.f()}}for(var o=0,s=t;o<s.length;o++){var l=s[o];this.remove(l.value.tileID,l)}}}]),e}(),km=p((function e(t,n,r){d(this,e),this.func=t,this.mask=n,this.range=r}));km.ReadOnly=!1,km.ReadWrite=!0,km.disabled=new km(519,km.ReadOnly,[0,1]);var Cm=7680,Em=p((function e(t,n,r,i,a,o){d(this,e),this.test=t,this.ref=n,this.mask=r,this.fail=i,this.depthFail=a,this.pass=o}));Em.disabled=new Em({func:519,mask:0},0,0,Cm,Cm,Cm);var Sm=p((function e(t,n,r){d(this,e),this.blendFunction=t,this.blendColor=n,this.mask=r}));Sm.Replace=[1,0],Sm.disabled=new Sm(Sm.Replace,Ut.transparent,[!1,!1,!1,!1]),Sm.unblended=new Sm(Sm.Replace,Ut.transparent,[!0,!0,!0,!0]),Sm.alphaBlended=new Sm([1,771],Ut.transparent,[!0,!0,!0,!0]);var Tm=1029,Am=2305,Mm=p((function e(t,n,r){d(this,e),this.enable=t,this.mode=n,this.frontFace=r}));Mm.disabled=new Mm(!1,Tm,Am),Mm.backCCW=new Mm(!0,Tm,Am),Mm.backCW=new Mm(!0,Tm,2304),Mm.frontCW=new Mm(!0,1028,2304),Mm.frontCCW=new Mm(!0,1028,Am);var Im=function(e){m(n,e);var t=v(n);function n(e,r,a){var o;return d(this,n),(o=t.call(this)).id=e,o._onlySymbols=a,r.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),r.on("error",(function(){o._sourceErrored=!0})),o._source=r,o._tiles={},o._cache=new wm(0,o._unloadTile.bind(i(o))),o._timers={},o._cacheTimers={},o._minTileCacheSize=r.minTileCacheSize,o._maxTileCacheSize=r.maxTileCacheSize,o._loadedParentTiles={},o._coveredTiles={},o._state=new fm,o._isRaster="raster"===o._source.type||"raster-dem"===o._source.type||"custom"===o._source.type&&"raster"===o._source._dataType,o}return p(n,[{key:"onAdd",value:function(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}}},{key:"_loadTile",value:function(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}},{key:"_unloadTile",value:function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))}},{key:"_abortTile",value:function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return N(this._tiles).map((function(e){return e.tileID})).sort(Pm).map((function(e){return e.key}))}},{key:"getRenderableIds",value:function(e){var t=this,n=[];for(var r in this._tiles)this._isIdRenderable(+r,e)&&n.push(this._tiles[r]);return e?n.sort((function(e,n){var r=e.tileID,i=n.tileID,a=new A(r.canonical.x,r.canonical.y)._rotate(t.transform.angle),o=new A(i.canonical.x,i.canonical.y)._rotate(t.transform.angle);return r.overscaledZ-i.overscaledZ||o.y-a.y||o.x-a.x})).map((function(e){return e.tileID.key})):n.map((function(e){return e.tileID})).sort(Pm).map((function(e){return e.key}))}},{key:"hasRenderableParent",value:function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}},{key:"_isIdRenderable",value:function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}},{key:"_reloadTile",value:function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}},{key:"_tileLoaded",value:function(e,t,n,r){if(r)if(e.state="errored",404!==r.status)this._source.fire(new st(r,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){var i=this.map.painter.terrain;this.update(this.transform,i.getScaledDemTileSize(),!0),i.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=rt.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new ot("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}},{key:"_backfillDEM",value:function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);a(e,i),a(i,e)}}function a(e,t){if(e.dem&&!e.dem.borderReady){e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}}}},{key:"getTile",value:function(e){return this.getTileByID(e.key)}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"_retainLoadedChildren",value:function(e,t,n,r){for(var i in this._tiles){var a=this._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var l=o;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){r[o.key]=o;break}}}}},{key:"findLoadedParent",value:function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),a=this._getLoadedTile(i);if(a)return a}}},{key:"_getLoadedTile",value:function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}},{key:"updateCacheSize",value:function(e,t){t=t||this._source.tileSize;var n=Math.ceil(e.width/t)+1,r=Math.ceil(e.height/t)+1,i=Math.floor(n*r*5),a="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,i):i,o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,a):a;this._cache.setMaxSize(o)}},{key:"handleWrapJump",value:function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(+o,this._tiles[o])}}},{key:"update",value:function(e,t,r){var i=this;if(this.transform=e,this._sourceLoaded&&!this._paused&&!this.transform.freezeTileCoverage&&(!this.usedForTerrain||r)){var a;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?a=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new hf(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(a=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(a=a.filter((function(e){return i._source.hasTile(e)})))):a=[];var o=this._updateRetainedTiles(a);if(Lm(this._source.type)&&0!==a.length){for(var s={},l={},u=0,c=Object.keys(o);u<c.length;u++){var f=c[u],d=o[f],p=this._tiles[f];if(p&&!(p.fadeEndTime&&p.fadeEndTime<=rt.now())){var m=this.findLoadedParent(d,Math.max(d.overscaledZ-n.maxOverzooming,this._source.minzoom));m&&(this._addTile(m.tileID),s[m.tileID.key]=m.tileID),l[f]=d}}var v=a[a.length-1].overscaledZ;for(var y in this._tiles){var g=this._tiles[y];if(!o[y]&&g.hasData())for(var _=g.tileID;_.overscaledZ>v;){_=_.scaledTo(_.overscaledZ-1);var x=this._tiles[_.key];if(x&&x.hasData()&&l[_.key]){o[y]=g.tileID;break}}}for(var b in s)o[b]||(this._coveredTiles[b]=!0,o[b]=s[b])}for(var w in o)this._tiles[w].clearFadeHold();var k,C=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n}(this._tiles,o),E=h(C);try{for(E.s();!(k=E.n()).done;){var S=k.value,T=this._tiles[S];T.hasSymbolBuckets&&!T.holdingForFade()?T.setHoldDuration(this.map._fadeDuration):T.hasSymbolBuckets&&!T.symbolFadeFinished()||this._removeTile(+S)}}catch(A){E.e(A)}finally{E.f()}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}},{key:"_updateRetainedTiles",value:function(e){var t={};if(0===e.length)return t;var r,i={},a=e.reduce((function(e,t){return Math.min(e,t.overscaledZ)}),1/0),o=e[0].overscaledZ,s=Math.max(o-n.maxOverzooming,this._source.minzoom),l=Math.max(o+n.maxUnderzooming,this._source.minzoom),u={},c=h(e);try{for(c.s();!(r=c.n()).done;){var f=r.value,d=this._addTile(f);t[f.key]=f,d.hasData()||a<this._source.maxzoom&&(u[f.key]=f)}}catch(C){c.e(C)}finally{c.f()}this._retainLoadedChildren(u,a,l,t);var p,m=h(e);try{for(m.s();!(p=m.n()).done;){var v=p.value,y=this._tiles[v.key];if(!y.hasData()){if(v.canonical.z>=this._source.maxzoom){var g=v.children(this._source.maxzoom)[0],_=this.getTile(g);if(_&&_.hasData()){t[g.key]=g;continue}}else{var x=v.children(this._source.maxzoom);if(t[x[0].key]&&t[x[1].key]&&t[x[2].key]&&t[x[3].key])continue}for(var b=y.wasRequested(),w=v.overscaledZ-1;w>=s;--w){var k=v.scaledTo(w);if(i[k.key])break;if(i[k.key]=!0,!(y=this.getTile(k))&&b&&(y=this._addTile(k)),y&&(t[k.key]=k,b=y.wasRequested(),y.hasData()))break}}}}catch(C){m.e(C)}finally{m.f()}return t}},{key:"_updateLoadedParentTileCache",value:function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var a=0,o=t;a<o.length;a++){var s=o[a];this._loadedParentTiles[s]=n}}}},{key:"_addTile",value:function(e){var t=this._tiles[e.key];if(t)return t;(t=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));var n=Boolean(t);if(!n){var r=this.map?this.map.painter:null;t=new cm(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,r,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new ot("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}},{key:"_setTileReloadTimer",value:function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))}},{key:"_removeTile",value:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}},{key:"clearTiles",value:function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}},{key:"tilesIn",value:function(e,t,n){var r=[],i=this.transform;if(!i)return r;var a="globe"===i.projection.name,o=Qs(i.center.lng);for(var s in this._tiles){var l=this._tiles[s];if(n&&l.clearQueryDebugViz(),!l.holdingForFade()){var u=void 0;if(a){var f=l.tileID.canonical;if(0===f.z){var d=[Math.abs(B.apply(void 0,[o].concat(c(zm(f,-1))))-o),Math.abs(B.apply(void 0,[o].concat(c(zm(f,1))))-o)];u=[0,2*d.indexOf(Math.min.apply(Math,d))-1]}else{var p=[Math.abs(B.apply(void 0,[o].concat(c(zm(f,-1))))-o),Math.abs(B.apply(void 0,[o].concat(c(zm(f,0))))-o),Math.abs(B.apply(void 0,[o].concat(c(zm(f,1))))-o)];u=[p.indexOf(Math.min.apply(Math,p))-1]}}else u=[0];var m,v=h(u);try{for(v.s();!(m=v.n()).done;){var y=m.value,g=e.containsTile(l,i,t,y);g&&r.push(g)}}catch(_){v.e(_)}finally{v.f()}}}return r}},{key:"getVisibleCoordinates",value:function(e){var t,n=this,r=this.getRenderableIds(e).map((function(e){return n._tiles[e].tileID})),i=h(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.projMatrix=this.transform.calculateProjMatrix(a.toUnwrapped())}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if(Lm(this._source.type))for(var e in this._tiles){var t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=rt.now())return!0}return!1}},{key:"setFeatureState",value:function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}},{key:"removeFeatureState",value:function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}},{key:"getFeatureState",value:function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}},{key:"setDependencies",value:function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)}},{key:"reloadTilesForDependencies",value:function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))}},{key:"_preloadTiles",value:function(e,t){var n,r=this,i=new Map,a=Array.isArray(e)?e:[e],o=this.map.painter.terrain,s=this.usedForTerrain&&o?o.getScaledDemTileSize():this._source.tileSize,l=h(a);try{for(l.s();!(n=l.n()).done;){var u,c=n.value,f=c.coveringTiles({tileSize:s,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),d=h(f);try{for(d.s();!(u=d.n()).done;){var p=u.value;i.set(p.key,p)}}catch(m){d.e(m)}finally{d.f()}this.usedForTerrain&&c.updateElevation(!1)}}catch(m){l.e(m)}finally{l.f()}Z(Array.from(i.values()),(function(e,t){var n=new cm(e,r._source.tileSize*e.overscaleFactor(),r.transform.tileZoom,r.map.painter,r._isRaster);r._loadTile(n,(function(e){"raster-dem"===r._source.type&&n.dem&&r._backfillDEM(n),t(e,n)}))}),t)}}]),n}(lt);function Pm(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Lm(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function zm(e,t){var n=1<<e.z;return[e.x/n+t,(e.x+1)/n+t]}Im.maxOverzooming=10,Im.maxUnderzooming=3;var Om=function(){function e(t,n,r){d(this,e),this._demTile=t,this._dem=this._demTile.dem,this._scale=n,this._offset=r}return p(e,[{key:"tileCoordToPixel",value:function(e,t){var n=t*this._scale+this._offset[1],r=Math.floor(e*this._scale+this._offset[0]),i=Math.floor(n);return new A(r,i)}},{key:"getElevationAt",value:function(e,t,n,r){var i=e*this._scale+this._offset[0],a=t*this._scale+this._offset[1],o=Math.floor(i),s=Math.floor(a),l=this._dem;return r=!!r,n?Zn(Zn(l.get(o,s,r),l.get(o,s+1,r),a-s),Zn(l.get(o+1,s,r),l.get(o+1,s+1,r),a-s),i-o):l.get(o,s,r)}},{key:"getElevationAtPixel",value:function(e,t,n){return this._dem.get(e,t,!!n)}},{key:"getMeterToDEM",value:function(e){return(1<<this._demTile.tileID.canonical.z)*$s(1,e)*this._dem.stride}}],[{key:"create",value:function(t,n,r){var i=r||t.findDEMTileFor(n);if(i&&i.dem){var a=i.dem,o=i.tileID,s=1<<n.canonical.z-o.canonical.z;return new e(i,i.tileSize/qs/s,[(n.canonical.x/s-o.canonical.x)*a.dim,(n.canonical.y/s-o.canonical.y)*a.dim])}}}]),e}(),Dm=function(){function e(t,n){d(this,e),this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Qi(qs,16,0),this.featureIndexArray=new is,this.promoteId=n}return p(e,[{key:"insert",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i,a);for(var s=this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],f=0;f<u.length;f++){var h=u[f];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}c[0]<qs&&c[1]<qs&&c[2]>=0&&c[3]>=0&&s.insert(o,c[0],c[1],c[2],c[3])}}},{key:"loadVTLayers",value:function(){if(!this.vtLayers)for(var e in this.vtLayers=new Vc(new Gf(this.rawTileData)).layers,this.sourceLayerCoder=new Zp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={},this.vtLayers)this.vtFeatures[e]=[];return this.vtLayers}},{key:"query",value:function(e,t,n,r){var i=this;this.loadVTLayers();var a=e.params||{},o=_i(a.filter),s=e.tileResult,l=e.transform,u=s.bufferedTilespaceBounds,c=this.grid.query(u.min.x,u.min.y,u.max.x,u.max.y,(function(e,t,n,r){return Al(s.bufferedTilespaceGeometry,e,t,n,r)}));c.sort(Fm);var f=null;l.elevation&&c.length>0&&(f=Om.create(l.elevation,this.tileID));for(var h,d={},p=function(l){var u=c[l];if(u===h)return"continue";h=u;var p=i.featureIndexArray.get(u),m=null;i.loadMatchingFeature(d,p,o,a.layers,a.availableImages,t,n,r,(function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return m||(m=dl(t,i.tileID.canonical,e.tileTransform)),n.queryIntersectsFeature(s,t,r,m,i.z,e.transform,e.pixelPosMatrix,f,a)}))},m=0;m<c.length;m++)p(m);return d}},{key:"loadMatchingFeature",value:function(e,t,n,r,i,a,o,s,l){var u=t.featureIndex,c=t.bucketIndex,f=t.sourceLayerIndex,h=t.layoutVertexArrayOffset,d=this.bucketLayerIDs[c];if(!r||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(r,d)){var p=this.sourceLayerCoder.decode(f),m=this.vtLayers[p].feature(u);if(n.needGeometry){var v=pl(m,!0);if(!n.filter(new eo(this.tileID.overscaledZ),v,this.tileID.canonical))return}else if(!n.filter(new eo(this.tileID.overscaledZ),m))return;for(var y=this.getId(m,p),g=0;g<d.length;g++){var _=d[g];if(!(r&&r.indexOf(_)<0)){var x=a[_];if(x){var b={};void 0!==y&&s&&(b=s.getState(x.sourceLayer||"_geojsonTileLayer",y));var w=V({},o[_]);w.paint=Rm(w.paint,x.paint,m,b,i),w.layout=Rm(w.layout,x.layout,m,b,i);var k=!l||l(m,x,b,h);if(k){var C=new Vp(m,this.z,this.x,this.y,y);C.layer=w;var E=e[_];void 0===E&&(E=e[_]=[]),E.push({featureIndex:u,feature:C,intersectionZ:k})}}}}}}},{key:"lookupSymbolFeatures",value:function(e,t,n,r,i,a,o,s){var l={};this.loadVTLayers();var u,c=_i(i),f=h(e);try{for(f.s();!(u=f.n()).done;){var d=u.value;this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:r,featureIndex:d,layoutVertexArrayOffset:0},c,a,o,s,t)}}catch(p){f.e(p)}finally{f.f()}return l}},{key:"loadFeature",value:function(e){var t=e.featureIndex,n=e.sourceLayerIndex;this.loadVTLayers();var r=this.sourceLayerCoder.decode(n),i=this.vtFeatures[r];if(i[t])return i[t];var a=this.vtLayers[r].feature(t);return i[t]=a,a}},{key:"hasLayer",value:function(e){var t,n=h(this.bucketLayerIDs);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=h(i);try{for(a.s();!(r=a.n()).done;)if(e===r.value)return!0}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"getId",value:function(e,t){var n=e.id;if(this.promoteId){var r="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=r&&(n=e.properties[r]),"boolean"==typeof n&&(n=Number(n))}return n}}]),e}();function Rm(e,t,n,r,i){return Q(e,(function(e,a){var o=t instanceof lo?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o}))}function Fm(e,t){return t-e}ea(Dm,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});var Bm=function(){function e(t,n){d(this,e),this.width=t,this.height=n,this.nextRow=0,this.image=new Fu({width:t,height:n}),this.positions={},this.uploaded=!1}return p(e,[{key:"getDash",value:function(e,t){var n=this.getKey(e,t);return this.positions[n]}},{key:"trim",value:function(){var e=this.width,t=this.height=H(this.nextRow);this.image.resize({width:e,height:t})}},{key:"getKey",value:function(e,t){return e.join(",")+t}},{key:"getDashRanges",value:function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,a=e[0]*n,o=!0;r.push({left:i,right:a,isDash:o,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){o=!o;var u=e[l];i=s*n,a=(s+=u)*n,r.push({left:i,right:a,isDash:o,zeroLength:0===u})}return r}},{key:"addRoundDash",value:function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var a=this.width*(this.nextRow+n+i),o=0,s=e[o],l=0;l<this.width;l++){l/s.right>1&&(s=e[++o]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),f=Math.min(u,c),h=void 0,d=i/n*(r+1);if(s.isDash){var p=r-Math.abs(d);h=Math.sqrt(f*f+p*p)}else h=r-Math.sqrt(f*f+d*d);this.image.data[a+l]=Math.max(0,Math.min(255,h+128))}}},{key:"addRegularDash",value:function(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=e[n+1];r.zeroLength?e.splice(n,1):i&&i.isDash===r.isDash&&(i.left=r.left,e.splice(n,1))}var a=e[0],o=e[e.length-1];a.isDash===o.isDash&&(a.left=o.left-this.width,o.right=a.right+this.width);for(var s=this.width*this.nextRow,l=0,u=e[l],c=0;c<this.width;c++){c/u.right>1&&(u=e[++l]);var f=Math.abs(c-u.left),h=Math.abs(c-u.right),d=Math.min(f,h);this.image.data[s+c]=Math.max(0,Math.min(255,(u.isDash?d:-d)+t+128))}}},{key:"addDash",value:function(e,t){var n=this.getKey(e,t);if(this.positions[n])return this.positions[n];var r="round"===t,i=r?7:0,a=2*i+1;if(this.nextRow+a>this.height)return te("LineAtlas out of space"),null;0===e.length&&e.push(1);for(var o=0,s=0;s<e.length;s++)e[s]<0&&(te("Negative value is found in line dasharray, replacing values with 0"),e[s]=0),o+=e[s];if(0!==o){var l=this.width/o,u=this.getDashRanges(e,this.width,l);r?this.addRoundDash(u,l,i):this.addRegularDash(u,"square"===t?.5*l:0)}var c=this.nextRow+i;this.nextRow+=a;var f={tl:[c,i],br:[o,0]};return this.positions[n]=f,f}}]),e}();ea(Bm,"LineAtlas");var jm=p((function e(t){d(this,e);var n={},r=[];for(var i in t){var a=t[i],o=n[i]={};for(var s in a.glyphs){var l=a.glyphs[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u=l.metrics.localGlyph?2:1,c={x:0,y:0,w:l.bitmap.width+2*u,h:l.bitmap.height+2*u};r.push(c),o[s]=c}}}var f=mh(r),h=f.w,p=f.h,m=new Fu({width:h||1,height:p||1});for(var v in t){var y=t[v];for(var g in y.glyphs){var _=y.glyphs[+g];if(_&&0!==_.bitmap.width&&0!==_.bitmap.height){var x=n[v][g],b=_.metrics.localGlyph?2:1;Fu.copy(_.bitmap,m,{x:0,y:0},{x:x.x+b,y:x.y+b},_.bitmap)}}}this.image=m,this.positions=n}));ea(jm,"GlyphAtlas");var Um=function(){function e(t){d(this,e),this.tileID=new hf(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=Qd(t.tileID.canonical,t.projection),this.projection=t.projection}return p(e,[{key:"parse",value:function(e,t,n,r,i){var a=this;this.status="parsing",this.data=e,this.collisionBoxArray=new Ko;var o=new Zp(Object.keys(e.layers).sort()),s=new Dm(this.tileID,this.promoteId);s.bucketLayerIDs=[];var l,u,c,f,d={},p=new Bm(256,256),m={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:p,availableImages:n},v=t.familiesBySource[this.source];for(var y in v){var g=e.layers[y];if(g){var _,x=!1,b=!1,w=h(v[y]);try{for(w.s();!(_=w.n()).done;)"symbol"===_.value[0].type?x=!0:b=!0}catch(F){w.e(F)}finally{w.f()}if((!0!==this.isSymbolTile||x)&&(!1!==this.isSymbolTile||b)){1===g.version&&te('Vector tile source "'.concat(this.source,'" layer "').concat(y,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));for(var k=o.encode(y),C=[],E=0;E<g.length;E++){var S=g.feature(E),T=s.getId(S,y);C.push({feature:S,id:T,index:E,sourceLayerIndex:k})}var A,M=h(v[y]);try{for(M.s();!(A=M.n()).done;){var I=A.value,P=I[0];void 0!==this.isSymbolTile&&"symbol"===P.type!==this.isSymbolTile||P.minzoom&&this.zoom<Math.floor(P.minzoom)||P.maxzoom&&this.zoom>=P.maxzoom||"none"!==P.visibility&&(Zm(I,this.zoom,n),(d[P.id]=P.createBucket({index:s.bucketLayerIDs.length,layers:I,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:k,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(C,m,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(I.map((function(e){return e.id}))))}}catch(F){M.e(F)}finally{M.f()}}}}p.trim();var L={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},z=Q(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(z).length?r.send("getGlyphs",{uid:this.uid,stacks:z},(function(e,t){l||(l=e,u=t,R.call(a))}),void 0,!1,L):u={};var O=Object.keys(m.iconDependencies);O.length?r.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){l||(l=e,c=t,R.call(a))}),void 0,!1,L):c={};var D=Object.keys(m.patternDependencies);function R(){if(l)return i(l);if(u&&c&&f){var e=new jm(u),t=new yh(c,f);for(var r in d){var a=d[r];a instanceof Tp?(Zm(a.layers,this.zoom,n),ld(a,u,e.positions,c,t.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):a.hasPattern&&(a instanceof wf||a instanceof Cc||a instanceof Qc)&&(Zm(a.layers,this.zoom,n),a.addFeatures(m,this.tileID.canonical,t.patternPositions,n,this.tileTransform))}this.status="done",i(null,{buckets:N(d).filter((function(e){return!e.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:p,imageAtlas:t,glyphMap:this.returnDependencies?u:null,iconMap:this.returnDependencies?c:null,glyphPositions:this.returnDependencies?e.positions:null})}}D.length?r.send("getImages",{icons:D,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){l||(l=e,f=t,R.call(a))}),void 0,!1,L):f={},R.call(this)}}]),e}();function Zm(e,t,n){var r,i=new eo(t),a=h(e);try{for(a.s();!(r=a.n()).done;)r.value.recalculate(i,n)}catch(o){a.e(o)}finally{a.f()}}var Nm=function(){function e(t){d(this,e),this.entries={},this.scheduler=t}return p(e,[{key:"request",value:function(e,t,n,r){var i=this,a=this.entries[e]=this.entries[e]||{callbacks:[]};if(a.result){var o=f(a.result,2),s=o[0],l=o[1];return this.scheduler?this.scheduler.add((function(){r(s,l)}),t):r(s,l),function(){}}return a.callbacks.push(r),a.cancel||(a.cancel=n((function(n,r){a.result=[n,r];var o,s=h(a.callbacks);try{var l=function(){var e=o.value;i.scheduler?i.scheduler.add((function(){e(n,r)}),t):e(n,r)};for(s.s();!(o=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}setTimeout((function(){return delete i.entries[e]}),3e3)}))),function(){a.result||(a.callbacks=a.callbacks.filter((function(e){return e!==r})),a.callbacks.length||(a.cancel(),delete i.entries[e]))}}}]),e}();function Vm(e,t,n){var r=JSON.stringify(e.request);return e.data&&(this.deduped.entries[r]={result:[null,e.data]}),this.deduped.request(r,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(function(t){var r=ke(e.request,(function(e,r,i,a){e?t(e):r&&t(null,{vectorTile:n?void 0:new Vc(new Gf(r)),rawData:r,cacheControl:i,expires:a})}));return function(){r.cancel(),t()}}),t)}e.ARRAY_TYPE=Fl,e.AUTH_ERR_MSG=Me,e.Aabb=Tu,e.Actor=function(){function e(t,n,r){d(this,e),this.target=t,this.parent=n,this.mapId=r,this.callbacks={},this.cancelCallbacks={},Y(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=ie()?t:g,this.scheduler=new Up}return p(e,[{key:"send",value:function(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,s=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[s]=n);var l=se(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:e,hasCallback:!!n,targetMapId:r,mustQueue:a,sourceMapId:this.mapId,data:ia(t,l)},l),{cancel:function(){n&&delete i.callbacks[s],i.target.postMessage({id:s,type:"<cancel>",targetMapId:r,sourceMapId:i.mapId})}}}},{key:"receive",value:function(e){var t=this,n=e.data,r=n.id;if(r&&(!n.targetMapId||this.mapId===n.targetMapId))if("<cancel>"===n.type){var i=this.cancelCallbacks[r];delete this.cancelCallbacks[r],i&&i.cancel()}else if(n.mustQueue||ie()){var a=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add((function(){return t.processTask(r,n)}),a&&a.metadata||{type:"message"})}else this.processTask(r,n)}},{key:"processTask",value:function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(aa(t.error)):r(null,aa(t.data)))}else{var i=se(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?ia(t):null,data:ia(r,i)},i)}:function(e){},o=aa(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,o,a);else if(this.parent.getWorkerSource){var s=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,s[0],o.source)[s[1]](o,a)}else a(new Error("Could not find function ".concat(t.type)))}}},{key:"remove",value:function(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),e}(),e.CanonicalTileID=cf,e.Color=Ut,e.ColorMode=Sm,e.CullFaceMode=Mm,e.DEMData=bm,e.DataConstantProperty=uo,e.DedupedRequest=Nm,e.DepthMode=km,e.EXTENT=qs,e.Elevation=function(){function e(){d(this,e)}return p(e,[{key:"isDataAvailableAtPoint",value:function(e){var t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;var n=t.getSource().maxzoom,r=1<<n,i=Math.floor(e.x),a=Math.floor((e.x-i)*r),o=Math.floor(e.y*r),s=this.findDEMTileFor(new hf(n,i,n,a,o));return!(!s||!s.dem)}},{key:"getAtPointOrZero",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAtPoint(e,t)||0}},{key:"getAtPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isUsingMockSource())return null;null==t&&(t=null);var r=this._source();if(!r)return t;if(e.y<0||e.y>1)return t;var i=r.getSource().maxzoom,a=1<<i,o=Math.floor(e.x),s=e.x-o,l=new hf(i,o,i,Math.floor(s*a),Math.floor(e.y*a)),u=this.findDEMTileFor(l);if(!u||!u.dem)return t;var c=u.dem,f=1<<u.tileID.canonical.z,h=(s*f-u.tileID.canonical.x)*c.dim,d=(e.y*f-u.tileID.canonical.y)*c.dim,p=Math.floor(h),m=Math.floor(d);return(n?this.exaggeration():1)*Zn(Zn(c.get(p,m),c.get(p,m+1),d-m),Zn(c.get(p+1,m),c.get(p+1,m+1),d-m),h-p)}},{key:"getAtTileOffset",value:function(e,t,n){var r=1<<e.canonical.z;return this.getAtPointOrZero(new al(e.wrap+(e.canonical.x+t/qs)/r,(e.canonical.y+n/qs)/r))}},{key:"getAtTileOffsetFunc",value:function(e,t,n,r){var i=this;return function(a){var o=i.getAtTileOffset(e,a.x,a.y),s=r.upVector(e.canonical,a.x,a.y);return au(s,s,o*r.upVectorScale(e.canonical,t,n).metersToTile),s}}},{key:"getForTilePoints",value:function(e,t,n,r){var i=this;if(this.isUsingMockSource())return!1;var a=Om.create(this,e,r);return!!a&&(t.forEach((function(e){e[2]=i.exaggeration()*a.getElevationAt(e[0],e[1],n)})),!0)}},{key:"getMinMaxForTile",value:function(e){if(this.isUsingMockSource())return null;var t=this.findDEMTileFor(e);if(!t||!t.dem)return null;for(var n=t.dem.tree,r=t.tileID,i=1<<e.canonical.z-r.canonical.z,a=e.canonical.x/i-r.canonical.x,o=e.canonical.y/i-r.canonical.y,s=0,l=0;l<e.canonical.z-r.canonical.z&&!n.leaves[s];l++){a*=2,o*=2;var u=2*Math.floor(o)+Math.floor(a);s=n.childOffsets[s]+u,a%=1,o%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}},{key:"getMinElevationBelowMSL",value:function(){throw new Error("Pure virtual method called.")}},{key:"raycast",value:function(e,t,n){throw new Error("Pure virtual method called.")}},{key:"pointCoordinate",value:function(e){throw new Error("Pure virtual method called.")}},{key:"_source",value:function(){throw new Error("Pure virtual method called.")}},{key:"isUsingMockSource",value:function(){throw new Error("Pure virtual method called.")}},{key:"exaggeration",value:function(){throw new Error("Pure virtual method called.")}},{key:"findDEMTileFor",value:function(e){throw new Error("Pure virtual method called.")}},{key:"visibleDemTiles",get:function(){throw new Error("Getter must be implemented in subclass.")}}]),e}(),e.ErrorEvent=st,e.EvaluationParameters=eo,e.Event=ot,e.Evented=lt,e.FillExtrusionBucket=Qc,e.Frustum=Su,e.FrustumCorners=Eu,e.GLOBE_METERS_TO_ECEF=bd,e.GLOBE_RADIUS=xd,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=function(){function e(t){d(this,e),this._createGrid(t),this._createPoles(t)}return p(e,[{key:"destroy",value:function(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();var e,t=h(this._poleSegments);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(o){t.e(o)}finally{t.f()}var n,r=h(this._gridSegments);try{for(r.s();!(n=r.n()).done;)n.value.destroy()}catch(o){r.e(o)}finally{r.f()}if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();var i,a=h(this._wireframeSegments);try{for(a.s();!(i=a.n()).done;)i.value.destroy()}catch(o){a.e(o)}finally{a.f()}}}},{key:"_createGrid",value:function(e){for(var t=new wo,n=new Bo,r=65,i=0;i<r;i++)for(var a=0;a<r;a++)t.emplaceBack(a,i);this._gridSegments=[];for(var o=0,s=0;o<kd.length;o++){for(var l=kd[o],u=0;u<l;u++)for(var c=0;c<64;c++){var f=u*r+c;n.emplaceBack(f+1,f,f+r),n.emplaceBack(f+r,f+r+1,f+1)}var h=64*l*2;this._gridSegments.push(Gs.simpleSegment(0,s,(l+1)*r,h)),s+=h}this._gridBuffer=e.createVertexBuffer(t,_d.members),this._gridIndexBuffer=e.createIndexBuffer(n,!0)}},{key:"_createPoles",value:function(e){for(var t=new Bo,n=0;n<=wd;n++)t.emplaceBack(0,n+1,n+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);var r=new No,i=new No;this._poleSegments=[];for(var a=0,o=0;a<5;a++){var s=360/(1<<a);r.emplaceBack(0,-xd,0,.5,0),i.emplaceBack(0,-xd,0,.5,1);for(var l=0;l<=wd;l++){var u=l/wd,c=Zn(0,s,u),h=Fd(Xd,Yd,c,xd),d=f(h,3),p=d[0],m=d[1],v=d[2];r.emplaceBack(p,m,v,u,0),i.emplaceBack(p,m,v,u,1)}this._poleSegments.push(Gs.simpleSegment(o,0,66,64)),o+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(r,yd,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(i,yd,!1)}},{key:"getGridBuffers",value:function(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}},{key:"getPoleBuffers",value:function(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}},{key:"getWirefameBuffers",value:function(e,t){if(!this._wireframeSegments){var n=new Go,r=wd,i=r+1;this._wireframeSegments=[];for(var a=0,o=0;a<kd.length;a++){for(var s=kd[a],l=0;l<s;l++)for(var u=0;u<r;u++){var c=l*i+u;n.emplaceBack(c,c+1),n.emplaceBack(c,c+i),n.emplaceBack(c,c+i+1)}var f=s*r*3;this._wireframeSegments.push(Gs.simpleSegment(0,o,(s+1)*i,f)),o+=f}this._wireframeIndexBuffer=e.createIndexBuffer(n)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}}]),e}(),e.GlyphManager=Hh,e.ImagePosition=vh,e.LivePerformanceUtils=Ye,e.LngLat=Xs,e.LngLatBounds=Ws,e.LocalGlyphMode=Wh,e.MAX_MERCATOR_LATITUDE=rl,e.MercatorCoordinate=al,e.ONE_EM=Of,e.OverscaledTileID=hf,e.PerformanceMarkers=Xe,e.Properties=mo,e.RGBAImage=Bu,e.Ray=Cu,e.RequestManager=function(){function e(t,n,r){d(this,e),this._transformRequestFn=t,this._customAccessToken=n,this._silenceAuthErrors=!!r,this._createSkuToken()}return p(e,[{key:"_createSkuToken",value:function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",E,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}},{key:"_isSkuTokenExpired",value:function(){return Date.now()>this._skuTokenExpiresAt}},{key:"transformRequest",value:function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}},{key:"normalizeStyleURL",value:function(e,t){if(!Ie(e))return e;var n=De(e);return n.path="/styles/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}},{key:"normalizeGlyphsURL",value:function(e,t){if(!Ie(e))return e;var n=De(e);return n.path="/fonts/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}},{key:"normalizeSourceURL",value:function(e,t,n,r){if(!Ie(e))return e;var i=De(e);return i.path="/v4/".concat(i.authority,".json"),i.params.push("secure"),n&&i.params.push("language=".concat(n)),r&&i.params.push("worldview=".concat(r)),this._makeAPIURL(i,this._customAccessToken||t)}},{key:"normalizeSpriteURL",value:function(e,t,n,r){var i=De(e);return Ie(e)?(i.path="/styles/v1".concat(i.path,"/sprite").concat(t).concat(n),this._makeAPIURL(i,this._customAccessToken||r)):(i.path+="".concat(t).concat(n),Re(i))}},{key:"normalizeTileURL",value:function(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!Ie(e))return e;var r=De(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,"".concat(t||n&&"raster"!==r.authority&&512===n?"@2x":"").concat(b.supported?".webp":"$1")),"raster"===r.authority?r.path="/".concat(x.RASTER_URL_PREFIX).concat(r.path):(r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/".concat(x.TILE_URL_VERSION).concat(r.path));var i=this._customAccessToken||function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.match(/^access_token=(.*)$/);if(r)return r[1]}}catch(i){n.e(i)}finally{n.f()}return null}(r.params)||x.ACCESS_TOKEN;return x.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&r.params.push("sku=".concat(this._skuToken)),this._makeAPIURL(r,i)}},{key:"canonicalizeTileURL",value:function(e,t){var n=De(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://";n.path.match(/^\/raster\/v1\//)?r+="raster/".concat(n.path.replace("/".concat(x.RASTER_URL_PREFIX,"/"),"")):r+="tiles/".concat(n.path.replace("/".concat(x.TILE_URL_VERSION,"/"),""));var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?".concat(i.join("&"))),r}},{key:"canonicalizeTileset",value:function(e,t){var n,r=!!t&&Ie(t),i=[],a=h(e.tiles||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;Pe(o)?i.push(this.canonicalizeTileURL(o,r)):i.push(o)}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"_makeAPIURL",value:function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=De(x.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path="".concat(r.path).concat(e.path)),!x.REQUIRE_ACCESS_TOKEN)return Re(e);if(t=t||x.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. ".concat(n));if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(n))}return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token=".concat(t||"")),Re(e)}}]),e}(),e.ResourceType=_e,e.SegmentVector=Gs,e.SourceCache=Im,e.StencilMode=Em,e.StructArrayLayout1ui2=qo,e.StructArrayLayout2f1f2i16=Do,e.StructArrayLayout2i4=wo,e.StructArrayLayout2ui4=Go,e.StructArrayLayout3f12=Fo,e.StructArrayLayout3ui6=Bo,e.StructArrayLayout4i8=Co,e.StructArrayLayout5f20=No,e.Texture=Bp,e.Tile=cm,e.Transitionable=ro,e.Uniform1f=bs,e.Uniform1i=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=0,r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}}]),n}(xs),e.Uniform2f=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=[0,0],r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}}]),n}(xs),e.Uniform3f=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=[0,0,0],r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}}]),n}(xs),e.Uniform4f=ws,e.UniformColor=ks,e.UniformMatrix2f=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=Ss,r}return p(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t))for(var r=0;r<4;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}}]),n}(xs),e.UniformMatrix3f=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=Es,r}return p(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t))for(var r=0;r<9;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}}]),n}(xs),e.UniformMatrix4f=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).current=Cs,r}return p(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(var r=1;r<16;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}}]),n}(xs),e.UnwrappedTileID=ff,e.ValidationError=ci,e.VectorTileFeature=Gc,e.VectorTileWorkerSource=function(e){m(n,e);var t=v(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this)).actor=e,s.layerIndex=r,s.availableImages=i,s.loadVectorData=o||Vm,s.loading={},s.loaded={},s.deduped=new Nm(e.scheduler),s.isSpriteLoaded=a,s.scheduler=e.scheduler,s}return p(n,[{key:"loadTile",value:function(e,t){var n=this,r=e.uid,i=e&&e.request,a=i&&i.collectResourceTiming,o=this.loading[r]=new Um(e);o.abort=this.loadVectorData(e,(function(s,l){var u=!n.loading[r];if(delete n.loading[r],u||s||!l)return o.status="done",u||(n.loaded[r]=o),t(s);var c=l.rawData,f={};l.expires&&(f.expires=l.expires),l.cacheControl&&(f.cacheControl=l.cacheControl),o.vectorTile=l.vectorTile||new Vc(new Gf(c));var h=function(){o.parse(o.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(e,n){if(e||!n)return t(e);var r={};if(a){var o=nt(i);o.length>0&&(r.resourceTiming=JSON.parse(JSON.stringify(o)))}t(null,V({rawTileData:c.slice(0)},n,f,r))}))};n.isSpriteLoaded?h():n.once("isSpriteLoaded",(function(){n.scheduler?n.scheduler.add(h,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):h()})),n.loaded=n.loaded||{},n.loaded[r]=o}))}},{key:"reloadTile",value:function(e,t){var n=this,r=this.loaded,i=e.uid,a=this;if(r&&r[i]){var o=r[i];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=Qd(e.tileID.canonical,e.projection);var s=function(e,r){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,i)),t(e,r)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}},{key:"abortTile",value:function(e,t){var n=e.uid,r=this.loading[n];r&&(r.abort&&r.abort(),delete this.loading[n]),t()}},{key:"removeTile",value:function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}]),n}(lt),e.WritingMode=gh,e.ZoomHistory=oa,e.add=eu,e.addDynamicAttributes=kp,e.adjoint=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=i*u-r*c,e[2]=r*s-i*o,e[3]=s*l-a*c,e[4]=n*c-i*l,e[5]=i*a-n*s,e[6]=a*u-o*l,e[7]=r*l-n*u,e[8]=n*o-r*a,e},e.asyncAll=Z,e.bezier=R,e.bindAll=Y,e.boundsAttributes=lm,e.bufferConvexPolygon=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=U(r-1,-1,e.length-1),a=U(r+1,-1,e.length-1),o=e[r],s=e[a],l=e[i].sub(o).unit(),u=s.sub(o).unit(),c=u.angleWithSep(l.x,l.y),f=l.add(u).unit().mult(-1*t/Math.sin(c/2));n.push(o.add(f))}return n},e.cacheEntryPossiblyAdded=function(e){++ge>pe&&(e.getActor().send("enforceCacheSizeLimit",de),ge=0)},e.calculateGlobeLabelMatrix=function(e,t){var n=e.point,r=Gd(n.x,n.y,e.worldSize/e._pixelsPerMercatorPixel,0,0);return Nl(r,r,Vd(Id(t)))},e.calculateGlobeMatrix=function(e){var t=e.point,n=t.x,r=t.y,i=e._center,a=i.lng,o=i.lat;return Gd(n,r,e.worldSize,a,o)},e.calculateGlobeMercatorMatrix=function(e){var t=e.pixelsPerMeter,n=t/$s(1,e.center.lat),r=Ul(new Float64Array(16));return Vl(r,r,[e.point.x,e.point.y,0]),Gl(r,r,[n,n,t]),Float32Array.from(r)},e.circumferenceAtLatitude=Ks,e.clamp=B,e.clearTileCache=function(e){if(me()){var t=g.caches.delete(he);e&&t.catch(e).then((function(){return e()}))}},e.clipLine=Nh,e.clone=function(e){var t=new Fl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=$,e.collisionCircleLayout=zf,e.config=x,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new Fl(16);return Fl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=Bl,e.createExpression=ii,e.createLayout=xo,e.createStyleLayer=function(e){return"custom"===e.type?new Op(e):new Fp[e.type](e)},e.cross=uu,e.degToRad=L,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.dot=lu,e.earthRadius=Hs,e.ease=F,e.easeCubicInOut=D,e.ecefToLatLng=function(e){var t=f(e,3),n=t[0],r=t[1],i=t[2],a=Math.hypot(n,r,i),o=Math.atan2(n,i),s=.5*Math.PI-Math.acos(-r/a);return new Xs(z(o),z(s))},e.emitValidationErrors=Ki,e.endsWith=K,e.enforceCacheSizeLimit=function(e){ve(),ce&&ce.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=Ff,e.evaluateSizeForZoom=Bf,e.evaluateVariableOffset=sd,e.evented=Ka,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=rt,e.exported$1=b,e.extend=V,e.extend$1=ct,e.fillExtrusionHeightLift=af,e.filterObject=J,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,l=i+i,u=n*o,c=r*o,f=r*s,h=i*o,d=i*s,p=i*l,m=a*o,v=a*s,y=a*l;return e[0]=1-f-p,e[1]=c+y,e[2]=h-v,e[3]=0,e[4]=c-y,e[5]=1-u-p,e[6]=d+m,e[7]=0,e[8]=h+v,e[9]=d-m,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=Hl,e.furthestTileCorner=function(e){var t=Math.round((e+45+360)%360/90)%4;return O[t]},e.getAABBPointSquareDist=function(e,t,n){for(var r=0,i=0;i<2;++i){var a=n?n[i]:0;e[i]>a&&(r+=(e[i]-a)*(e[i]-a)),t[i]<a&&(r+=(a-t[i])*(a-t[i]))}return r},e.getAnchorAlignment=Ih,e.getAnchorJustification=ud,e.getBounds=function(e){var t,n=1/0,r=1/0,i=-1/0,a=-1/0,o=h(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n=Math.min(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.x),a=Math.max(a,s.y)}}catch(l){o.e(l)}finally{o.f()}return{min:new A(n,r),max:new A(i,a)}},e.getColumn=ue,e.getGridMatrix=function(e,t,n,r){var i=t.getNorth(),a=t.getSouth(),o=t.getWest(),s=t.getEast(),l=1<<e.z,u=s-o,c=i-a,f=u/wd,h=-c/kd[n],d=[0,f,0,h,0,0,i,o,0];if(e.z>0){var p=180/r;jl(d,d,[p/u+1,0,0,0,p/c+1,0,-.5*p/f,.5*p/h,1])}return d[2]=l,d[5]=e.x,d[8]=e.y,d},e.getImage=Ae,e.getJSON=function(e,t){return we(V(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){var t=80.051129;e=B(e,-80.051129,t)/t*90;var n=Math.pow(Math.abs(Math.sin(L(e))),3);return Math.round(n*(kd.length-1))},e.getMapSessionAPI=We,e.getPerformanceMeasurement=nt,e.getProjection=gp,e.getRTLTextPluginStatus=Qa,e.getReferrer=be,e.getTilePoint=function(e,t){var n=t.x,r=t.y;return new A(((n-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0))*e.scale-e.x)*qs,(r*e.scale-e.y)*qs)},e.getTileVec3=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return $l(((t.x-n)*e.scale-e.x)*qs,(t.y*e.scale-e.y)*qs,nl(t.z,t.y))},e.getVideo=function(e,t){var n=g.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(var r=0;r<e.length;r++){var i=g.document.createElement("source");Ce(e[r])||(n.crossOrigin="Anonymous"),i.src=e[r],n.appendChild(i)}return{cancel:function(){}}},e.globeCenterToScreenPoint=function(e){var t=[0,0,0],n=Ul(new Float64Array(16));return Nl(n,e.pixelMatrix,e.globeMatrix),cu(t,t,n),new A(t[0],t[1])},e.globeDenormalizeECEF=Vd,e.globeECEFOrigin=function(e,t){var n=[0,0,0];return cu(n,n,Nd(Id(t.canonical))),cu(n,n,e),n},e.globeNormalizeECEF=Nd,e.globePixelsToTileUnits=function(e,t){return qs/(512*Math.pow(2,e))*Ud(Id(t))},e.globePoleMatrixForTile=function(e,t,n){var r=Ul(new Float64Array(16)),i=(t/(1<<e)-.5)*Math.PI*2;return Wl(r,n.globeMatrix,i),Float32Array.from(r)},e.globeTileBounds=Id,e.globeTiltAtLngLat=Wd,e.globeToMercatorTransition=qd,e.globeUseCustomAntiAliasing=function(e,t,n){var r=qd(n.zoom),i=e.style.map._antialias,a=!!t.extStandardDerivatives,o=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===r&&!i&&!o&&a},e.identity=Ul,e.identity$1=xu,e.invert=Zl,e.isFullscreen=function(){return!!g.document.fullscreenElement||!!g.document.webkitFullscreenElement},e.isLngLatBehindGlobe=function(e,t){return Wd(e,t)>Math.PI/2*1.01},e.isMapAuthenticated=function(e){return He.has(e)},e.isMapboxURL=Ie,e.isSafariWithAntialiasingBug=function(e){var t=e.navigator?e.navigator.userAgent:null;return!!se(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=tl,e.latLngToECEF=Bd,e.len=mu,e.length=Jl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=el,e.loadVectorTile=Vm,e.makeRequest=we,e.mapValue=function(e,t,n,r,i){return B((e-t)/(n-t)*(i-r)+r,r,i)},e.mercatorScale=il,e.mercatorXfromLng=Qs,e.mercatorYfromLat=Js,e.mercatorZfromAltitude=$s,e.mul=Yl,e.mul$1=pu,e.multiply=Nl,e.multiply$1=jl,e.multiply$2=nu,e.nextPowerOfTwo=H,e.normalize=su,e.normalize$1=ku,e.normalize$2=yu,e.number=Zn,e.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),l=1/(r-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(o+a)*u,e[15]=1,e},e.pbf=Gf,e.perspective=function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=$a,e.pointGeometry=A,e.polygonContainsPoint=Tl,e.polygonIntersectsBox=Al,e.polygonIntersectsPolygon=gl,e.polygonizeBounds=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=new A(n,n),a=e.sub(i),o=t.add(i),s=[a,new A(o.x,a.y),o,new A(a.x,o.y)];return r&&s.push(a.clone()),s},e.posAttributes=_d,e.postMapLoadEvent=Ne,e.postPerformanceEvent=Ge,e.postTurnstileEvent=Ue,e.potpack=mh,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=z,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:Wa,pluginURL:Ha}),Ka.on("pluginStateChange",e),e},e.removeAuthState=function(e){He.delete(e)},e.renderColorRamp=Uu,e.resample=sl,e.rotateX=ql,e.rotateX$1=bu,e.rotateY=Wl,e.rotateY$1=wu,e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=l*i+h*r,e[4]=u*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=h*i-l*r,e},e.rotateZ$1=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=a*l+o*s,e[3]=o*l-a*s,e},e.scale=Gl,e.scale$1=vu,e.scale$2=au,e.scaleAndAdd=ou,e.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},e.setCacheLimits=function(e,t){de=e,pe=t},e.setColumn=function(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},e.setRTLTextPlugin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Wa===Na||Wa===Va||Wa===Ga)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ha=rt.resolveURL(e),Wa=Na,qa=t,Ya(),n||Ja()},e.smoothstep=j,e.spec=ut,e.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},e.storeAuthState=function(e,t){t?He.add(e):He.delete(e)},e.sub=du,e.subtract=tu,e.symbolSize=jf,e.tileAABB=function(e,t,n,r,i,a,o,s,l){if("globe"===l.name)return Od(e,t,new cf(n,r,i));var u=Qd({z:n,x:r,y:i},l);return new Tu([(a+u.x/u.scale)*t,t*(u.y/u.scale),o],[(a+u.x2/u.scale)*t,t*(u.y2/u.scale),s])},e.tileCornersToBounds=Dd,e.tileTransform=Qd,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},e.transformMat4=cu,e.transformMat4$1=gu,e.transformQuat=fu,e.transitionTileAABBinECEF=Ld,e.translate=Vl,e.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=Xa,e.uniqueId=q,e.updateGlobeVertexNormal=function(e,t,n,r,i){var a=5*t+2;e.float32[a+0]=n,e.float32[a+1]=r,e.float32[a+2]=i},e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.validateFilter=function(e){return Yi(Pi(e))},e.validateFog=function(e){return Yi(Ni(e))},e.validateLayer=function(e){return Yi(Ri(e))},e.validateLight=function(e){return Yi(Ui(e))},e.validateSource=function(e){return Yi(ji(e))},e.validateStyle=Wi,e.validateTerrain=function(e){return Yi(Zi(e))},e.values=N,e.vectorTile=Pc,e.version=_,e.warnOnce=te,e.window=g,e.wrap=U})),g(["./shared"],(function(e){function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){var n,r="[",i=h(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r+="".concat(t(a),",")}}catch(c){i.e(c)}finally{i.f()}return"".concat(r,"]")}var o,s="{",l=h(Object.keys(e).sort());try{for(l.s();!(o=l.n()).done;){var u=o.value;s+="".concat(u,":").concat(t(e[u]),",")}}catch(c){l.e(c)}finally{l.f()}return"".concat(s,"}")}function n(n){var r,i="",a=h(e.refProperties);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+="/".concat(t(n[o]))}}catch(s){a.e(s)}finally{a.f()}return i}var r=function(){function t(e){d(this,t),this.keyCache={},e&&this.replace(e)}return p(t,[{key:"replace",value:function(e){this._layerConfigs={},this._layers={},this.update(e,[])}},{key:"update",value:function(t,r){var i,a=this,o=h(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._layerConfigs[s.id]=s,(this._layers[s.id]=e.createStyleLayer(s)).compileFilter(),this.keyCache[s.id]&&delete this.keyCache[s.id]}}catch(b){o.e(b)}finally{o.f()}var l,u=h(r);try{for(u.s();!(l=u.n()).done;){var c=l.value;delete this.keyCache[c],delete this._layerConfigs[c],delete this._layers[c]}}catch(b){u.e(b)}finally{u.f()}this.familiesBySource={};var f,d=function(e,t){for(var r={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=a);var o=r[a];o||(o=r[a]=[]),o.push(e[i])}var s=[];for(var l in r)s.push(r[l]);return s}(e.values(this._layerConfigs),this.keyCache),p=h(d);try{for(p.s();!(f=p.n()).done;){var m=f.value.map((function(e){return a._layers[e.id]})),v=m[0];if("none"!==v.visibility){var y=v.source||"",g=this.familiesBySource[y];g||(g=this.familiesBySource[y]={});var _=v.sourceLayer||"_geojsonTileLayer",x=g[_];x||(x=g[_]=[]),x.push(m)}}}catch(b){p.e(b)}finally{p.f()}}}]),t}(),i=function(){function t(){d(this,t)}return p(t,[{key:"loadTile",value:function(t,n){var r=t.uid,i=t.encoding,a=t.rawImageData,o=t.padding,s=t.buildQuadTree,l=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap?this.getImageData(a,o):a;n(null,new e.DEMData(r,l,i,o<1,s))}},{key:"getImageData",value:function(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n}}]),t}(),a=function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)l(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)l(t.coordinates[r],n);return t};function l(e,t){if(0!==e.length){u(e[0],t);for(var n=1;n<e.length;n++)u(e[n],!t)}}function u(e,t){for(var n=0,r=0,i=0,a=e.length,o=a-1;i<a;o=i++){var s=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}var c=e.VectorTileFeature.prototype.toGeoJSON,y=function(){function t(n){d(this,t),this._feature=n,this.extent=e.EXTENT,this.type=n.type,this.properties=n.tags,"id"in n&&!isNaN(n.id)&&(this.id=parseInt(n.id,10))}return p(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t,n=[],r=h(this._feature.geometry);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push([new e.pointGeometry(i[0],i[1])])}}catch(p){r.e(p)}finally{r.f()}return n}var a,o=[],s=h(this._feature.geometry);try{for(s.s();!(a=s.n()).done;){var l,u=a.value,c=[],f=h(u);try{for(f.s();!(l=f.n()).done;){var d=l.value;c.push(new e.pointGeometry(d[0],d[1]))}}catch(p){f.e(p)}finally{f.f()}o.push(c)}}catch(p){s.e(p)}finally{s.f()}return o}},{key:"toGeoJSON",value:function(e,t,n){return c.call(this,e,t,n)}}]),t}(),g=function(){function t(n){d(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=n.length,this._features=n}return p(t,[{key:"feature",value:function(e){return new y(this._features[e])}}]),t}(),_={exports:{}},x=e.pointGeometry,b=e.vectorTile.VectorTileFeature,w=k;function k(e,t){this.options=t||{},this.features=e,this.length=e.length}function C(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}k.prototype.feature=function(e){return new C(this.features[e],this.options.extent)},C.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new x(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},C.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},C.prototype.toGeoJSON=b.prototype.toGeoJSON;var E=e.pbf,S=w;function T(e){var t=new E;return function(e,t){for(var n in e.layers)t.writeMessage(3,A,e.layers[n])}(e,t),t.finish()}function A(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,M,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,O,a[n])}function M(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,I,e),t.writeVarintField(3,n.type),t.writeMessage(4,z,n)}function I(e,t){var n=e.feature,r=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var l=n.properties[s],u=a[s];if(null!==l){void 0===u&&(r.push(s),a[s]=u=r.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,h=o[f];void 0===h&&(i.push(l),o[f]=h=i.length-1),t.writeVarint(h)}}}function P(e,t){return(t<<3)+(7&e)}function L(e){return e<<1^e>>31}function z(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,a=0,o=n.length,s=0;s<o;s++){var l=n[s],u=1;1===r&&(u=l.length),t.writeVarint(P(1,u));for(var c=3===r?l.length-1:l.length,f=0;f<c;f++){1===f&&1!==r&&t.writeVarint(P(2,c-1));var h=l[f].x-i,d=l[f].y-a;t.writeVarint(L(h)),t.writeVarint(L(d)),i+=h,a+=d}3===r&&t.writeVarint(P(7,1))}}function O(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function D(e,t,n,r,i,a){if(!(i-r<=n)){var o=r+i>>1;R(e,t,o,r,i,a%2),D(e,t,n,r,o-1,a+1),D(e,t,n,o+1,i,a+1)}}function R(e,t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1);R(e,t,n,Math.max(r,Math.floor(n-s*u/o+c)),Math.min(i,Math.floor(n+(o-s)*u/o+c)),a)}var f=t[2*n+a],h=r,d=i;for(F(e,t,r,n),t[2*i+a]>f&&F(e,t,r,i);h<d;){for(F(e,t,h,d),h++,d--;t[2*h+a]<f;)h++;for(;t[2*d+a]>f;)d--}t[2*r+a]===f?F(e,t,r,d):F(e,t,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}function F(e,t,n,r){B(e,n,r),B(t,2*n,2*r),B(t,2*n+1,2*r+1)}function B(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function j(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}_.exports=T,_.exports.fromVectorTileJs=T,_.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new S(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return T({layers:n})},_.exports.GeoJSONWrapper=S;var U,Z=function(e){return e[0]},N=function(e){return e[1]},V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;d(this,e),this.nodeSize=i,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(t.length),l=this.coords=new a(2*t.length),u=0;u<t.length;u++)s[u]=u,l[2*u]=n(t[u]),l[2*u+1]=r(t[u]);D(s,l,i,0,s.length-1,0)}return p(e,[{key:"range",value:function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var f=u.pop(),h=u.pop(),d=u.pop();if(h-d<=o)for(var p=d;p<=h;p++)s=t[2*p],l=t[2*p+1],s>=n&&s<=i&&l>=r&&l<=a&&c.push(e[p]);else{var m=Math.floor((d+h)/2);s=t[2*m],l=t[2*m+1],s>=n&&s<=i&&l>=r&&l<=a&&c.push(e[m]);var v=(f+1)%2;(0===f?n<=s:r<=l)&&(u.push(d),u.push(m-1),u.push(v)),(0===f?i>=s:a>=l)&&(u.push(m+1),u.push(h),u.push(v))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)}},{key:"within",value:function(e,t,n){return function(e,t,n,r,i,a){for(var o=[0,e.length-1,0],s=[],l=i*i;o.length;){var u=o.pop(),c=o.pop(),f=o.pop();if(c-f<=a)for(var h=f;h<=c;h++)j(t[2*h],t[2*h+1],n,r)<=l&&s.push(e[h]);else{var d=Math.floor((f+c)/2),p=t[2*d],m=t[2*d+1];j(p,m,n,r)<=l&&s.push(e[d]);var v=(u+1)%2;(0===u?n-i<=p:r-i<=m)&&(o.push(f),o.push(d-1),o.push(v)),(0===u?n+i>=p:r+i>=m)&&(o.push(d+1),o.push(c),o.push(v))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}]),e}(),G={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},q=Math.fround||(U=new Float32Array(1),function(e){return U[0]=+e,U[0]}),W=function(){function e(t){d(this,e),this.options=ee(Object.create(G),t),this.trees=new Array(this.options.maxZoom+1)}return p(e,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time("total time");var o="prepare ".concat(e.length," points");n&&console.time(o),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(X(e[l],l));this.trees[i+1]=new V(s,te,ne,a,Float32Array),n&&console.timeEnd(o);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new V(s,te,ne,a,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}var l,u=this.trees[this._limitZoom(t)],c=u.range(Q(n),J(a),Q(i),J(r)),f=[],d=h(c);try{for(d.s();!(l=d.n()).done;){var p=l.value,m=u.points[p];f.push(m.numPoints?Y(m):this.points[m.index])}}catch(v){d.e(v)}finally{d.f()}return f}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var a=i.points[t];if(!a)throw new Error(r);var o,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=i.within(a.x,a.y,s),u=[],c=h(l);try{for(c.s();!(o=c.n()).done;){var f=o.value,d=i.points[f];d.parentId===e&&u.push(d.numPoints?Y(d):this.points[d.index])}}catch(p){c.e(p)}finally{c.f()}if(0===u.length)throw new Error(r);return u}},{key:"getLeaves",value:function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius/o,l=(n-s)/i,u=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,u),r.points,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,u),r.points,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,u),r.points,-1,n,i,c),c.features.length?c:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,i){var a,o=this.getChildren(t),s=h(o);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(l),e.length===n)break}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"_addTileFeatures",value:function(e,t,n,r,i,a){var o,s=h(e);try{for(s.s();!(o=s.n()).done;){var l=t[o.value],u=l.numPoints,c=void 0,f=void 0,d=void 0;if(u)c=K(l),f=l.x,d=l.y;else{var p=this.points[l.index];c=p.properties,f=Q(p.geometry.coordinates[0]),d=J(p.geometry.coordinates[1])}var m={type:1,geometry:[[Math.round(this.options.extent*(f*i-n)),Math.round(this.options.extent*(d*i-r))]],tags:c},v=void 0;u?v=l.id:this.options.generateId?v=l.index:this.points[l.index].id&&(v=this.points[l.index].id),void 0!==v&&(m.id=v),a.features.push(m)}}catch(y){s.e(y)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=[],r=this.options,i=r.radius,a=r.extent,o=r.reduce,s=r.minPoints,l=i/(a*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;var f,d=this.trees[t+1],p=d.within(c.x,c.y,l),m=c.numPoints||1,v=m,y=h(p);try{for(y.s();!(f=y.n()).done;){var g=f.value,_=d.points[g];_.zoom>t&&(v+=_.numPoints||1)}}catch(z){y.e(z)}finally{y.f()}if(v>m&&v>=s){var x,b=c.x*m,w=c.y*m,k=o&&m>1?this._map(c,!0):null,C=(u<<5)+(t+1)+this.points.length,E=h(p);try{for(E.s();!(x=E.n()).done;){var S=x.value,T=d.points[S];if(!(T.zoom<=t)){T.zoom=t;var A=T.numPoints||1;b+=T.x*A,w+=T.y*A,T.parentId=C,o&&(k||(k=this._map(c,!0)),o(k,this._map(T)))}}}catch(z){E.e(z)}finally{E.f()}c.parentId=C,n.push(H(b/v,w/v,C,v,k))}else if(n.push(c),v>1){var M,I=h(p);try{for(I.s();!(M=I.n()).done;){var P=M.value,L=d.points[P];L.zoom<=t||(L.zoom=t,n.push(L))}}catch(z){I.e(z)}finally{I.f()}}}}return n}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?ee({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?ee({},r):r}}]),e}();function H(e,t,n,r,i){return{x:q(e),y:q(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function X(e,t){var n=f(e.geometry.coordinates,2),r=n[0],i=n[1];return{x:q(Q(r)),y:q(J(i)),zoom:1/0,index:t,parentId:-1}}function Y(e){return{type:"Feature",id:e.id,properties:K(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),$(e.y)]}};var t}function K(e){var t=e.numPoints,n=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?Math.round(t/100)/10+"k":t;return ee(ee({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function Q(e){return e/360+.5}function J(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function $(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function ee(e,t){for(var n in t)e[n]=t[n];return e}function te(e){return e.x}function ne(e){return e.y}function re(e,t,n,r){for(var i,a=r,o=n-t>>1,s=n-t,l=e[t],u=e[t+1],c=e[n],f=e[n+1],h=t+3;h<n;h+=3){var d=ie(e[h],e[h+1],l,u,c,f);if(d>a)i=h,a=d;else if(d===a){var p=Math.abs(h-o);p<s&&(i=h,s=p)}}a>r&&(i-t>3&&re(e,t,i,r),e[i+2]=a,n-i>3&&re(e,i,n,r))}function ie(e,t,n,r,i,a){var o=i-n,s=a-r;if(0!==o||0!==s){var l=((e-n)*o+(t-r)*s)/(o*o+s*s);l>1?(n=i,r=a):l>0&&(n+=o*l,r+=s*l)}return(o=e-n)*o+(s=t-r)*s}function ae(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)oe(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)oe(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)oe(e,t[r][i])}(i),i}function oe(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function se(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===a)le(i,s);else if("MultiPoint"===a)for(var u=0;u<i.length;u++)le(i[u],s);else if("LineString"===a)ue(i,s,o,!1);else if("MultiLineString"===a){if(n.lineMetrics){for(u=0;u<i.length;u++)ue(i[u],s=[],o,!1),e.push(ae(l,"LineString",s,t.properties));return}ce(i,s,o,!1)}else if("Polygon"===a)ce(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(u=0;u<t.geometry.geometries.length;u++)se(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];ce(i[u],c,o,!0),s.push(c)}}e.push(ae(l,a,s,t.properties))}}function le(e,t){t.push(fe(e[0])),t.push(he(e[1])),t.push(0)}function ue(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var l=fe(e[s][0]),u=he(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(o+=r?(i*u-l*a)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-a,2))),i=l,a=u}var c=t.length-3;t[2]=1,re(t,0,c,n),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function ce(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];ue(e[i],a,n,r),t.push(a)}}function fe(e){return e/360+.5}function he(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function de(e,t,n,r,i,a,o,s){if(r/=t,a>=(n/=t)&&o<r)return e;if(o<n||a>=r)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],f=c.geometry,h=c.type,d=0===i?c.minX:c.minY,p=0===i?c.maxX:c.maxY;if(d>=n&&p<r)l.push(c);else if(!(p<n||d>=r)){var m=[];if("Point"===h||"MultiPoint"===h)pe(f,m,n,r,i);else if("LineString"===h)me(f,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)ye(f,m,n,r,i,!1);else if("Polygon"===h)ye(f,m,n,r,i,!0);else if("MultiPolygon"===h)for(var v=0;v<f.length;v++){var y=[];ye(f[v],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(v=0;v<m.length;v++)l.push(ae(c.id,h,m[v],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push(ae(c.id,h,m,c.tags))}}}return l.length?l:null}function pe(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function me(e,t,n,r,i,a,o){for(var s,l,u=ve(e),c=0===i?_e:xe,f=e.start,h=0;h<e.length-3;h+=3){var d=e[h],p=e[h+1],m=e[h+2],v=e[h+3],y=e[h+4],g=0===i?d:p,_=0===i?v:y,x=!1;o&&(s=Math.sqrt(Math.pow(d-v,2)+Math.pow(p-y,2))),g<n?_>n&&(l=c(u,d,p,v,y,n),o&&(u.start=f+s*l)):g>r?_<r&&(l=c(u,d,p,v,y,r),o&&(u.start=f+s*l)):ge(u,d,p,m),_<n&&g>=n&&(l=c(u,d,p,v,y,n),x=!0),_>r&&g<=r&&(l=c(u,d,p,v,y,r),x=!0),!a&&x&&(o&&(u.end=f+s*l),t.push(u),u=ve(e)),o&&(f+=s)}var b=e.length-3;d=e[b],p=e[b+1],m=e[b+2],(g=0===i?d:p)>=n&&g<=r&&ge(u,d,p,m),b=u.length-3,a&&b>=3&&(u[b]!==u[0]||u[b+1]!==u[1])&&ge(u,u[0],u[1],u[2]),u.length&&t.push(u)}function ve(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ye(e,t,n,r,i,a){for(var o=0;o<e.length;o++)me(e[o],t,n,r,i,a,!1)}function ge(e,t,n,r){e.push(t),e.push(n),e.push(r)}function _e(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function xe(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function be(e,t){for(var n=[],r=0;r<e.length;r++){var i,a=e[r],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=we(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(we(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var l=[],u=0;u<a.geometry[s].length;u++)l.push(we(a.geometry[s][u],t));i.push(l)}n.push(ae(a.id,o,i,a.tags))}return n}function we(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function ke(e,t){if(e.transformed)return e;var n,r,i,a=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(Ce(u[r],u[r+1],t,a,o,s));else for(r=0;r<u.length;r++){var f=[];for(i=0;i<u[r].length;i+=2)f.push(Ce(u[r][i],u[r][i+1],t,a,o,s));l.geometry.push(f)}}return e.transformed=!0,e}function Ce(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function Ee(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Se(o,e[s],a,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,f=e[s].maxY;l<o.minX&&(o.minX=l),u<o.minY&&(o.minY=u),c>o.maxX&&(o.maxX=c),f>o.maxY&&(o.maxY=f)}return o}function Se(e,t,n,r){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)Te(o,i,e,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)Te(o,i[s],e,n,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)Te(o,u[s],e,n,!0,0===s)}if(o.length){var c=t.tags||null;if("LineString"===a&&r.lineMetrics){for(var f in c={},t.tags)c[f]=t.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:c};null!==t.id&&(h.id=t.id),e.features.push(h)}}function Te(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>o)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}(s,a),e.push(s)}}function Ae(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)se(n,e.features[r],t,r);else se(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=function(e,t){var n=t.buffer/t.extent,r=e,i=de(e,1,-1-n,n,0,-1,2,t),a=de(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=de(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=be(i,1).concat(r)),a&&(r=r.concat(be(a,-1)))),r}(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Me(e,t,n){return 32*((1<<e)*n+t)+e}function Ie(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new g(r.features),a=_.exports(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}Ae.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ae.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,f=Me(t,n,r),h=this.tiles[f];if(!h&&(u>1&&console.time("creation"),h=this.tiles[f]=Ee(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(h.source=e,i){if(t===l.maxZoom||t===i)continue;var p=1<<i-t;if(n!==Math.floor(a/p)||r!==Math.floor(o/p))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){u>1&&console.time("clipping");var m,v,y,g,_,x,b=.5*l.buffer/l.extent,w=.5-b,k=.5+b,C=1+b;m=v=y=g=null,_=de(e,c,n-b,n+k,0,h.minX,h.maxX,l),x=de(e,c,n+w,n+C,0,h.minX,h.maxX,l),e=null,_&&(m=de(_,c,r-b,r+k,1,h.minY,h.maxY,l),v=de(_,c,r+w,r+C,1,h.minY,h.maxY,l),_=null),x&&(y=de(x,c,r-b,r+k,1,h.minY,h.maxY,l),g=de(x,c,r+w,r+C,1,h.minY,h.maxY,l),x=null),u>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(v||[],t+1,2*n,2*r+1),s.push(y||[],t+1,2*n+1,2*r),s.push(g||[],t+1,2*n+1,2*r+1)}}},Ae.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e,s=Me(e,t=(t%o+o)%o,n);if(this.tiles[s])return ke(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,u=e,c=t,f=n;!l&&u>0;)u--,c=Math.floor(c/2),f=Math.floor(f/2),l=this.tiles[Me(u,c,f)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",u,c,f),a>1&&console.time("drilling down"),this.splitTile(l.source,u,c,f,e,t,n),a>1&&console.timeEnd("drilling down"),this.tiles[s]?ke(this.tiles[s],i):null):null};var Pe=function(t){m(r,t);var n=v(r);function r(e,t,i,a,o){var s;return d(this,r),s=n.call(this,e,t,i,a,Ie),o&&(s.loadGeoJSON=o),s}return p(r,[{key:"loadData",value:function(t,n){var r=this,i=t&&t.request,o=i&&i.collectResourceTiming;this.loadGeoJSON(t,(function(s,l){if(s||!l)return n(s);if("object"!=typeof l)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));a(l,!0);try{if(t.filter){var u=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));var c=l.features.filter((function(e){return u.value.evaluate({zoom:0},e)}));l={type:"FeatureCollection",features:c}}r._geoJSONIndex=t.cluster?new W(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u++){var d=c[u],p=f(r[d],2),m=p[0],v=p[1],y=e.createExpression(v),g=e.createExpression("string"==typeof m?[m,["accumulated"],["get",d]]:m);i[d]=y.value,a[d]=g.value}return n.map=function(e){s.properties=e;var t,n={},r=h(l);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=i[a].evaluate(o,s)}}catch(u){r.e(u)}finally{r.f()}return n},n.reduce=function(e,t){s.properties=t;var n,r=h(l);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}}catch(u){r.e(u)}finally{r.f()}},n}(t)).load(l.features):function(e,t){return new Ae(e,t)}(l,t.geojsonVtOptions)}catch(s){return n(s)}r.loaded={};var d={};if(o){var p=e.getPerformanceMeasurement(i);p&&(d.resourceTiming={},d.resourceTiming[t.source]=JSON.parse(JSON.stringify(p)))}n(null,d)}))}},{key:"reloadTile",value:function(e,t){var n=this.loaded;return n&&n[e.uid]?o(s(r.prototype),"reloadTile",this).call(this,e,t):this.loadTile(e,t)}},{key:"loadGeoJSON",value:function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}}}},{key:"getClusterExpansionZoom",value:function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}},{key:"getClusterChildren",value:function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}},{key:"getClusterLeaves",value:function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}]),r}(e.VectorTileWorkerSource),Le=function(){function t(n){var r=this;d(this,t),this.self=n,this.actor=new e.Actor(n,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:Pe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}return p(t,[{key:"clearCaches",value:function(e,t,n){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],n()}},{key:"checkIfReady",value:function(e,t,n){n()}},{key:"setReferrer",value:function(e,t){this.referrer=t}},{key:"spriteLoaded",value:function(t,n){for(var r in this.isSpriteLoaded[t]=n,this.workerSources[t]){var i=this.workerSources[t][r];for(var a in i)i[a]instanceof e.VectorTileWorkerSource&&(i[a].isSpriteLoaded=n,i[a].fire(new e.Event("isSpriteLoaded")))}}},{key:"setImages",value:function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var a in i)i[a].availableImages=t}n()}},{key:"enableTerrain",value:function(e,t,n){this.terrain=t,n()}},{key:"setProjection",value:function(t,n){this.projections[t]=e.getProjection(n)}},{key:"setLayers",value:function(e,t,n){this.getLayerIndex(e).replace(t),n()}},{key:"updateLayers",value:function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}},{key:"loadTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).loadTile(i,r)}},{key:"loadDEMTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(t,n.source).loadTile(i,r)}},{key:"reloadTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).reloadTile(i,r)}},{key:"abortTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}},{key:"removeTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}},{key:"removeSource",value:function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}}},{key:"loadWorkerSource",value:function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}},{key:"syncRTLPluginState",value:function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var a=e.plugin.isParsed();r(a?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(i)),a)}}catch(e){r(e.toString())}}},{key:"getAvailableImages",value:function(e){var t=this.availableImages[e];return t||(t=[]),t}},{key:"getLayerIndex",value:function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t}},{key:"getWorkerSource",value:function(e,t,n){var r=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){var i={send:function(t,n,i,a,o,s){r.actor.send(t,n,i,e,o,s)},scheduler:this.actor.scheduler};this.workerSources[e][t][n]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][n]}},{key:"getDEMWorkerSource",value:function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new i),this.demWorkerSources[e][t]}},{key:"enforceCacheSizeLimit",value:function(t,n){e.enforceCacheSizeLimit(n)}},{key:"getWorkerPerformanceMetrics",value:function(e,t,n){n(void 0,void 0)}}]),t}();return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Le(self)),Le})),g(["./shared"],(function(e){function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n}var n=u;function u(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===y[t=e&&e.failIfMajorPerformanceCaveat]&&(y[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(u.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),y[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var y={};function g(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i}function _(t,n,r){for(var i=e.window.document.createElementNS("http://www.w3.org/2000/svg",t),a=0,o=Object.keys(n);a<o.length;a++){var s=o[a];i.setAttributeNS(null,s,n[s])}return r&&r.appendChild(i),i}u.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var x,b=e.window.document&&e.window.document.documentElement.style,w=b&&void 0!==b.userSelect?"userSelect":"WebkitUserSelect";function k(){b&&w&&(x=b[w],b[w]="none")}function C(){b&&w&&(b[w]=x)}function E(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",E,!0)}function S(){e.window.addEventListener("click",E,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",E,!0)}),0)}function T(e,t){var n=e.getBoundingClientRect();return I(e,n,t)}function A(e,t){for(var n=e.getBoundingClientRect(),r=[],i=0;i<t.length;i++)r.push(I(e,n,t[i]));return r}function M(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function I(t,n,r){var i=t.offsetWidth===n.width?1:t.offsetWidth/n.width;return new e.pointGeometry((r.clientX-n.left)*i,(r.clientY-n.top)*i)}function P(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(e[0]=a*(o=1/o),e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null}function L(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}var z=function(t){m(r,t);var n=v(r);function r(){var t;return d(this,r),(t=n.call(this)).images={},t.updatedImages={},t.callbackDispatchedThisFrame={},t.loaded=!1,t.requestors=[],t.patterns={},t.atlasImage=new e.RGBAImage({width:1,height:1}),t.dirty=!0,t}return p(r,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(e){if(this.loaded!==e&&(this.loaded=e,e)){var t,n=h(this.requestors);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.ids,a=r.callback;this._notify(i,a)}}catch(o){n.e(o)}finally{n.f()}this.requestors=[]}}},{key:"hasImage",value:function(e){return!!this.getImage(e)}},{key:"getImage",value:function(e){return this.images[e]}},{key:"addImage",value:function(e,t){this._validate(e,t)&&(this.images[e]=t)}},{key:"_validate",value:function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "content" value')))),r=!1),r}},{key:"_validateStretch",value:function(e,t){if(!e)return!0;var n,r=0,i=h(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a[0]<r||a[1]<a[0]||t<a[1])return!1;r=a[1]}}catch(o){i.e(o)}finally{i.f()}return!0}},{key:"_validateContent",value:function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}},{key:"updateImage",value:function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}},{key:"removeImage",value:function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(e,t){var n=!0;if(!this.isLoaded()){var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.images[a]||(n=!1)}}catch(o){i.e(o)}finally{i.f()}}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}},{key:"_notify",value:function(t,n){var r,i={},a=h(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?i[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'.concat(o,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(l){a.e(l)}finally{a.f()}n(null,i)}},{key:"getPixelSize",value:function(){var e=this.atlasImage;return{width:e.width,height:e.height}}},{key:"getPattern",value:function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},a=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position}},{key:"bind",value:function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,a=r.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,f=this.images[s].data,h=f.width,d=f.height;e.RGBAImage.copy(f,o,{x:0,y:0},{x:u,y:c},{width:h,height:d}),e.RGBAImage.copy(f,o,{x:0,y:d-1},{x:u,y:c-1},{width:h,height:1}),e.RGBAImage.copy(f,o,{x:0,y:0},{x:u,y:c+d},{width:h,height:1}),e.RGBAImage.copy(f,o,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:d}),e.RGBAImage.copy(f,o,{x:0,y:0},{x:u+h,y:c},{width:1,height:d})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];L(i)&&this.updateImage(r,i)}}}catch(a){n.e(a)}finally{n.f()}}}]),r}(e.Evented),O=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new(function(){function t(){d(this,t),this.specification=e.spec.light.position}return p(t,[{key:"possiblyEvaluate",value:function(t,n){return function(t){var n=f(t,3),r=n[0],i=n[1],a=n[2],o=e.degToRad(i+90),s=e.degToRad(a);return{x:r*Math.cos(o)*Math.sin(s),y:r*Math.sin(o)*Math.sin(s),z:r*Math.cos(s),azimuthal:i,polar:a}}(t.expression.evaluate(n))}},{key:"interpolate",value:function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r),azimuthal:e.number(t.azimuthal,n.azimuthal,r),polar:e.number(t.polar,n.polar,r)}}}]),t}()),color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),D="-transition",R=function(t){m(r,t);var n=v(r);function r(t){var i;return d(this,r),(i=n.call(this))._transitionable=new e.Transitionable(O),i.setLight(t),i._transitioning=i._transitionable.untransitioned(),i}return p(r,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,D)?this._transitionable.setTransition(r.slice(0,-D.length),i):this._transitionable.setValue(r,i)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),r}(e.Evented),F=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),B="-transition",j=function(t){m(r,t);var n=v(r);function r(t,i){var a;return d(this,r),(a=n.call(this))._transitionable=new e.Transitionable(F),a.set(t),a._transitioning=a._transitionable.untransitioned(),a.drapeRenderMode=i,a}return p(r,[{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){for(var n in t){var r=t[n];e.endsWith(n,B)?this._transitionable.setTransition(n.slice(0,-B.length),r):this._transitionable.setValue(n,r)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}}]),r}(e.Evented);function U(t,n,r,i){var a=e.smoothstep(45,65,r),o=Z(t,i),s=f(o,2),l=s[0],u=s[1],c=e.length(n),h=1-Math.min(1,Math.exp((c-l)/(u-l)*-6));return h*=h*h,(h=Math.min(1,1.00747*h))*a*t.alpha}function Z(e,t){var n=.5/Math.tan(.5*t);return[e.range[0]+n,e.range[1]+n]}var N=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),V="-transition",G=function(t){m(r,t);var n=v(r);function r(t,i){var a;return d(this,r),(a=n.call(this))._transitionable=new e.Transitionable(N),a.set(t),a._transitioning=a._transitionable.untransitioned(),a._transform=i,a}return p(r,[{key:"state",get:function(){var t=this._transform,n="globe"===t.projection.name,r=e.globeToMercatorTransition(t.zoom),i=this.properties.get("range"),a=[.5,3];return{range:n?[e.number(a[0],i[0],r),e.number(a[1],i[1],r)]:i,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}},{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateFog,t,n)){for(var r=0,i=Object.keys(e.spec.fog);r<i.length;r++){var a=i[r];t&&void 0===t[a]&&(t[a]=e.spec.fog[a].default)}for(var o in t){var s=t[o];e.endsWith(o,V)?this._transitionable.setTransition(o.slice(0,-V.length),s):this._transitionable.setValue(o,s)}}}},{key:"getOpacity",value:function(t){if(!this._transform.projection.supportsFog)return 0;var n=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*n.a}},{key:"getOpacityAtLatLng",value:function(t,n){return this._transform.projection.supportsFog?function(t,n,r){var i=e.MercatorCoordinate.fromLngLat(n),a=r.elevation?r.elevation.getAtPointOrZero(i):0,o=[i.x,i.y,a];return e.transformMat4(o,o,r.mercatorFogMatrix),U(t,o,r.pitch,r._fov)}(this.state,t,n):0}},{key:"getFovAdjustedRange",value:function(e){return this._transform.projection.supportsFog?Z(this.state,e):[0,1]}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),r}(e.Evented),q=function(){function t(n,r){var i=this;d(this,t),this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var a=this.workerPool.acquire(this.id),o=0;o<a.length;o++){var s=new t.Actor(a[o],r,this.id);s.name="Worker ".concat(o),this.actors.push(s)}this.ready=!1,this.broadcast("checkIfReady",null,(function(){i.ready=!0}))}return p(t,[{key:"broadcast",value:function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)}}]),t}();function W(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}q.Actor=e.Actor;var H=function(){function t(e,n,r,i){d(this,t),this.screenBounds=e,this.cameraPoint=n,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=r,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,i)}return p(t,[{key:"isPointQuery",value:function(){return 1===this.screenBounds.length}},{key:"bufferedScreenGeometry",value:function(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}},{key:"bufferedCameraGeometry",value:function(t){var n=this.screenBounds[0],r=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(n,r,0,!1);return this.cameraPoint.y>r.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<r.x?i.splice(3,0,this.cameraPoint):this.cameraPoint.x>=r.x?i[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(i[3]=this.cameraPoint)),e.bufferConvexPolygon(i,t)}},{key:"bufferedCameraGeometryGlobe",value:function(t){var n=this.screenBounds[0],r=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(n,r,t),a=this.cameraPoint.clone();switch(3*((a.y>n.y)+(a.y>r.y))+((a.x>n.x)+(a.x>r.x))){case 0:i[0]=a,i[4]=a.clone();break;case 1:i.splice(1,0,a);break;case 2:i[1]=a;break;case 3:i.splice(4,0,a);break;case 5:i.splice(2,0,a);break;case 6:i[3]=a;break;case 7:i.splice(3,0,a);break;case 8:i[2]=a}return i}},{key:"containsTile",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.queryPadding/n._pixelsPerMercatorPixel+1,o=r?this._bufferedCameraMercator(a,n):this._bufferedScreenMercator(a,n),s=t.tileID.wrap+(o.unwrapped?i:0),l=o.polygon.map((function(n){return e.getTilePoint(t.tileTransform,n,s)}));if(e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT)){s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?i:0);var u,c=this.screenGeometryMercator.polygon.map((function(n){return e.getTileVec3(t.tileTransform,n,s)})),f=c.map((function(t){return new e.pointGeometry(t[0],t[1])})),h=n.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,h,s),p=c.map((function(t){var n=e.sub(t,t,d);return e.normalize(n,n),new e.Ray(d,n)})),m=W(t,1,n.zoom)*n._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:f,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(u=e.getBounds(l),u.min.x=e.clamp(u.min.x,0,e.EXTENT),u.min.y=e.clamp(u.min.y,0,e.EXTENT),u.max.x=e.clamp(u.max.x,0,e.EXTENT),u.max.y=e.clamp(u.max.y,0,e.EXTENT),u),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:m}}}},{key:"_bufferedScreenMercator",value:function(e,t){var n,r=K(e);return this._screenRaycastCache[r]?this._screenRaycastCache[r]:(n="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((function(e){return t.pointCoordinate3D(e)})),unwrapped:!0},this._screenRaycastCache[r]=n,n)}},{key:"_bufferedCameraMercator",value:function(e,t){var n,r=K(e);return this._cameraRaycastCache[r]?this._cameraRaycastCache[r]:(n="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((function(e){return t.pointCoordinate3D(e)})),unwrapped:!0},this._cameraRaycastCache[r]=n,n)}},{key:"_projectAndResample",value:function(t,n){var r=function(t,n){var r=e.multiply([],n.pixelMatrix,n.globeMatrix),i=[0,-e.GLOBE_RADIUS,0,1],a=[0,e.GLOBE_RADIUS,0,1],o=[0,0,0,1];e.transformMat4$1(i,i,r),e.transformMat4$1(a,a,r),e.transformMat4$1(o,o,r);var s=new e.pointGeometry(i[0]/i[3],i[1]/i[3]),l=new e.pointGeometry(a[0]/a[3],a[1]/a[3]),u=e.polygonContainsPoint(t,s)&&i[3]<o[3],f=e.polygonContainsPoint(t,l)&&a[3]<o[3];if(!u&&!f)return null;var h=function(e,t,n){for(var r=1;r<e.length;r++){var i=Y(t.pointCoordinate3D(e[r-1]).x),a=Y(t.pointCoordinate3D(e[r]).x);if(n<0){if(i<a)return{idx:r,t:-i/(a-1-i)}}else if(a<i)return{idx:r,t:(1-i)/(a+1-i)}}return null}(t,n,u?-1:1);if(!h)return null;var d=h.idx,p=h.t,m=d>1?X(t.slice(0,d),n):[],v=d<t.length?X(t.slice(d),n):[];m=m.map((function(t){return new e.pointGeometry(Y(t.x),t.y)})),v=v.map((function(t){return new e.pointGeometry(Y(t.x),t.y)}));var y=c(m);0===y.length&&y.push(v[v.length-1]);var g,_=e.number(y[y.length-1].y,(0===v.length?m[0]:v[0]).y,p);return g=u?[new e.pointGeometry(0,_),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,_)]:[new e.pointGeometry(1,_),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,_)],y.push.apply(y,c(g)),0===v.length?y.push(m[0]):y.push.apply(y,c(v)),{polygon:y.map((function(t){return new e.MercatorCoordinate(t.x,t.y)})),unwrapped:!1}}(t,n);if(r)return r;var i=function(t,n){for(var r=!1,i=-1/0,a=0,o=0;o<t.length-1;o++)t[o].x>i&&(i=t[o].x,a=o);for(var s=0;s<t.length-1;s++){var l=(a+s)%(t.length-1),u=t[l],c=t[l+1];Math.abs(u.x-c.x)>.5&&(u.x<c.x?(u.x+=1,0===l&&(t[t.length-1].x+=1)):(c.x+=1,l+1===t.length-1&&(t[0].x+=1)),r=!0)}var f=e.mercatorXfromLng(n.center.lng);return r&&f<Math.abs(f-1)&&t.forEach((function(e){e.x-=1})),{polygon:t,unwrapped:r}}(X(t,n).map((function(t){return new e.pointGeometry(Y(t.x),t.y)})),n);return{polygon:i.polygon.map((function(t){return new e.MercatorCoordinate(t.x,t.y)})),unwrapped:i.unwrapped}}}],[{key:"createFromScreenPoints",value:function(n,r){var i,a;if(n instanceof e.pointGeometry||"number"==typeof n[0]){var o=e.pointGeometry.convert(n);i=[o],a=r.isPointAboveHorizon(o)}else{var s=e.pointGeometry.convert(n[0]),l=e.pointGeometry.convert(n[1]);i=[s,l],a=e.polygonizeBounds(s,l).every((function(e){return r.isPointAboveHorizon(e)}))}return new t(i,r.getCameraPoint(),a,r)}}]),t}();function X(t,n){return e.resample(t,(function(e){var t=n.pointCoordinate3D(e);e.x=t.x,e.y=t.y}),1/256)}function Y(e){return e<0?1+e%1:e%1}function K(e){return 100*e|0}function Q(t,n,r,i,a){var o=function(r,i){if(r)return a(r);if(i){t.url&&i.tiles&&t.tiles&&delete t.tiles;var o=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),o.tiles=n.canonicalizeTileset(o,t.url),a(null,o)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url,null,r,i),e.ResourceType.Source),o):e.exported.frame((function(){return o(null,t)}))}var J,$=function(){function t(n,r,i){d(this,t),this.bounds=e.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=r||0,this.maxzoom=i||24}return p(t,[{key:"validateBounds",value:function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}},{key:"contains",value:function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<a&&t.y>=i&&t.y<o}}]),t}(),ee=function(){function e(t,n,r){d(this,e),this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||n.destroy()}return p(e,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ne=function(){function e(t,n,r,i){d(this,e),this.length=n.length,this.attributes=r,this.itemSize=n.bytesPerElement,this.dynamicDraw=i,this.context=t;var a=t.gl;this.buffer=a.createBuffer(),t.bindVertexBuffer.set(this.buffer),a.bufferData(a.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||n.destroy()}return p(e,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"enableAttributes",value:function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}},{key:"setVertexAttribPointers",value:function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[te[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),re=function(){function e(t){d(this,e),this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return p(e,[{key:"get",value:function(){return this.current}},{key:"set",value:function(e){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),e}(),ie=function(t){m(r,t);var n=v(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(re),ae=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}]),n}(re),oe=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}]),n}(re),se=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(re),le=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}]),n}(re),ue=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}]),n}(re),ce=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}]),n}(re),fe=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}]),n}(re),he=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}}]),n}(re),de=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(re),pe=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}}]),n}(re),me=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}]),n}(re),ve=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}}]),n}(re),ye=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.ONE,e.ZERO]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(re),ge=function(t){m(r,t);var n=v(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(re),_e=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}]),n}(re),xe=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}}]),n}(re),be=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}]),n}(re),we=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}]),n}(re),ke=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}]),n}(re),Ce=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}]),n}(re),Ee=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(re),Se=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Te=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Ae=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}}]),n}(re),Me=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Ie=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}]),n}(re),Pe=function(e){m(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).vao=e.extVertexArrayObject,r}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}]),n}(re),Le=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}}]),n}(re),ze=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(re),Oe=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(re),De=function(e){m(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).context=e,i.parent=r,i}return p(n,[{key:"getDefault",value:function(){return null}}]),n}(re),Re=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}}]),n}(De),Fe=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"attachment",value:function(){return this.gl.DEPTH_ATTACHMENT}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(De),Be=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"attachment",value:function(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}]),n}(Fe),je=function(){function e(t,n,r,i){d(this,e),this.context=t,this.width=n,this.height=r;var a=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new Re(t,a),i&&(this.depthAttachment=new Fe(t,a))}return p(e,[{key:"destroy",value:function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)}}]),e}(),Ue=function(){function n(e){d(this,n),this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ie(this),this.clearDepth=new ae(this),this.clearStencil=new oe(this),this.colorMask=new se(this),this.depthMask=new le(this),this.stencilMask=new ue(this),this.stencilFunc=new ce(this),this.stencilOp=new fe(this),this.stencilTest=new he(this),this.depthRange=new de(this),this.depthTest=new pe(this),this.depthFunc=new me(this),this.blend=new ve(this),this.blendFunc=new ye(this),this.blendColor=new ge(this),this.blendEquation=new _e(this),this.cullFace=new xe(this),this.cullFaceSide=new be(this),this.frontFace=new we(this),this.program=new ke(this),this.activeTexture=new Ce(this),this.viewport=new Ee(this),this.bindFramebuffer=new Se(this),this.bindRenderbuffer=new Te(this),this.bindTexture=new Ae(this),this.bindVertexBuffer=new Me(this),this.bindElementBuffer=new Ie(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Pe(this),this.pixelStoreUnpack=new Le(this),this.pixelStoreUnpackPremultiplyAlpha=new ze(this),this.pixelStoreUnpackFlipY=new Oe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}return p(n,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(e,t){return new ee(this,e,t)}},{key:"createVertexBuffer",value:function(e,t,n){return new ne(this,e,t,n)}},{key:"createRenderbuffer",value:function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}},{key:"createFramebuffer",value:function(e,t,n){return new je(this,e,t,n)}},{key:"clear",value:function(e){var t=e.color,n=e.depth,r=e.stencil,i=this.gl,a=0;t&&(a|=i.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(a|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==r&&(a|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),i.clear(a)}},{key:"setCullFace",value:function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}},{key:"setDepthMode",value:function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(n){t(n.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}},{key:"unbindVAO",value:function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}]),n}(),Ze=function(t){m(r,t);var n=v(r);function r(t,a,o,s){var l;return d(this,r),(l=n.call(this)).id=t,l.dispatcher=o,l.setEventedParent(s),l.type="raster",l.minzoom=0,l.maxzoom=22,l.roundZoom=!0,l.scheme="xyz",l.tileSize=512,l._loaded=!1,l._options=e.extend({type:"raster"},a),e.extend(i(l),e.pick(a,["url","scheme","tileSize"])),l}return p(r,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Q(this._options,this.map._requestManager,null,null,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new $(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,n){var r=this,i=e.exported.devicePixelRatio>=2,a=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(a,e.ResourceType.Tile),(function(i,a,o,s){return delete t.request,t.aborted?(t.state="unloaded",n(null)):i?(t.state="errored",n(i)):a?(r.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:s}),t.setTexture(a,r.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),void n(null)):n(null)}))}},{key:"abortTile",value:function(e,t){e.request&&(e.request.cancel(),delete e.request),t()}},{key:"unloadTile",value:function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}},{key:"hasTransition",value:function(){return!1}}],[{key:"loadTileData",value:function(e,t,n){e.setTexture(t,n)}},{key:"unloadTileData",value:function(e,t){e.texture&&t.saveTileTexture(e.texture)}}]),r}(e.Evented);function Ne(t,n,r,i,a,o,s,l){var u=[t,r,a,n,i,o,1,1,1],c=[s,l,1],h=e.adjoint([],u),d=e.transformMat3(c,c,e.transpose(h,h)),p=f(d,3),m=p[0],v=p[1],y=p[2];return e.multiply$1(u,[m,0,0,0,v,0,0,0,y],u)}var Ve=function(t){m(r,t);var n=v(r);function r(e,t,i,a){var o;return d(this,r),(o=n.call(this)).id=e,o.dispatcher=i,o.coordinates=t.coordinates,o.type="image",o.minzoom=0,o.maxzoom=22,o.tileSize=512,o.tiles={},o._loaded=!1,o.setEventedParent(a),o.options=t,o._dirty=!1,o}return p(r,[{key:"load",value:function(t,n){var r=this;this._loaded=n||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(n,i){if(r._imageRequest=null,r._loaded=!0,n)r.fire(new e.ErrorEvent(n));else if(i){var a=e.window.HTMLImageElement;r.image=i instanceof a?e.exported.getImageData(i):i,r._dirty=!0,r.width=r.image.width,r.height=r.image.height,t&&(r.coordinates=t),r._finishLoading()}}))}},{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}},{key:"setCoordinates",value:function(t){this.coordinates=t,this._boundsArray=void 0;var n=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){var n,r=1/0,i=1/0,a=-1/0,o=-1/0,s=h(t);try{for(s.s();!(n=s.n()).done;){var l=n.value;r=Math.min(r,l.x),i=Math.min(i,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y)}}catch(d){s.e(d)}finally{s.f()}var u=Math.max(a-r,o-i),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),f=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((r+a)/2*f),Math.floor((i+o)/2*f))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"_clear",value:function(){this._boundsArray=void 0}},{key:"_prepareData",value:function(t){for(var n in this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}if(!this._boundsArray){var i=e.tileTransform(this.tileID,this.map.transform.projection),a=this.coordinates.map((function(t){var n=i.projection.project(t[0],t[1]);return e.getTilePoint(i,n)._round()})),o=f(a,4),s=o[0],l=o[1],u=o[2],c=o[3];this.perspectiveTransform=function(t,n,r,i,a,o,s,l,u,c){var f=Ne(0,0,t,0,0,n,t,n),h=Ne(r,i,a,o,s,l,u,c);return e.multiply$1(h,e.adjoint(f,f),h),[h[6]/h[8]*t/e.EXTENT,h[7]/h[8]*n/e.EXTENT]}(this.width,this.height,s.x,s.y,l.x,l.y,c.x,c.y,u.x,u.y);var h=this._boundsArray=new e.StructArrayLayout4i8;h.emplaceBack(s.x,s.y,0,0),h.emplaceBack(l.x,l.y,e.EXTENT,0),h.emplaceBack(c.x,c.y,0,e.EXTENT),h.emplaceBack(u.x,u.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(h,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}}},{key:"prepare",value:function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}}},{key:"loadTile",value:function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}},{key:"serialize",value:function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),Ge={vector:function(t){m(r,t);var n=v(r);function r(t,a,o,s){var u;if(d(this,r),(u=n.call(this)).id=t,u.dispatcher=o,u.type="vector",u.minzoom=0,u.maxzoom=22,u.scheme="xyz",u.tileSize=512,u.reparseOverscaled=!0,u.isTileClipped=!0,u._loaded=!1,e.extend(i(u),e.pick(a,["url","scheme","tileSize","promoteId"])),u._options=e.extend({type:"vector"},a),u._collectResourceTiming=a.collectResourceTiming,512!==u.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return u.setEventedParent(s),u._tileWorkers={},u._deduped=new e.DedupedRequest,l(u)}return p(r,[{key:"load",value:function(t){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));var r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=Q(this._options,this.map._requestManager,r,i,(function(a,o){n._tileJSONRequest=null,n._loaded=!0,a?(r&&console.warn("Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ".concat(r)),i&&2!==i.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: ".concat(i)),n.fire(new e.ErrorEvent(a))):o&&(e.extend(n,o),o.bounds&&(n.tileBounds=new $(o.bounds,n.minzoom,n.maxzoom)),e.postTurnstileEvent(o.tiles,n.map._requestManager._customAccessToken),n.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),n.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(a)}))}},{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"reload",value:function(){var e=this;this.cancelTileJSONRequest(),this.load((function(){var t,n=e.map.style._getSourceCaches(e.id),r=h(n);try{for(r.s();!(t=r.n()).done;)t.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}}))}},{key:"setSourceProperty",value:function(e){e(),this.reload()}},{key:"setTiles",value:function(e){return this._options.tiles=e,this.reload(),this}},{key:"setUrl",value:function(e){return this.url=e,this._options.url=e,this.reload(),this}},{key:"onRemove",value:function(){this.cancelTileJSONRequest()}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"loadTile",value:function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),a={request:this.map._requestManager.transformRequest(i,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(a.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",a,s.bind(this));else if(t.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",a,s.bind(this),void 0,!0);else{var o=e.loadVectorTile.call({deduped:this._deduped},a,(function(e,n){e||!n?s.call(r,e):(a.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},t.actor&&t.actor.send("loadTile",a,s.bind(r),void 0,!0))}),!0);t.request={cancel:o}}function s(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"unloadTile",value:function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"hasTransition",value:function(){return!1}},{key:"afterUpdate",value:function(){this._tileWorkers={}}},{key:"cancelTileJSONRequest",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}]),r}(e.Evented),raster:Ze,"raster-dem":function(t){m(r,t);var n=v(r);function r(t,i,a,o){var s;return d(this,r),(s=n.call(this,t,i,a,o)).type="raster-dem",s.maxzoom=22,s._options=e.extend({type:"raster-dem"},i),s.encoding=i.encoding||"mapbox",s}return p(r,[{key:"loadTile",value:function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,a,o,s){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:s});var l=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&(null==J&&(J=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),J),u=1-(a.width-e.prevPowerOfTwo(a.width))/2;u<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));var c=l?a:e.exported.getImageData(a,u),f={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:c,encoding:this.encoding,padding:u};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",f,i.bind(this),void 0,!0))}}.bind(this))}},{key:"_getNeighboringTiles",value:function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,a=0===n.x?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),l}},{key:"unloadTile",value:function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}}]),r}(Ze),geojson:function(t){m(r,t);var n=v(r);function r(t,i,a,o){var s;d(this,r),(s=n.call(this)).id=t,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._loaded=!1,s.actor=a.getActor(),s.setEventedParent(o),s._data=i.data,s._options=e.extend({},i),s._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(s.maxzoom=i.maxzoom),i.type&&(s.type=i.type),i.attribution&&(s.attribution=i.attribution),s.promoteId=i.promoteId;var l=e.EXTENT/s.tileSize;return s.workerOptions=e.extend({source:s.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*l,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*l,extent:e.EXTENT,maxZoom:s.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:s.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*l,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),s}return p(r,[{key:"onAdd",value:function(e){this.map=e,this.setData(this._data)}},{key:"setData",value:function(e){return this._data=e,this._updateWorkerData(),this}},{key:"getClusterExpansionZoom",value:function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}},{key:"getClusterChildren",value:function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}},{key:"getClusterLeaves",value:function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}},{key:"_updateWorkerData",value:function(){var t=this;if(this._pendingLoad)this._coalesce=!0;else{this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;var n=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this._pendingLoad=this.actor.send("".concat(this.type,".loadData"),n,(function(n,r){if(t._loaded=!0,t._pendingLoad=null,n)t.fire(new e.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:t._metadataFired?"content":"metadata"};t._collectResourceTiming&&r&&r.resourceTiming&&r.resourceTiming[t.id]&&(i.resourceTiming=r.resourceTiming[t.id]),t.fire(new e.Event("data",i)),t._metadataFired=!0}t._coalesce&&(t._updateWorkerData(),t._coalesce=!1)}))}}},{key:"loaded",value:function(){return this._loaded}},{key:"loadTile",value:function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(a,r.map.painter,"reloadTile"===i),n(null))}),void 0,"loadTile"===i)}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}},{key:"unloadTile",value:function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._pendingLoad&&this._pendingLoad.cancel()}},{key:"serialize",value:function(){return e.extend({},this._options,{type:this.type,data:this._data})}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),video:function(t){m(r,t);var n=v(r);function r(e,t,i,a){var o;return d(this,r),(o=n.call(this,e,t,i,a)).roundZoom=!0,o.type="video",o.options=t,o}return p(r,[{key:"load",value:function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];var r,i=h(n.urls);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.urls.push(this.map._requestManager.transformRequest(a,e.ResourceType.Source).url)}}catch(o){i.e(o)}finally{i.f()}e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.setAttribute("playsinline",""),t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=t}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"prepare",value:function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}}},{key:"serialize",value:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),r}(Ve),image:Ve,canvas:function(t){m(r,t);var n=v(r);function r(t,i,a,o){var s;return d(this,r),s=n.call(this,t,i,a,o),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "canvas"'))),s.options=i,s.animate=void 0===i.animate||i.animate,s}return p(r,[{key:"load",value:function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}},{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"prepare",value:function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}}},{key:"serialize",value:function(){return{type:"canvas",coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e++){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1}}]),r}(Ve),custom:function(t){m(r,t);var n=v(r);function r(t,a,o,s){var l;return d(this,r),(l=n.call(this)).id=t,l.type="custom",l._dataType="raster",l._dispatcher=o,l._implementation=a,l.setEventedParent(s),l.scheme="xyz",l.minzoom=0,l.maxzoom=22,l.tileSize=512,l._loaded=!1,l.roundZoom=!0,l._implementation||l.fire(new e.ErrorEvent(new Error("Missing implementation for ".concat(l.id," custom source")))),l._implementation.loadTile||l.fire(new e.ErrorEvent(new Error("Missing loadTile implementation for ".concat(l.id," custom source")))),l._implementation.bounds&&(l.tileBounds=new $(l._implementation.bounds,l.minzoom,l.maxzoom)),a.update=l._update.bind(i(l)),a.clearTiles=l._clearTiles.bind(i(l)),a.coveringTiles=l._coveringTiles.bind(i(l)),e.extend(i(l),e.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"])),l}return p(r,[{key:"serialize",value:function(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}},{key:"load",value:function(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}},{key:"onRemove",value:function(e){this._implementation.onRemove&&this._implementation.onRemove(e)}},{key:"hasTile",value:function(e){if(this._implementation.hasTile){var t=e.canonical,n=t.x,r=t.y,i=t.z;return this._implementation.hasTile({x:n,y:r,z:i})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,n){var r=t.tileID.canonical,i=r.x,a=r.y,o=r.z,s=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:i,y:a,z:o},{signal:s.signal})).then(function(r){return delete t.request,t.aborted?(t.state="unloaded",n(null)):void 0===r?(t.state="errored",n(null)):null===r?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(r)?(this.loadTileData(t,r),t.state="loaded",void n(null)):(t.state="errored",n(new Error("Can't infer data type for ".concat(this.id,", only raster data supported at the moment"))))}.bind(this)).catch((function(e){20!==e.code&&(t.state="errored",n(e))})),t.request.cancel=function(){return s.abort()}}},{key:"loadTileData",value:function(e,t){Ze.loadTileData(e,t,this._map.painter)}},{key:"unloadTileData",value:function(e){Ze.unloadTileData(e,this._map.painter)}},{key:"unloadTile",value:function(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){var n=e.tileID.canonical,r=n.x,i=n.y,a=n.z;this._implementation.unloadTile({x:r,y:i,z:a})}t()}},{key:"abortTile",value:function(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}},{key:"hasTransition",value:function(){return!1}},{key:"_coveringTiles",value:function(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((function(e){return{x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}}))}},{key:"_clearTiles",value:function(){this._map.style._clearSource(this.id)}},{key:"_update",value:function(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}]),r}(e.Evented)},qe=function(t,n,r,i){var a=new Ge[n.type](t,n,r,i);if(a.id!==t)throw new Error("Expected Source id to be ".concat(t," instead of ").concat(a.id));return e.bindAll(["load","abort","unload","serialize","prepare"],a),a};function We(t,n){var r=e.identity([]);return e.scale(r,r,[.5*t.width,.5*-t.height,1]),e.translate(r,r,[1,-1,0]),e.multiply(r,r,t.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(r)}function He(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e.tilesIn(r,o,s);l.sort(Ye);var u,c=[],f=h(l);try{for(f.s();!(u=f.n()).done;){var d=u.value;c.push({wrappedTileID:d.tile.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(t,n,e._state,d,i,a,We(e.transform,d.tile.tileID),s)})}}catch(v){f.e(v)}finally{f.f()}var p=function(e){var t,n={},r={},i=h(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.queryResults,s=a.wrappedTileID,l=r[s]=r[s]||{};for(var u in o){var c,f=o[u],d=l[u]=l[u]||{},p=n[u]=n[u]||[],m=h(f);try{for(m.s();!(c=m.n()).done;){var y=c.value;d[y.featureIndex]||(d[y.featureIndex]=!0,p.push(y))}}catch(v){m.e(v)}finally{m.f()}}}}catch(v){i.e(v)}finally{i.f()}return n}(c);for(var m in p)p[m].forEach((function(t){var n=t.feature,r=n.layer;r&&"background"!==r.type&&"sky"!==r.type&&(n.source=r.source,r["source-layer"]&&(n.sourceLayer=r["source-layer"]),n.state=void 0!==n.id?e.getFeatureState(r["source-layer"],n.id):{})}));return p}function Xe(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(r,t))}return r}function Ye(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function Ke(){return null!=Aa.workerClass?new Aa.workerClass:new e.window.Worker(Aa.workerUrl)}var Qe,Je="mapboxgl_preloaded_worker_pool",$e=function(){function e(){d(this,e),this.active={}}return p(e,[{key:"acquire",value:function(t){if(!this.workers)for(this.workers=[];this.workers.length<e.workerCount;)this.workers.push(new Ke);return this.active[t]=!0,this.workers.slice()}},{key:"release",value:function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[Je]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),e}();function et(){return Qe||(Qe=new $e),Qe}function tt(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function nt(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=tt(e[r],t[e[r].ref]));return e}$e.workerCount=2;var rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function it(e,t,n){n.push({command:rt.addSource,args:[e,t[e]]})}function at(e,t,n){t.push({command:rt.removeSource,args:[e]}),n[e]=!0}function ot(e,t,n,r){at(e,n,r),it(e,t,n)}function st(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t(e[r][i],n[r][i]))return!1;return!0}function lt(e,n,r,i,a,o){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}))}function ut(e){return e.id}function ct(e,t){return e[t.id]=t,e}var ft=function(){function t(e,n){d(this,t),this.reset(e,n)}return p(t,[{key:"reset",value:function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var a=n-1,o=this._distances[a],s=r-o,l=s>0?(i-o)/s:0;return this.points[a].mult(1-l).add(this.points[n].mult(l))}}]),t}(),ht=function(){function e(t,n,r){d(this,e);var i=this.boxCells=[],a=this.circleCells=[];this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),a.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}return p(e,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"insertCircle",value:function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}},{key:"_insertBoxCell",value:function(e,t,n,r,i,a){this.boxCells[i].push(a)}},{key:"_insertCircleCell",value:function(e,t,n,r,i,a){this.circleCells[i].push(a)}},{key:"_query",value:function(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],f=this.circles[3*l+2];o.push({key:this.circleKeys[l],x1:u-f,y1:c-f,x2:u+f,y2:c+f})}return a?o.filter(a):o}return this._forEachCell(e,t,n,r,this._queryCell,o,{hitTest:i,seenUids:{box:{},circle:{}}},a),i?o.length>0:o}},{key:"_queryCircle",value:function(e,t,n,r,i){var a=e-n,o=e+n,s=t-n,l=t+n;if(o<0||a>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,u,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u}},{key:"query",value:function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)}},{key:"hitTest",value:function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)}},{key:"hitTestCircle",value:function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)}},{key:"_queryCell",value:function(e,t,n,r,i,a,o,s){var l=o.seenUids,u=this.boxCells[i];if(null!==u){var c,f=this.bboxes,d=h(u);try{for(d.s();!(c=d.n()).done;){var p=c.value;if(!l.box[p]){l.box[p]=!0;var m=4*p;if(e<=f[m+2]&&t<=f[m+3]&&n>=f[m+0]&&r>=f[m+1]&&(!s||s(this.boxKeys[p]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[p],x1:f[m],y1:f[m+1],x2:f[m+2],y2:f[m+3]})}}}}catch(E){d.e(E)}finally{d.f()}}var v=this.circleCells[i];if(null!==v){var y,g=this.circles,_=h(v);try{for(_.s();!(y=_.n()).done;){var x=y.value;if(!l.circle[x]){l.circle[x]=!0;var b=3*x;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],e,t,n,r)&&(!s||s(this.circleKeys[x]))){if(o.hitTest)return a.push(!0),!0;var w=g[b],k=g[b+1],C=g[b+2];a.push({key:this.circleKeys[x],x1:w-C,y1:k-C,x2:w+C,y2:k+C})}}}}catch(E){_.e(E)}finally{_.f()}}}},{key:"_queryCellCircle",value:function(e,t,n,r,i,a,o,s){var l=o.circle,u=o.seenUids,c=this.boxCells[i];if(null!==c){var f,d=this.bboxes,p=h(c);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(!u.box[m]){u.box[m]=!0;var v=4*m;if(this._circleAndRectCollide(l.x,l.y,l.radius,d[v+0],d[v+1],d[v+2],d[v+3])&&(!s||s(this.boxKeys[m])))return a.push(!0),!0}}}catch(k){p.e(k)}finally{p.f()}}var y=this.circleCells[i];if(null!==y){var g,_=this.circles,x=h(y);try{for(x.s();!(g=x.n()).done;){var b=g.value;if(!u.circle[b]){u.circle[b]=!0;var w=3*b;if(this._circlesCollide(_[w],_[w+1],_[w+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return a.push(!0),!0}}}catch(k){x.e(k)}finally{x.f()}}}},{key:"_forEachCell",value:function(e,t,n,r,i,a,o,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),h=l;h<=c;h++)for(var d=u;d<=f;d++)if(i.call(this,e,t,n,r,this.xCellCount*d+h,a,o,s))return}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,t,n,r,i,a){var o=r-e,s=i-t,l=n+a;return l*l>o*o+s*s}},{key:"_circleAndRectCollide",value:function(e,t,n,r,i,a,o){var s=(a-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;var u=(o-i)/2,c=Math.abs(t-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var f=l-s,h=c-u;return f*f+h*h<=n*n}}]),e}(),dt=Math.tan(85*Math.PI/180);function pt(t,n,r,i,a,o,s){var l=e.create();if(r)if("globe"===o.name){var u=e.calculateGlobeLabelMatrix(a,n);e.multiply(l,l,u)}else{var c=P([],s);l[0]=c[0],l[1]=c[1],l[4]=c[2],l[5]=c[3],i||e.rotateZ(l,l,a.angle)}else e.multiply(l,a.labelPlaneMatrix,t);return l}function mt(e,t,n,r,i,a,o){var s=pt(e,t,n,r,i,a,o);return"globe"===a.name&&n||(s[2]=s[6]=s[10]=s[14]=0),s}function vt(t,n,r,i,a,o,s){if(r){if("globe"===o.name){var l=pt(t,n,r,i,a,o,s);return e.invert(l,l),e.multiply(l,t,l),l}var u=e.clone(t),c=e.identity([]);return c[0]=s[0],c[1]=s[1],c[4]=s[2],c[5]=s[3],e.multiply(u,u,c),i||e.rotateZ(u,u,-a.angle),u}return a.glCoordMatrix}function yt(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[t.x,t.y,r,1];r?e.transformMat4$1(i,i,n):It(i,i,n);var a=i[3];return{point:[i[0]/a,i[1]/a,i[2]/a],signedDistanceFromCamera:a}}function gt(t,n){var r=[t[0],t[1],t[2],1];e.transformMat4$1(r,r,n);var i=r[3];return{point:[r[0]/i,r[1]/i,r[2]/i],signedDistanceFromCamera:i}}function _t(e,t){return Math.min(.5+e/t*.5,1.5)}function xt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function bt(t,n,r,i,a,o,s,l,u,c){var f=r.transform,h=i?t.textSizeData:t.iconSizeData,d=e.evaluateSizeForZoom(h,r.transform.zoom),p="globe"===f.projection.name,m=[256/r.width*2+1,256/r.height*2+1],v=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;v.clear();var y=null;p&&(y=i?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);for(var g=t.lineVertexArray,_=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=r.transform.width/r.transform.height,b=!1,w=0;w<_.length;w++){var k=_.get(w);if(k.writingMode!==e.WritingMode.vertical||b||0!==w&&_.get(w-1).writingMode===e.WritingMode.horizontal||(b=!0),!k.hidden&&k.writingMode!==e.WritingMode.vertical||b){b=!1;var C=new e.pointGeometry(k.tileAnchorX,k.tileAnchorY),E=u?u(C):[0,0,0],S=f.projection.projectTilePoint(C.x,C.y,c.canonical),T=[S.x+E[0],S.y+E[1],S.z+E[2]],A=[].concat(T,[1]);if(e.transformMat4$1(A,A,n),xt(A,m)){var M=_t(r.transform.cameraToCenterDistance,A[3]),I=e.evaluateSizeForFeature(h,d,k),P=s?I/M:I*M,L=yt(new e.pointGeometry(T[0],T[1]),a,T[2]);if(L.signedDistanceFromCamera<=0)Mt(k.numGlyphs,v);else{var z={},O=s?null:u,D=Ct(k,P,!1,l,n,a,o,t.glyphOffsetArray,g,v,y,L.point,C,z,x,O,f.projection,c,s);b=D.useVertical,O&&D.needsFlipping&&(z={}),(D.notEnoughRoom||b||D.needsFlipping&&Ct(k,P,!0,l,n,a,o,t.glyphOffsetArray,g,v,y,L.point,C,z,x,O,f.projection,c,s).notEnoughRoom)&&Mt(k.numGlyphs,v)}}else Mt(k.numGlyphs,v)}else Mt(k.numGlyphs,v)}i?(t.text.dynamicLayoutVertexBuffer.updateData(v),y&&t.text.globeExtVertexBuffer.updateData(y)):(t.icon.dynamicLayoutVertexBuffer.updateData(v),y&&t.icon.globeExtVertexBuffer.updateData(y))}function wt(e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m){var v=s.glyphStartIndex+s.numGlyphs,y=s.lineStartIndex,g=s.lineStartIndex+s.lineLength,_=t.getoffsetX(s.glyphStartIndex),x=t.getoffsetX(v-1),b=Tt(e*_,n,r,i,a,o,s.segment,y,g,l,u,c,f,h,!0,d,p,m);if(!b)return null;var w=Tt(e*x,n,r,i,a,o,s.segment,y,g,l,u,c,f,h,!0,d,p,m);return w?{first:b,last:w}:null}function kt(t,n,r,i){return t.writingMode===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?n.y<r.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,n){var r=(t.x-e.x)*n;return 0===r||Math.abs((t.y-e.y)/r)>dt}(n,r,i)?1===t.flipState?{needsFlipping:!0}:null:n.x>r.x?{needsFlipping:!0}:null}function Ct(t,n,r,i,a,o,s,l,u,c,f,d,p,m,v,y,g,_,x){var b=n/24,w=t.lineOffsetX*b,k=t.lineOffsetY*b,C=[];if(t.numGlyphs>1){var E=t.glyphStartIndex+t.numGlyphs,S=t.lineStartIndex,T=t.lineStartIndex+t.lineLength,A=wt(b,l,w,k,r,d,p,t,u,o,m,y,!1,g,_,x);if(!A)return{notEnoughRoom:!0};var M=gt(A.first.point,s).point,I=gt(A.last.point,s).point,P=new e.pointGeometry(M[0],M[1]),L=new e.pointGeometry(I[0],I[1]);if(i&&!r){var z=kt(t,P,L,v);if(t.flipState=z&&z.needsFlipping?1:2,z)return z}C=[A.first];for(var O=t.glyphStartIndex+1;O<E-1;O++){var D=Tt(b*l.getoffsetX(O),w,k,r,d,p,t.segment,S,T,u,o,m,y,!1,!1,g,_,x);if(!D)return{notEnoughRoom:!0};C.push(D)}C.push(A.last)}else{if(i&&!r){var R=yt(p,a).point,F=t.lineStartIndex+t.segment+1,B=new e.pointGeometry(u.getx(F),u.gety(F)),j=yt(B,a),U=j.signedDistanceFromCamera>0?j.point:St(p,B,R,1,a,void 0,g,_.canonical),Z=kt(t,new e.pointGeometry(R[0],R[1]),new e.pointGeometry(U[0],U[1]),v);if(t.flipState=Z&&Z.needsFlipping?1:2,Z)return Z}var N=Tt(b*l.getoffsetX(t.glyphStartIndex),w,k,r,d,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,o,m,y,!1,!1,g,_,x);if(!N)return{notEnoughRoom:!0};C=[N]}if(f){var V,G=h(C);try{for(G.s();!(V=G.n()).done;){var q=V.value;e.updateGlobeVertexNormal(f,c.length+0,q.up[0],q.up[1],q.up[2]),e.updateGlobeVertexNormal(f,c.length+1,q.up[0],q.up[1],q.up[2]),e.updateGlobeVertexNormal(f,c.length+2,q.up[0],q.up[1],q.up[2]),e.updateGlobeVertexNormal(f,c.length+3,q.up[0],q.up[1],q.up[2]),e.addDynamicAttributes(c,q.point[0],q.point[1],q.point[2],q.angle)}}catch(Y){G.e(Y)}finally{G.f()}}else{var W,H=h(C);try{for(H.s();!(W=H.n()).done;){var X=W.value;e.addDynamicAttributes(c,X.point[0],X.point[1],X.point[2],X.angle)}}catch(Y){H.e(Y)}finally{H.f()}}return{}}function Et(t,n,r,i,a){var o=i.projectTilePoint(t.x,t.y,n);if(!a)return yt(o,r,o.z);var s=a(t);return yt(new e.pointGeometry(o.x+s[0],o.y+s[1]),r,o.z+s[2])}function St(t,n,r,i,a,o,s,l){var u=Et(t.add(t.sub(n)._unit()),l,a,s,o).point,c=e.sub([],r,u);return e.scaleAndAdd([],r,c,i/e.length(c))}function Tt(t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y,g){var _=i?t-n:t+n,x=_>0?1:-1,b=0;i&&(x*=-1,b=Math.PI),x<0&&(b+=Math.PI);for(var w=x>0?l+s:l+s+1,k=a,C=a,E=0,S=0,T=Math.abs(_),A=[],M=[],I=o,P=function(){var t=w-x;return 0===E?o:new e.pointGeometry(c.getx(t),c.gety(t))},L=function(){var e=P();return St(e,I||e,C,T-E+1,f,d,v,y.canonical)};E+S<=T;){if((w+=x)<l||w>=u)return null;if(C=k,A.push(k),p&&M.push(I||P()),void 0===(k=h[w])){var z=Et(I=new e.pointGeometry(c.getx(w),c.gety(w)),y.canonical,f,v,d);k=z.signedDistanceFromCamera>0?h[w]=z.point:L()}else I=null;E+=S,S=e.distance(C,k)}I=I||new e.pointGeometry(c.getx(w),c.gety(w));var O=P();m&&d&&(h[w]=k=void 0===h[w]?k:L(),S=e.distance(C,k));var D=(T-E)/S,R=I.sub(O).mult(D)._add(O),F=e.sub([],k,C),B=e.scaleAndAdd([],C,F,D),j=[0,0,1],U=F[0],Z=F[1];if(g&&(0!==(j=v.upVector(y.canonical,R.x,R.y))[0]||0!==j[1]||1!==j[2])){var N=[1,0,0],V=[0,1,0];N[0]=j[2],N[1]=0,N[2]=-j[0],e.cross(V,j,N),e.normalize(N,N),e.normalize(V,V),U=e.dot(F,N),Z=e.dot(F,V)}if(r){var G=e.cross([],j,F);e.normalize(G,G),e.scaleAndAdd(B,B,G,r*x)}var q=b+Math.atan2(Z,U);return A.push(B),p&&M.push(R),{point:B,angle:q,path:A,tilePath:M,up:j}}var At=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Mt(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(At,4*r)}}function It(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var Pt=100,Lt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ht(e.width+200,e.height+200,25),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ht(e.width+200,e.height+200,25);d(this,t),this.transform=e,this.grid=r,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Pt,this.screenBottomBoundary=e.height+Pt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=n}return p(t,[{key:"placeCollisionBox",value:function(e,t,n,r,i,a,o,s){var l=n.projectedAnchorX,u=n.projectedAnchorY,c=n.projectedAnchorZ,f=n.elevation,h=n.tileID;if(f&&h){var d=e.getProjection().upVector(h.canonical,n.tileAnchorX,n.tileAnchorY),p=e.getProjection().upVectorScale(h.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=d[0]*f*p,u+=d[1]*f*p,c+=d[2]*f*p}var m=this.projectAndGetPerspectiveRatio(o,[l,u,c],n.tileID,"globe"===e.projection.name||!!f||this.transform.pitch>0,e.getProjection()),v=a*m.perspectiveRatio,y=(n.x1*t+r.x-n.padding)*v+m.point.x,g=(n.y1*t+r.y-n.padding)*v+m.point.y,_=(n.x2*t+r.x+n.padding)*v+m.point.x,x=(n.y2*t+r.y+n.padding)*v+m.point.y,b=m.perspectiveRatio<=.55||m.occluded;return!this.isInsideGrid(y,g,_,x)||!i&&this.grid.hitTest(y,g,_,x,s)||b?{box:[],offscreen:!1,occluded:m.occluded}:{box:[y,g,_,x],offscreen:this.isOffscreen(y,g,_,x),occluded:!1}}},{key:"placeCollisionCircles",value:function(t,n,r,i,a,o,s,l,u,c,f,d,p,m,v){var y=[],g=this.transform.elevation,_=g?g.getAtTileOffsetFunc(v,this.transform.center.lat,this.transform.worldSize,t.getProjection()):function(e){return[0,0,0]},x=new e.pointGeometry(r.tileAnchorX,r.tileAnchorY),b=t.getProjection().projectTilePoint(r.tileAnchorX,r.tileAnchorY,v.canonical),w=_(x),k=[b.x+w[0],b.y+w[1],b.z+w[2]],C="globe"===t.projection.name,E=this.projectAndGetPerspectiveRatio(s,[k[0],k[1],k[2]],v,C||!!g||this.transform.pitch>0,t.getProjection()),S=E.perspectiveRatio,T=(f?o/S:o*S)/e.ONE_EM,A=yt(new e.pointGeometry(k[0],k[1]),l,k[2]).point,M=E.signedDistanceFromCamera>0?wt(T,a,r.lineOffsetX*T,r.lineOffsetY*T,!1,A,x,r,i,l,{},g&&!f?_:null,f&&!!g,t.getProjection(),v,f):null,I=!1,P=!1,L=!0;if(M&&!E.occluded){for(var z=.5*p*S+m,O=new e.pointGeometry(-100,-100),D=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),R=new ft,F=M.first,B=M.last,j=[],U=F.path.length-1;U>=1;U--)j.push(F.path[U]);for(var Z=1;Z<B.path.length;Z++)j.push(B.path[Z]);var N=2.5*z;if(u){var V=j.map(g&&!C?function(e,t){var n=_(t<F.path.length-1?F.tilePath[F.path.length-1-t]:B.tilePath[t-F.path.length+2]);return e[2]=n[2],gt(e,u)}:function(e){return gt(e,u)});j=V.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:V.map((function(e){return e.point}))}var G=[];if(j.length>0){for(var q=j.map((function(t){return new e.pointGeometry(t[0],t[1])})),W=1/0,H=-1/0,X=1/0,Y=-1/0,K=0;K<q.length;K++)W=Math.min(W,q[K].x),X=Math.min(X,q[K].y),H=Math.max(H,q[K].x),Y=Math.max(Y,q[K].y);G=W>=O.x&&H<=D.x&&X>=O.y&&Y<=D.y?[q]:H<O.x||W>D.x||Y<O.y||X>D.y?[]:e.clipLine([q],O.x,O.y,D.x,D.y)}var Q,J=h(G);try{for(J.s();!(Q=J.n()).done;){var $=Q.value;R.reset($,.25*z);var ee=0;ee=R.length<=.5*z?1:Math.ceil(R.paddedLength/N)+1;for(var te=0;te<ee;te++){var ne=te/Math.max(ee-1,1),re=R.lerp(ne),ie=re.x+Pt,ae=re.y+Pt;y.push(ie,ae,z,0);var oe=ie-z,se=ae-z,le=ie+z,ue=ae+z;if(L=L&&this.isOffscreen(oe,se,le,ue),P=P||this.isInsideGrid(oe,se,le,ue),!n&&this.grid.hitTestCircle(ie,ae,z,d)&&(I=!0,!c))return{circles:[],offscreen:!1,collisionDetected:I,occluded:!1}}}}catch(ce){J.e(ce)}finally{J.f()}}return{circles:!c&&I||!P?[]:y,offscreen:L,collisionDetected:I,occluded:E.occluded}}},{key:"queryRenderedSymbols",value:function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var n,r=[],i=1/0,a=1/0,o=-1/0,s=-1/0,l=h(t);try{for(l.s();!(n=l.n()).done;){var u=n.value,c=new e.pointGeometry(u.x+Pt,u.y+Pt);i=Math.min(i,c.x),a=Math.min(a,c.y),o=Math.max(o,c.x),s=Math.max(s,c.y),r.push(c)}}catch(x){l.e(x)}finally{l.f()}var f,d=this.grid.query(i,a,o,s).concat(this.ignoredGrid.query(i,a,o,s)),p={},m={},v=h(d);try{for(v.s();!(f=v.n()).done;){var y=f.value,g=y.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var _=[new e.pointGeometry(y.x1,y.y1),new e.pointGeometry(y.x2,y.y1),new e.pointGeometry(y.x2,y.y2),new e.pointGeometry(y.x1,y.y2)];e.polygonIntersectsPolygon(r,_)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===m[g.bucketInstanceId]&&(m[g.bucketInstanceId]=[]),m[g.bucketInstanceId].push(g.featureIndex))}}}catch(x){v.e(x)}finally{v.f()}return m}},{key:"insertCollisionBox",value:function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])}},{key:"insertCollisionCircles",value:function(e,t,n,r,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])}},{key:"projectAndGetPerspectiveRatio",value:function(t,n,r,i,a){var o=[n[0],n[1],n[2],1],s=!1;if(n[2]||this.transform.pitch>0){e.transformMat4$1(o,o,t);var l="globe"===a.name;this.fogState&&r&&!l&&(s=function(t,n,r,i,a,o){var s=o.calculateFogTileMatrix(a),l=[n,r,i];return e.transformMat4(l,l,s),U(t,l,o.pitch,o._fov)}(this.fogState,n[0],n[1],n[2],r.toUnwrapped(),this.transform)>.9)}else It(o,o,t);return{point:new e.pointGeometry((o[0]/o[3]+1)/2*this.transform.width+Pt,(-o[1]/o[3]+1)/2*this.transform.height+Pt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(a)/o[3]*.5,1.5),signedDistanceFromCamera:o[3],occluded:i&&o[2]>o[3]||s}}},{key:"isOffscreen",value:function(e,t,n,r){return n<Pt||e>=this.screenRightBoundary||r<Pt||t>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}]),t}();function zt(t,n,r){var i=n.createTileMatrix(t,t.worldSize,r.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,i)}function Ot(e,t,n){if(t.projection.name===n.projection.name)return e.projMatrix;var r=n.clone();return r.setProjection(t.projection),zt(r,t.getProjection(),e)}function Dt(e,t,n){return t.name===n.projection.name?e.projMatrix:zt(n,t,e)}var Rt=function(){function e(t,n,r,i){d(this,e),this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?n:-n))):i&&r?1:0,this.placed=r}return p(e,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),e}(),Ft=function(){function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];d(this,e),this.text=new Rt(t?t.text:null,n,r,a),this.icon=new Rt(t?t.icon:null,n,i,a),this.clipped=o}return p(e,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),e}(),Bt=p((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d(this,e),this.text=t,this.icon=n,this.skipFade=r,this.clipped=i})),jt=p((function t(){d(this,t),this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]})),Ut=p((function e(t,n,r,i,a){d(this,e),this.bucketInstanceId=t,this.featureIndex=n,this.sourceLayerIndex=r,this.bucketIndex=i,this.tileID=a})),Zt=function(){function e(t){d(this,e),this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}return p(e,[{key:"get",value:function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]}}]),e}();function Nt(t,n,r,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*n,l=-(o.verticalAlign-.5)*r,u=e.evaluateVariableOffset(t,i);return new e.pointGeometry(s+u[0]*a,l+u[1]*a)}function Vt(t,n,r,i,a){var o=new e.pointGeometry(t,n);return r&&o._rotate(i?a:-a),o}var Gt=function(){function t(e,n,r,i,a){d(this,t),this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new Lt(this.transform,a),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new Zt(r),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}return p(t,[{key:"getBucketParts",value:function(t,n,r,i){var a=r.getBucket(n),o=r.latestFeatureIndex;if(a&&o&&n.id===a.layerIds[0]){var s=a.layers[0].layout,l=r.collisionBoxArray,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,f=r.tileID.toUnwrapped();this.transform.setProjection(a.projection);var d,p,m,v=(d=r.tileID,p=a.getProjection(),m=this.transform,p.name===this.projection?m.calculateProjMatrix(d.toUnwrapped()):zt(m,p,d)),y="map"===s.get("text-pitch-alignment"),g="map"===s.get("text-rotation-alignment");n.compileFilter();var _=n.dynamicFilter(),x=n.dynamicFilterNeedsFeature(),b=this.transform.calculatePixelsToTileUnitsMatrix(r),w=mt(v,r.tileID.canonical,y,g,this.transform,a.getProjection(),b),k=null;if(y){var C=vt(v,r.tileID.canonical,y,g,this.transform,a.getProjection(),b);k=e.multiply([],this.transform.labelPlaneMatrix,C)}var E=null;_&&r.latestFeatureIndex&&(E={unwrappedTileID:f,dynamicFilter:_,dynamicFilterNeedsFeature:x,featureIndex:r.latestFeatureIndex}),this.retainedQueryData[a.bucketInstanceId]=new Ut(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var S={bucket:a,layout:s,posMatrix:v,textLabelPlaneMatrix:w,labelToScreenMatrix:k,clippingData:E,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(a.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i){var T,A=h(a.sortKeyRanges);try{for(A.s();!(T=A.n()).done;){var M=T.value,I=M.sortKey,P=M.symbolInstanceStart,L=M.symbolInstanceEnd;t.push({sortKey:I,symbolInstanceStart:P,symbolInstanceEnd:L,parameters:S})}}catch(z){A.e(z)}finally{A.f()}}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:S})}}},{key:"attemptAnchorPlacement",value:function(e,t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y){var g,_=[f.textOffset0,f.textOffset1],x=Nt(e,n,r,_,i),b=this.collisionIndex.placeCollisionBox(d,i,t,Vt(x.x,x.y,a,o,this.transform.angle),c,s,l,u.predicate);if(m){var w=d.getSymbolInstanceIconSize(y,this.transform.zoom,f.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(d,w,m,Vt(x.x,x.y,a,o,this.transform.angle),c,s,l,u.predicate).box.length)return}if(b.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(g=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:_,width:n,height:r,anchor:e,textScale:i,prevAnchor:g},this.markUsedJustification(d,e,f,p),d.allowVerticalPlacement&&(this.markUsedOrientation(d,p,f),this.placedOrientations[f.crossTileID]=p),{shift:x,placedGlyphBoxes:b}}},{key:"placeLayerBucketPart",value:function(t,n,r,i){var a=this,o=t.parameters,s=o.bucket,l=o.layout,u=o.posMatrix,c=o.textLabelPlaneMatrix,f=o.labelToScreenMatrix,d=o.clippingData,p=o.textPixelRatio,m=o.holdingForFade,v=o.collisionBoxArray,y=o.partiallyEvaluatedTextSize,g=o.partiallyEvaluatedIconSize,_=o.collisionGroup,x=l.get("text-optional"),b=l.get("icon-optional"),w=l.get("text-allow-overlap"),k=l.get("icon-allow-overlap"),C="map"===l.get("text-rotation-alignment"),E="map"===l.get("text-pitch-alignment"),S="none"!==l.get("icon-text-fit"),T="viewport-y"===l.get("symbol-z-order");this.transform.setProjection(s.projection);var A=w&&(k||!s.hasIconData()||b),M=k&&(w||!s.hasTextData()||x);!s.collisionArrays&&v&&s.deserializeCollisionBoxes(v),r&&i&&s.updateCollisionDebugBuffers(this.transform.zoom,v);var I=function(t,i,o){if(d){var v={zoom:a.transform.zoom,pitch:a.transform.pitch},T=null;if(d.dynamicFilterNeedsFeature){var I=a.retainedQueryData[s.bucketInstanceId];T=d.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:I.bucketIndex,sourceLayerIndex:I.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,d.dynamicFilter)(v,T,a.retainedQueryData[s.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),a.transform.calculateDistanceTileData(d.unwrappedTileID)))return a.placements[t.crossTileID]=new Bt(!1,!1,!1,!0),void(n[t.crossTileID]=!0)}if(!n[t.crossTileID])if(m)a.placements[t.crossTileID]=new Bt(!1,!1,!1);else{var P=!1,L=!1,z=!0,O=!1,D=!1,R=null,F={box:null,offscreen:null,occluded:null},B={box:null,offscreen:null,occluded:null},j=null,U=null,Z=null,N=0,V=0,G=0;o.textFeatureIndex?N=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(N=t.featureIndex),o.verticalTextFeatureIndex&&(V=o.verticalTextFeatureIndex);var q=function(e){e.tileID=a.retainedQueryData[s.bucketInstanceId].tileID,(a.transform.elevation||e.elevation)&&(e.elevation=a.transform.elevation?a.transform.elevation.getAtTileOffset(a.retainedQueryData[s.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0)},W=o.textBox;if(W){q(W);var H=function(n){var r=e.WritingMode.horizontal;if(s.allowVerticalPlacement&&!n&&a.prevPlacement){var i=a.prevPlacement.placedOrientations[t.crossTileID];i&&(a.placedOrientations[t.crossTileID]=i,r=i,a.markUsedOrientation(s,r,t))}return r},X=function(n,r){if(s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox){var i,a=h(s.writingModes);try{for(a.s();!(i=a.n()).done&&(i.value===e.WritingMode.vertical?(F=r(),B=F):F=n(),!(F&&F.box&&F.box.length)););}catch(l){a.e(l)}finally{a.f()}}else F=n()};if(l.get("text-variable-anchor")){var Y=l.get("text-variable-anchor");if(a.prevPlacement&&a.prevPlacement.variableOffsets[t.crossTileID]){var K=a.prevPlacement.variableOffsets[t.crossTileID];Y.indexOf(K.anchor)>0&&(Y=Y.filter((function(e){return e!==K.anchor})),Y.unshift(K.anchor))}var Q=function(e,n,r){var o=s.getSymbolInstanceTextSize(y,t,a.transform.zoom,i),l=(e.x2-e.x1)*o+2*e.padding,c=(e.y2-e.y1)*o+2*e.padding,f=S&&!k?n:null;f&&q(f);for(var h={box:[],offscreen:!1,occluded:!1},d=w?2*Y.length:Y.length,m=0;m<d;++m){var v=a.attemptAnchorPlacement(Y[m%Y.length],e,l,c,o,C,E,p,u,_,m>=Y.length,t,i,s,r,f,y,g);if(v&&(h=v.placedGlyphBoxes)&&h.box&&h.box.length){P=!0,R=v.shift;break}}return h};X((function(){return Q(W,o.iconBox,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return n&&q(n),s.allowVerticalPlacement&&!(F&&F.box&&F.box.length)&&t.numVerticalGlyphVertices>0&&n?Q(n,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),F&&(P=F.box,z=F.offscreen,O=F.occluded);var J=H(F&&F.box);if(!P&&a.prevPlacement){var $=a.prevPlacement.variableOffsets[t.crossTileID];$&&(a.variableOffsets[t.crossTileID]=$,a.markUsedJustification(s,$.anchor,t,J))}}else{var ee=function(n,r){var o=s.getSymbolInstanceTextSize(y,t,a.transform.zoom,i),l=a.collisionIndex.placeCollisionBox(s,o,n,new e.pointGeometry(0,0),w,p,u,_.predicate);return l&&l.box&&l.box.length&&(a.markUsedOrientation(s,r,t),a.placedOrientations[t.crossTileID]=r),l};X((function(){return ee(W,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?(q(n),ee(n,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),H(F&&F.box&&F.box.length)}}if(P=(j=F)&&j.box&&j.box.length>0,z=j&&j.offscreen,O=j&&j.occluded,t.useRuntimeCollisionCircles){var te=s.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),ne=e.evaluateSizeForFeature(s.textSizeData,y,te),re=l.get("text-padding");U=a.collisionIndex.placeCollisionCircles(s,w,te,s.lineVertexArray,s.glyphOffsetArray,ne,u,c,f,r,E,_.predicate,t.collisionCircleDiameter*ne/e.ONE_EM,re,a.retainedQueryData[s.bucketInstanceId].tileID),P=w||U.circles.length>0&&!U.collisionDetected,z=z&&U.offscreen,O=U.occluded}if(o.iconFeatureIndex&&(G=o.iconFeatureIndex),o.iconBox){var ie=function(n){q(n);var r=S&&R?Vt(R.x,R.y,C,E,a.transform.angle):new e.pointGeometry(0,0),i=s.getSymbolInstanceIconSize(g,a.transform.zoom,t.placedIconSymbolIndex);return a.collisionIndex.placeCollisionBox(s,i,n,r,k,p,u,_.predicate)};L=B&&B.box&&B.box.length&&o.verticalIconBox?(Z=ie(o.verticalIconBox)).box.length>0:(Z=ie(o.iconBox)).box.length>0,z=z&&Z.offscreen,D=Z.occluded}var ae=x||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,oe=b||0===t.numIconVertices;if(ae||oe?oe?ae||(L=L&&P):P=L&&P:L=P=L&&P,P&&j&&j.box&&a.collisionIndex.insertCollisionBox(j.box,l.get("text-ignore-placement"),s.bucketInstanceId,B&&B.box&&V?V:N,_.ID),L&&Z&&a.collisionIndex.insertCollisionBox(Z.box,l.get("icon-ignore-placement"),s.bucketInstanceId,G,_.ID),U&&(P&&a.collisionIndex.insertCollisionCircles(U.circles,l.get("text-ignore-placement"),s.bucketInstanceId,N,_.ID),r)){var se=s.bucketInstanceId,le=a.collisionCircleArrays[se];void 0===le&&(le=a.collisionCircleArrays[se]=new jt);for(var ue=0;ue<U.circles.length;ue+=4)le.circles.push(U.circles[ue+0]),le.circles.push(U.circles[ue+1]),le.circles.push(U.circles[ue+2]),le.circles.push(U.collisionDetected?1:0)}var ce="globe"!==s.projection.name;A=A&&(ce||!O),M=M&&(ce||!D),a.placements[t.crossTileID]=new Bt(P||A,L||M,z||s.justReloaded),n[t.crossTileID]=!0}};if(T)for(var P=s.getSortedSymbolIndexes(this.transform.angle),L=P.length-1;L>=0;--L){var z=P[L];I(s.symbolInstances.get(z),z,s.collisionArrays[z])}else for(var O=t.symbolInstanceStart;O<t.symbolInstanceEnd;O++)I(s.symbolInstances.get(O),O,s.collisionArrays[O]);if(r&&s.bucketInstanceId in this.collisionCircleArrays){var D=this.collisionCircleArrays[s.bucketInstanceId];e.invert(D.invProjMatrix,u),D.viewportMatrix=this.collisionIndex.getViewportMatrix()}s.justReloaded=!1}},{key:"markUsedJustification",value:function(t,n,r,i){var a;a=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];o<s.length;o++){var l=s[o];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=a>=0&&l!==a?0:r.crossTileID)}}},{key:"markUsedOrientation",value:function(t,n,r){var i,a=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex].filter((function(e){return-1!==e})),l=h(s);try{for(l.s();!(i=l.n()).done;){var u=i.value;t.text.placedSymbolArray.get(u).placedOrientation=a}}catch(c){l.e(c)}finally{l.f()}-1!==r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)}},{key:"commit",value:function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new Ft(u,r,l.text,l.icon,null,l.clipped),n=n||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new Ft(null,r,l.text,l.icon,l.skipFade,l.clipped),n=n||l.text||l.icon)}for(var c in i){var f=i[c];if(!this.opacities[c]){var h=new Ft(f,r,!1,!1);h.isHidden()||(this.opacities[c]=h,n=n||f.text.placed||f.icon.placed)}}for(var d in a)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=a[d]);for(var p in o)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=o[p]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}},{key:"updateLayerOpacities",value:function(e,t){var n,r={},i=h(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,a.collisionBoxArray)}}catch(s){i.e(s)}finally{i.f()}}},{key:"updateBucketOpacities",value:function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),s=new Ft(null,0,!1,!1,!0),l=a.get("text-allow-overlap"),u=a.get("icon-allow-overlap"),c=a.get("text-variable-anchor"),f="map"===a.get("text-rotation-alignment"),h="map"===a.get("text-pitch-alignment"),d="none"!==a.get("icon-text-fit"),p=new Ft(null,0,l&&(u||!t.hasIconData()||a.get("icon-optional")),u&&(l||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var m=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},v=0,y=function(r){var a=t.symbolInstances.get(r),l=a.numHorizontalGlyphVertices,u=a.numVerticalGlyphVertices,y=a.crossTileID,g=i.opacities[y];n[y]?g=s:g||(g=p,i.opacities[y]=g),n[y]=!0;var _=l>0||u>0,x=a.numIconVertices>0,b=i.placedOrientations[a.crossTileID],w=b===e.WritingMode.vertical,k=b===e.WritingMode.horizontal||b===e.WritingMode.horizontalOnly;if(!_&&!x||g.isHidden()||v++,_){var C=$t(g.text);m(t.text,l,w?en:C),m(t.text,u,k?en:C);var E=g.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=E||w?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=E||k?1:0);var S=i.variableOffsets[a.crossTileID];S&&i.markUsedJustification(t,S.anchor,a,b);var T=i.placedOrientations[a.crossTileID];T&&(i.markUsedJustification(t,"left",a,T),i.markUsedOrientation(t,T,a))}if(x){var A=$t(g.icon);a.placedIconSymbolIndex>=0&&(m(t.icon,a.numIconVertices,w?en:A),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=g.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(m(t.icon,a.numVerticalIconVertices,k?en:A),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var M=t.collisionArrays[r];if(M){var I=new e.pointGeometry(0,0),P=!0;if(M.textBox||M.verticalTextBox){if(c){var L=i.variableOffsets[y];L?(I=Nt(L.anchor,L.width,L.height,L.textOffset,L.textScale),f&&I._rotate(h?i.transform.angle:-i.transform.angle)):P=!1}o&&(P=!g.clipped),M.textBox&&qt(t.textCollisionBox.collisionVertexArray,g.text.placed,!P||w,I.x,I.y),M.verticalTextBox&&qt(t.textCollisionBox.collisionVertexArray,g.text.placed,!P||k,I.x,I.y)}var z=P&&Boolean(!k&&M.verticalIconBox);M.iconBox&&qt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,z,d?I.x:0,d?I.y:0),M.verticalIconBox&&qt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!z,d?I.x:0,d?I.y:0)}}},g=0;g<t.symbolInstances.length;g++)y(g);if(t.fullyClipped=0===v,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var _=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=_.invProjMatrix,t.placementViewportMatrix=_.viewportMatrix,t.collisionCircleArray=_.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(e){return Math.max(0,(this.transform.zoom-e)/1.5)}},{key:"hasTransitions",value:function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}},{key:"setStale",value:function(){this.stale=!0}}]),t}();function qt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}var Wt=Math.pow(2,25),Ht=Math.pow(2,24),Xt=Math.pow(2,17),Yt=Math.pow(2,16),Kt=Math.pow(2,9),Qt=Math.pow(2,8),Jt=Math.pow(2,1);function $t(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Wt+t*Ht+n*Xt+t*Yt+n*Kt+t*Qt+n*Jt+t}var en=0,tn=function(){function e(t){d(this,e),this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return p(e,[{key:"continuePlacement",value:function(e,t,n,r,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<a.length;){var o=a[this._currentPartIndex];if(t.placeLayerBucketPart(o,this._seenCrossTileIDs,n,0===o.symbolInstanceStart),this._currentPartIndex++,i())return!0}return!1}}]),e}(),nn=function(){function t(e,n,r,i,a,o,s,l){d(this,t),this.placement=new Gt(e,a,o,s,l),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}return p(t,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(t,n,r){for(var i=this,a=e.exported.now(),o=function(){var t=e.exported.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new tn(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(e){return this.placement.commit(e),this.placement}}]),t}(),rn=512/e.EXTENT/2,an=function(){function t(e,n,r){d(this,t),this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var i=0;i<n.length;i++){var a=n.get(i),o=a.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:a.crossTileID,coord:this.getScaledCoordinates(a,e)})}}return p(t,[{key:"getScaledCoordinates",value:function(t,n){var r=rn/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.tileAnchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.tileAnchorY)*r)}}},{key:"findMatches",value:function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o){var s,l=this.getScaledCoordinates(a,t),u=h(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(Math.abs(c.coord.x-l.x)<=r&&Math.abs(c.coord.y-l.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,a.crossTileID=c.crossTileID;break}}}catch(f){u.e(f)}finally{u.f()}}}}}}]),t}(),on=function(){function e(){d(this,e),this.maxCrossTileID=0}return p(e,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),e}(),sn=function(){function e(){d(this,e),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return p(e,[{key:"handleWrapJump",value:function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[n]=i}this.lng=e}},{key:"addBucket",value:function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,i)}else{var u=o[e.scaledTo(Number(a)).key];u&&u.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var f=t.symbolInstances.get(c);f.crossTileID||(f.crossTileID=n.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new an(e,t.symbolInstances,t.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(e,t){for(var n in t.indexedSymbolInstances){var r,i=h(t.indexedSymbolInstances[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete this.usedCrossTileIDs[e][a.crossTileID]}}catch(o){i.e(o)}finally{i.f()}}}},{key:"removeStaleBuckets",value:function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}]),e}(),ln=function(){function e(){d(this,e),this.layerIndexes={},this.crossTileIDs=new on,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return p(e,[{key:"addLayer",value:function(e,t,n,r){var i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new sn);var a=!1,o={};"globe"!==r.name&&i.handleWrapJump(n);var s,l=h(t);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(u.tileID,c,this.crossTileIDs)&&(a=!0),o[c.bucketInstanceId]=!0)}}catch(f){l.e(f)}finally{l.f()}return i.removeStaleBuckets(o)&&(a=!0),a}},{key:"pruneUnusedLayers",value:function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]}}]),e}(),un=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},cn=e.pick(rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),fn=e.pick(rt,["setCenter","setZoom","setBearing","setPitch"]),hn={version:8,layers:[],sources:{}},dn={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0},pn=function(n){m(a,n);var r=v(a);function a(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,a),(n=r.call(this)).map=t,n.dispatcher=new q(et(),i(n)),n.imageManager=new z,n.imageManager.setEventedParent(i(n)),n.glyphManager=new e.GlyphManager(t._requestManager,o.localFontFamily?e.LocalGlyphMode.all:o.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,o.localFontFamily||o.localIdeographFontFamily),n.crossTileSymbolIndex=new ln,n._layers={},n._num3DLayers=0,n._numSymbolLayers=0,n._numCircleLayers=0,n._serializedLayers={},n._sourceCaches={},n._otherSourceCaches={},n._symbolSourceCaches={},n.zoomHistory=new e.ZoomHistory,n._loaded=!1,n._availableImages=[],n._order=[],n._drapedFirstOrder=[],n._markersNeedUpdate=!1,n._resetUpdates(),n.dispatcher.broadcast("setReferrer",e.getReferrer());var s=i(n);return n._rtlTextPluginCallback=a.registerForPluginStateChange((function(t){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in s._sourceCaches){var i=s._sourceCaches[r],a=i.getSource().type;"vector"!==a&&"geojson"!==a||i.reload()}}))})),n.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=n.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(var r in n._layers){var i=n._layers[r];i.source===t.id&&n._validateLayer(i)}}})),n}return p(a,[{key:"loadURL",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)}))}},{key:"loadJSON",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))}},{key:"loadEmpty",value:function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(hn,!1)}},{key:"_updateLayerCount",value:function(e,t){var n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}},{key:"_load",value:function(t,n){if(!n||!un(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection(),t.sources)this.addSource(r,t.sources[r],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);var i=nt(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};var a,o=h(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize(),this._updateLayerCount(s,!0)}}catch(l){o.e(l)}finally{o.f()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new R(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}}},{key:"terrainSetForDrapingOnly",value:function(){return!!this.terrain&&0===this.terrain.drapeRenderMode}},{key:"setProjection",value:function(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}},{key:"applyProjectionUpdate",value:function(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}},{key:"_updateMapProjection",value:function(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}},{key:"_loadSprite",value:function(t){var n=this;this._spriteRequest=function(t,n,r){var i,a,o,s=e.exported.devicePixelRatio>1?"@2x":"",l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,o||(o=e,i=t,c())})),u=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,o||(o=e,a=t,c())}));function c(){if(o)r(o);else if(i&&a){var t=e.exported.getImageData(a),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,f=l.x,h=l.y,d=l.sdf,p=l.pixelRatio,m=l.stretchX,v=l.stretchY,y=l.content,g=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,g,{x:f,y:h},{x:0,y:0},{width:u,height:c}),n[s]={data:g,pixelRatio:p,sdf:d,stretchX:m,stretchY:v,content:y}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.dispatcher.broadcast("spriteLoaded",!0),n.fire(new e.Event("data",{dataType:"style"}))}))}},{key:"_validateLayer",value:function(t){var n=this.getSource(t.source);if(n){var r=t.sourceLayer;r&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'.concat(r,'" does not exist on source "').concat(n.id,'" as specified by style layer "').concat(t.id,'"'))))}}},{key:"loaded",value:function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeLayers",value:function(e){var t,n=[],r=h(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=this._layers[i];"custom"!==a.type&&n.push(a.serialize())}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(var e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}},{key:"order",get:function(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}},{key:"isLayerDraped",value:function(e){return!!this.terrain&&dn[e.type]}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading")}},{key:"update",value:function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}var l={};for(var u in this._sourceCaches){var c=this._sourceCaches[u];l[u]=c.used,c.used=!1}var f,d=h(this._order);try{for(d.s();!(f=d.n()).done;){var p=f.value,m=this._layers[p];if(m.recalculate(t,this._availableImages),!m.isHidden(t.zoom)){var v=this._getLayerSourceCache(m);v&&(v.used=!0)}var y=this.map.painter;if(y){var g=m.getProgramIds();if(!g)continue;var _,x=m.getProgramConfiguration(t.zoom),b=h(g);try{for(b.s();!(_=b.n()).done;){var w=_.value;y.useProgram(w,x)}}catch(E){b.e(E)}finally{b.f()}}}}catch(E){d.e(E)}finally{d.f()}for(var k in l){var C=this._sourceCaches[k];l[k]!==C.used&&C.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:C.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new e.Event("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}},{key:"_updateWorkerLayers",value:function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}},{key:"setState",value:function(n){var r=this;if(this._checkLoaded(),un(this,e.validateStyle(n)))return!1;(n=e.clone$1(n)).layers=nt(n.layers);var i=function(e,n){if(!e)return[{command:rt.setStyle,args:[n]}];var r=[];try{if(!t(e.version,n.version))return[{command:rt.setStyle,args:[n]}];t(e.center,n.center)||r.push({command:rt.setCenter,args:[n.center]}),t(e.zoom,n.zoom)||r.push({command:rt.setZoom,args:[n.zoom]}),t(e.bearing,n.bearing)||r.push({command:rt.setBearing,args:[n.bearing]}),t(e.pitch,n.pitch)||r.push({command:rt.setPitch,args:[n.pitch]}),t(e.sprite,n.sprite)||r.push({command:rt.setSprite,args:[n.sprite]}),t(e.glyphs,n.glyphs)||r.push({command:rt.setGlyphs,args:[n.glyphs]}),t(e.transition,n.transition)||r.push({command:rt.setTransition,args:[n.transition]}),t(e.light,n.light)||r.push({command:rt.setLight,args:[n.light]}),t(e.fog,n.fog)||r.push({command:rt.setFog,args:[n.fog]}),t(e.projection,n.projection)||r.push({command:rt.setProjection,args:[n.projection]});var i={},a=[];!function(e,n,r,i){var a;for(a in n=n||{},e=e||{})e.hasOwnProperty(a)&&(n.hasOwnProperty(a)||at(a,r,i));for(a in n)n.hasOwnProperty(a)&&(e.hasOwnProperty(a)?t(e[a],n[a])||("geojson"===e[a].type&&"geojson"===n[a].type&&st(e,n,a)?r.push({command:rt.setGeoJSONSourceData,args:[a,n[a].data]}):ot(a,n,r,i)):it(a,n,r))}(e.sources,n.sources,a,i);var o=[];e.layers&&e.layers.forEach((function(e){e.source&&i[e.source]?r.push({command:rt.removeLayer,args:[e.id]}):o.push(e)}));var s=e.terrain;s&&i[s.source]&&(r.push({command:rt.setTerrain,args:[void 0]}),s=void 0),r=r.concat(a),t(s,n.terrain)||r.push({command:rt.setTerrain,args:[n.terrain]}),function(e,n,r){n=n||[];var i,a,o,s,l,u,c,f=(e=e||[]).map(ut),h=n.map(ut),d=e.reduce(ct,{}),p=n.reduce(ct,{}),m=f.slice(),v=Object.create(null);for(i=0,a=0;i<f.length;i++)o=f[i],p.hasOwnProperty(o)?a++:(r.push({command:rt.removeLayer,args:[o]}),m.splice(m.indexOf(o,a),1));for(i=0,a=0;i<h.length;i++)o=h[h.length-1-i],m[m.length-1-i]!==o&&(d.hasOwnProperty(o)?(r.push({command:rt.removeLayer,args:[o]}),m.splice(m.lastIndexOf(o,m.length-a),1)):a++,u=m[m.length-i],r.push({command:rt.addLayer,args:[p[o],u]}),m.splice(m.length-i,0,o),v[o]=!0);for(i=0;i<h.length;i++)if(s=d[o=h[i]],l=p[o],!v[o]&&!t(s,l))if(t(s.source,l.source)&&t(s["source-layer"],l["source-layer"])&&t(s.type,l.type)){for(c in lt(s.layout,l.layout,r,o,null,rt.setLayoutProperty),lt(s.paint,l.paint,r,o,null,rt.setPaintProperty),t(s.filter,l.filter)||r.push({command:rt.setFilter,args:[o,l.filter]}),t(s.minzoom,l.minzoom)&&t(s.maxzoom,l.maxzoom)||r.push({command:rt.setLayerZoomRange,args:[o,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?lt(s[c],l[c],r,o,c.slice(6),rt.setPaintProperty):t(s[c],l[c])||r.push({command:rt.setLayerProperty,args:[o,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?lt(s[c],l[c],r,o,c.slice(6),rt.setPaintProperty):t(s[c],l[c])||r.push({command:rt.setLayerProperty,args:[o,c,l[c]]}))}else r.push({command:rt.removeLayer,args:[o]}),u=m[m.lastIndexOf(o)+1],r.push({command:rt.addLayer,args:[l,u]})}(o,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:rt.setStyle,args:[n]}]}return r}(this.serialize(),n).filter((function(e){return!(e.command in fn)}));if(0===i.length)return!1;var a=i.filter((function(e){return!(e.command in cn)}));if(a.length>0)throw new Error("Unimplemented: ".concat(a.map((function(e){return e.command})).join(", "),"."));return i.forEach((function(e){"setTransition"!==e.command&&"setProjection"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=n,this._updateMapProjection(),!0}},{key:"addImage",value:function(t,n){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,n),this._afterImageUpdated(t),this)}},{key:"updateImage",value:function(e,t){this.imageManager.updateImage(e,t)}},{key:"getImage",value:function(e){return this.imageManager.getImage(e)}},{key:"removeImage",value:function(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}},{key:"_afterImageUpdated",value:function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this._availableImages.slice()}},{key:"addSource",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateSource,"sources.".concat(t),n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=qe(t,n,this.dispatcher,this);a.setEventedParent(this,(function(){return{isSourceLoaded:r._isSourceCacheLoaded(t),source:a.serialize(),sourceId:t}}));var o=function(n){var i=(n?"symbol:":"other:")+t,o=r._sourceCaches[i]=new e.SourceCache(i,a,n);(n?r._symbolSourceCaches:r._otherSourceCaches)[t]=o,o.style=r,o.onAdd(r.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),a.onAdd&&a.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(t){this._checkLoaded();var n=this.getSource(t);if(!n)throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(r,'" is using it.'))));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while terrain is using it.'))));var i,a=this._getSourceCaches(t),o=h(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;delete this._sourceCaches[s.id],delete this._updatedSources[s.id],s.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s.getSource().id})),s.setEventedParent(null),s.clearTiles()}}catch(l){o.e(l)}finally{o.f()}return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0,this}},{key:"setGeoJSONSourceData",value:function(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}},{key:"getSource",value:function(e){var t=this._getSourceCache(e);return t&&t.getSource()}},{key:"_getSources",value:function(){var e=[];for(var t in this._otherSourceCaches){var n=this._getSourceCache(t);n&&e.push(n.getSource())}return e}},{key:"addLayer",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(i,'" already exists on this map'))));else{var a;if("custom"===t.type){if(un(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateLayer,"layers.".concat(i),t,{arrayIndex:-1},r))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize(),this._updateLayerCount(a,!0)}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.'))));else{this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a;var s=this._getLayerSourceCache(a);if(this._removedLayers[i]&&a.source&&s&&"custom"!==a.type){var l=this._removedLayers[i];delete this._removedLayers[i],l.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",s.pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map),this._updateDrapeFirstLayers()}}}},{key:"moveLayer",value:function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.')))):(this._order.splice(i,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null),this._updateLayerCount(n,!1);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be removed."))))}},{key:"getLayer",value:function(e){return this._layers[e]}},{key:"hasLayer",value:function(e){return e in this._layers}},{key:"hasLayerType",value:function(e){for(var t in this._layers)if(this._layers[t].type===e)return!0;return!1}},{key:"setLayerZoomRange",value:function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot have zoom extent."))))}},{key:"setFilter",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var a=this.getLayer(n);if(a){if(!t(a.filter,r))return null==r?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.validateFilter,"layers.".concat(a.id,".filter"),r,{layerType:a.type},i)||(a.filter=e.clone$1(r),this._updateLayer(a)))}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be filtered."))))}},{key:"getFilter",value:function(t){var n=this.getLayer(t);return n&&e.clone$1(n.filter)}},{key:"setLayoutProperty",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(n);o?t(o.getLayoutProperty(r),i)||(o.setLayoutProperty(r,i,a),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}},{key:"getLayoutProperty",value:function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style."))))}},{key:"setPaintProperty",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(n);o?t(o.getPaintProperty(r),i)||(o.setPaintProperty(r,i,a)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}},{key:"getPaintProperty",value:function(e,t){var n=this.getLayer(e);return n&&n.getPaintProperty(t)}},{key:"setFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,a=this.getSource(r);if(a){var o=a.type;if("geojson"===o&&i)this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));else if("vector"!==o||i){void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));var s,l=this._getSourceCaches(r),u=h(l);try{for(u.s();!(s=u.n()).done;)s.value.setFeatureState(i,t.id,n)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=this.getSource(r);if(i){var a=i.type,o="vector"===a?t.sourceLayer:void 0;if("vector"!==a||o)if(n&&"string"!=typeof t.id&&"number"!=typeof t.id)this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));else{var s,l=this._getSourceCaches(r),u=h(l);try{for(u.s();!(s=u.n()).done;)s.value.removeFeatureState(o,t.id,n)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.getSource(n);if(i){if("vector"!==i.type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){var t={};for(var n in this._sourceCaches){var r=this._sourceCaches[n].getSource();t[r.id]||(t[r.id]=r.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))}},{key:"_updateLayer",value:function(e){this._updatedLayers[e.id]=!0;var t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}},{key:"_flattenAndSortRenderedFeatures",value:function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(n(o)){r[o]=a;var s,l=h(e);try{for(l.s();!(s=l.n()).done;){var u=s.value[o];if(u){var c,f=h(u);try{for(f.s();!(c=f.n()).done;){var d=c.value;i.push(d)}}catch(E){f.e(E)}finally{f.f()}}}}catch(E){l.e(E)}finally{l.f()}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],m=this._order.length-1;m>=0;m--){var v=this._order[m];if(n(v))for(var y=i.length-1;y>=0;y--){var g=i[y].feature;if(r[g.layer.id]<m)break;p.push(g),i.pop()}else{var _,x=h(e);try{for(x.s();!(_=x.n()).done;){var b=_.value[v];if(b){var w,k=h(b);try{for(k.s();!(w=k.n()).done;){var C=w.value;p.push(C.feature)}}catch(E){k.e(E)}finally{k.f()}}}}catch(E){x.e(E)}finally{x.f()}}}return p}},{key:"queryRenderedFeatures",value:function(t,n,r){var i=this;n&&n.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",n.filter,null,n);var a={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];var o,s=h(n.layers);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=this._layers[l];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '".concat(l,"' does not exist in the map's style and cannot be queried for features.")))),[];a[u.source]=!0}}catch(v){s.e(v)}finally{s.f()}}var c=[];n.availableImages=this._availableImages;var f=n&&n.layers?n.layers.some((function(e){var t=i.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),d=H.createFromScreenPoints(t,r);for(var p in this._sourceCaches){var m=this._sourceCaches[p].getSource().id;n.layers&&!a[m]||c.push(He(this._sourceCaches[p],this._layers,this._serializedLayers,d,n,r,f,!!this.map._showQueryGeometry))}return this.placement&&c.push(function(e,t,n,r,i,a,o){var s,l={},u=a.queryRenderedSymbols(r),c=[],f=h(Object.keys(u).map(Number));try{for(f.s();!(s=f.n()).done;){var d=s.value;c.push(o[d])}}catch(v){f.e(v)}finally{f.f()}c.sort(Ye);for(var p=function(){var n=y[m],r=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in r){var o=l[a]=l[a]||[],s=r[a];s.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));var c,f=h(s);try{for(f.s();!(c=f.n()).done;){var d=c.value;o.push(d)}}catch(v){f.e(v)}finally{f.f()}}},m=0,y=c;m<y.length;m++)p();var g=function(t){l[t].forEach((function(r){var i=r.feature,a=n(e[t]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}))};for(var _ in l)g(_);return l}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),d.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)}},{key:"querySourceFeatures",value:function(t,n){n&&n.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",n.filter,null,n);var r,i=this._getSourceCaches(t),a=[],o=h(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;a=a.concat(Xe(s,n))}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"addSourceType",value:function(e,t,n){return a.getSourceType(e)?n(new Error('A source type called "'.concat(e,'" already exists.'))):(a.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var r=this.light.getLight(),i=!1;for(var a in e)if(!t(e[a],r[a])){i=!0;break}if(i){var o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,n),this.light.updateTransitions(o)}}},{key:"getTerrain",value:function(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}},{key:"setTerrainForDraping",value:function(){this.setTerrain({source:"",exaggeration:0},0)}},{key:"setTerrain",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===r){if("object"==typeof n.source){var i="terrain-dem-src";this.addSource(i,n.source),n=e.clone$1(n),n=e.extend(n,{source:i})}if(this._validate(e.validateTerrain,"terrain",n))return}if(!this.terrain||this.terrain&&r!==this.terrain.drapeRenderMode)this._createTerrain(n,r);else{for(var a=this.terrain,o=a.get(),s=0,l=Object.keys(e.spec.terrain);s<l.length;s++){var u=l[s];!n.hasOwnProperty(u)&&e.spec.terrain[u].default&&(n[u]=e.spec.terrain[u].default)}for(var c in n)if(!t(n[c],o[c])){a.set(n),this.stylesheet.terrain=n;var f=this._setTransitionParameters({duration:0});a.updateTransitions(f);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}},{key:"_createFog",value:function(e){var t=this.fog=new G(e,this.map.transform);this.stylesheet.fog=e;var n=this._setTransitionParameters({duration:0});t.updateTransitions(n)}},{key:"_updateMarkersOpacity",value:function(){var e=this;0!==this.map._markers.length&&this.map._requestDomTask((function(){var t,n=h(e.map._markers);try{for(n.s();!(t=n.n()).done;)t.value._evaluateOpacity()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"getFog",value:function(){return this.fog?this.fog.get():null}},{key:"setFog",value:function(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){var n=this.fog,r=n.get();for(var i in 0===Object.keys(e).length&&n.set(e),e)if(!t(e[i],r[i])){n.set(e),this.stylesheet.fog=e;var a=this._setTransitionParameters({duration:0});n.updateTransitions(a);break}}else this._createFog(e);this._markersNeedUpdate=!0}},{key:"_setTransitionParameters",value:function(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}},{key:"_updateDrapeFirstLayers",value:function(){var e,t,n=this;if(this.map._optimizeForTerrain&&this.terrain){var r=this._order.filter((function(e){return n.isLayerDraped(n._layers[e])})),i=this._order.filter((function(e){return!n.isLayerDraped(n._layers[e])}));this._drapedFirstOrder=[],(e=this._drapedFirstOrder).push.apply(e,c(r)),(t=this._drapedFirstOrder).push.apply(t,c(i))}}},{key:"_createTerrain",value:function(e,t){var n=this.terrain=new j(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();var r=this._setTransitionParameters({duration:0});n.updateTransitions(r)}},{key:"_force3DLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}},{key:"_forceSymbolLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}},{key:"_validate",value:function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!a||!1!==a.validate)&&un(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.spec},i)))}},{key:"_remove",value:function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this._sourceCaches)this._sourceCaches[n].clearTiles(),this._sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}},{key:"_clearSource",value:function(e){var t,n=this._getSourceCaches(e),r=h(n);try{for(r.s();!(t=r.n()).done;)t.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}}},{key:"_reloadSource",value:function(e){var t,n=this._getSourceCaches(e),r=h(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.resume(),i.reload()}}catch(a){r.e(a)}finally{r.f()}}},{key:"_reloadSources",value:function(){var e,t=h(this._getSources());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.reload&&n.reload()}}catch(r){t.e(r)}finally{t.f()}}},{key:"_updateSources",value:function(e){for(var t in this._sourceCaches)this._sourceCaches[t].update(e)}},{key:"_generateCollisionBoxes",value:function(){for(var e in this._sourceCaches){var t=this._sourceCaches[e];t.resume(),t.reload()}}},{key:"_updatePlacement",value:function(t,n,r,i){var a,o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=!1,u=!1,c={},f=h(this._order);try{for(f.s();!(a=f.n()).done;){var d=a.value,p=this._layers[d];if("symbol"===p.type){if(!c[p.source]){var m=function(){var e=o._getLayerSourceCache(p);if(!e)return"continue";c[p.source]=e.getRenderableIds(!0).map((function(t){return e.getTileByID(t)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}();if("continue"===m)continue}var v=this.crossTileSymbolIndex.addLayer(p,c[p.source],t.center.lng,t.projection);l=l||v}}}catch(b){f.e(b)}finally{f.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),s=s||this._layerOrderChanged||0===r,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(s||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new nn(t,this._order,s,n,r,i,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),u=!0),l&&this.pauseablePlacement.placement.setStale()),u||l){var y,g=h(this._order);try{for(g.s();!(y=g.n()).done;){var _=y.value,x=this._layers[_];"symbol"===x.type&&this.placement.updateLayerOpacities(x,c[x.source])}}catch(b){g.e(b)}finally{g.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}},{key:"getImages",value:function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=function(e){e&&e.setDependencies(t.tileID.key,t.type,t.icons)};r(this._otherSourceCaches[t.source]),r(this._symbolSourceCaches[t.source])}},{key:"getGlyphs",value:function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}},{key:"getResource",value:function(t,n,r){return e.makeRequest(n,r)}},{key:"_getSourceCache",value:function(e){return this._otherSourceCaches[e]}},{key:"_getLayerSourceCache",value:function(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}},{key:"_getSourceCaches",value:function(e){var t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}},{key:"_isSourceCacheLoaded",value:function(t){var n=this._getSourceCaches(t);return 0===n.length?(this.fire(new e.ErrorEvent(new Error("There is no source with ID '".concat(t,"'")))),!1):n.every((function(e){return e.loaded()}))}},{key:"has3DLayers",value:function(){return this._num3DLayers>0}},{key:"hasSymbolLayers",value:function(){return this._numSymbolLayers>0}},{key:"hasCircleLayers",value:function(){return this._numCircleLayers>0}},{key:"_clearWorkerCaches",value:function(){this.dispatcher.broadcast("clearCaches")}},{key:"destroy",value:function(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}]),a}(e.Evented);pn.getSourceType=function(e){return Ge[e]},pn.setSourceType=function(e,t){Ge[e]=t},pn.registerForPluginStateChange=e.registerForPluginStateChange;var mn="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",vn="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",yn="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",gn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",_n="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif",xn={},bn={},wn=[];Tn(mn,wn),Tn(yn,wn),Tn(gn,wn),Tn(_n,wn),xn=An("",yn),bn=An(_n,gn);var kn=An("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),Cn=mn,En="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",Sn={background:An("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:An("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:An("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:An("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:An("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:An("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:An("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:An("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:An("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:An("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:An("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:An("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:An("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:An("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);float roof_radiance=clamp(u_lightpos.z,0.0,1.0);roof_radiance=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roof_radiance);v_roof_color.rgb+=clamp(color.rgb*roof_radiance*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:An("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:An("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:An("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:An("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nvec4 out_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:An("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:An("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:An("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:An("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:An("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:An("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:An("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:An("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",vn),skyboxGradient:An("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",vn),skyboxCapture:An("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:An("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:An("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function Tn(e,t){var n,r=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n"),i=h(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("#"===(a=a.trim())[0]&&a.includes("if")&&!a.includes("endif")){var o,s=(a=a.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim()).split(" "),l=h(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;t.includes(u)||t.push(u)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){i.e(c)}finally{i.f()}}function An(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),i={},a=[].concat(wn);return Tn(e,a),Tn(t,a),{fragmentSource:e=e.replace(n,(function(e,t,n,r,a){return i[a]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),vertexSource:t=t.replace(n,(function(e,t,n,r,a){var o="float"===r?"vec2":"vec4",s=a.match(/color/)?"color":o;return i[a]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(a,";\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = unpack_mix_").concat(s,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = unpack_mix_").concat(s,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),staticAttributes:r,usedDefines:a}}var Mn=function(){function e(){d(this,e),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}return p(e,[{key:"bind",value:function(e,t,n,r,i,a,o){this.context=e;for(var s=this.boundPaintVertexBuffers.length!==r.length,l=0;!s&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(s=!0);for(var u=this.boundDynamicVertexBuffers.length!==o.length,c=0;!u&&c<o.length;c++)this.boundDynamicVertexBuffers[c]!==o[c]&&(u=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||s||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==a)this.freshBind(t,n,r,i,a,o);else{e.bindVertexArrayOES.set(this.vao);var f,d=h(o);try{for(d.s();!(f=d.n()).done;){var p=f.value;p&&p.bind()}}catch(m){d.e(m)}finally{d.f()}i&&i.dynamicDraw&&i.bind()}}},{key:"freshBind",value:function(e,t,n,r,i,a){var o,s=e.numAttributes,l=this.context,u=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),o=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffers=a;else{o=l.currentNumAttributes||0;for(var c=s;c<o;c++)u.disableVertexAttribArray(c)}t.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);var f,d=h(n);try{for(d.s();!(f=d.n()).done;){var p=f.value;p.enableAttributes(u,e),p.bind(),p.setVertexAttribPointers(u,e,i)}}catch(g){d.e(g)}finally{d.f()}var m,v=h(a);try{for(v.s();!(m=v.n()).done;){var y=m.value;y&&(y.enableAttributes(u,e),y.bind(),y.setVertexAttribPointers(u,e,i))}}catch(g){v.e(g)}finally{v.f()}r&&r.bind(),l.currentNumAttributes=s}},{key:"destroy",value:function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}]),e}();function In(t,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new e.MercatorCoordinate(0,i/r).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}function Pn(t,n,r,i,a,o,s){var l=t.context,u=l.gl,c=r.fbo;if(c){t.prepareDrawTile();var f=t.useProgram("hillshade");l.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c.colorAttachment.get());var h=function(e,t,n,r){var i=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l=!e.options.moving;return{u_matrix:r||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:In(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:a,u_accent:o}}(t,r,i,t.terrain?n.projMatrix:null);t.prepareDrawProgram(l,f,n.toUnwrapped());var d=t.getTileBoundsBuffers(r),p=d.tileBoundsBuffer,m=d.tileBoundsIndexBuffer,v=d.tileBoundsSegments;f.draw(l,u.TRIANGLES,a,o,s,e.CullFaceMode.disabled,h,i.id,p,m,v)}}function Ln(t,n,r){if(n.needsDEMTextureUpload){var i=t.context,a=i.gl;i.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(r.stride);var o=r.getPixels();n.demTexture?n.demTexture.update(o,{premultiply:!1}):n.demTexture=new e.Texture(i,o,a.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}}function zn(t,n,r,i,a,o){var s=t.context,l=s.gl;if(n.dem){var u=n.dem;if(s.activeTexture.set(l.TEXTURE1),Ln(t,n,u),n.demTexture){n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);var c=u.dim;s.activeTexture.set(l.TEXTURE0);var f=n.fbo;if(!f){var h=new e.Texture(s,{width:c,height:c,data:null},l.RGBA);h.bind(l.LINEAR,l.CLAMP_TO_EDGE),(f=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(h.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,c,c]);var d=t.getMercatorTileBoundsBuffers(),p=d.tileBoundsBuffer,m=d.tileBoundsIndexBuffer,v=d.tileBoundsSegments;t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,a,o,e.CullFaceMode.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.unpackVector}}(n.tileID,u),r.id,p,m,v),n.needsHillshadePrepare=!1}}}var On=function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}},Dn=function(e,t){return{u_matrix:e,u_image0:0,u_skirt_height:t}},Rn=function(e,t,n,r,i,a,o,s,l,u,c,f,h,d){return{u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(r),u_merc_matrix:n,u_zoom_transition:i,u_merc_center:a,u_image0:0,u_frustum_tl:o,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:u,u_globe_pos:c,u_globe_radius:f,u_viewport:h,u_grid_matrix:d?Float32Array.from(d):new Float32Array(9)}};function Fn(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}var Bn=new(function(){function e(){d(this,e),this.operations={}}return p(e,[{key:"newMorphing",value:function(e,t,n,r,i){if(e in this.operations){var a=this.operations[e];a.to.tileID.key!==n.tileID.key&&(a.queued=n)}else this.operations[e]={startTime:r,phase:0,duration:i,from:t,to:n,queued:null}}},{key:"getMorphValuesForProxy",value:function(e){if(!(e in this.operations))return null;var t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}},{key:"update",value:function(e){for(var t in this.operations){var n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}},{key:"_nextOp",value:function(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}},{key:"_validOp",value:function(e){return e.from.hasData()&&e.to.hasData()}}]),e}()),jn={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Un(e,t){var n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}var Zn=function(e){return{u_matrix:e}};function Nn(t,n,r,i,a){if(a>0){var o=e.exported.now(),s=(o-t.timeAdded)/a,l=n?(o-n.timeAdded)/a:-1,u=r.getSource(),c=i.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),f=!n||Math.abs(n.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),h=f&&t.refreshedUponExpiration?1:e.clamp(f?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var Vn=function(e){m(n,e);var t=v(n);function n(e){var r;d(this,n);var a={type:"raster-dem",maxzoom:e.transform.maxZoom},o=new q(et(),null),s=qe("mock-dem",a,o,e.style);return r=t.call(this,"mock-dem",s,!1),s.setEventedParent(i(r)),r._sourceLoaded=!0,r}return p(n,[{key:"_loadTile",value:function(e,t){e.state="loaded",t(null)}}]),n}(e.SourceCache),Gn=function(t){m(r,t);var n=v(r);function r(e){var t;d(this,r);var a=qe("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new q(et(),null),e.style);return t=n.call(this,"proxy",a,!1),a.setEventedParent(i(t)),t.map=t.getSource().map=e,t.used=t._sourceLoaded=!0,t.renderCache=[],t.renderCachePool=[],t.proxyCachedFBO={},t}return p(r,[{key:"update",value:function(t,n,r){var i=this;if(!t.freezeTileCoverage){this.transform=t;var a=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((function(n,r){if(n[r.key]="",!i._tiles[r.key]){var a=new e.Tile(r,i._source.tileSize*r.overscaleFactor(),t.tileZoom);a.state="loaded",i._tiles[r.key]=a}return n}),{});for(var o in this._tiles)o in a||(this.freeFBO(o),this._tiles[o].unloadVectorData(),delete this._tiles[o])}}},{key:"freeFBO",value:function(e){var t=this.proxyCachedFBO[e];if(void 0!==t){var n,r=Object.values(t);(n=this.renderCachePool).push.apply(n,r),delete this.proxyCachedFBO[e]}}},{key:"deallocRenderCache",value:function(){this.renderCache.forEach((function(e){return e.fb.destroy()})),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}]),r}(e.SourceCache),qn=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)).proxyTileKey=r,a.projMatrix=i,a}return p(n)}(e.OverscaledTileID),Wn=function(t){m(r,t);var n=v(r);function r(t,i){var a;d(this,r),(a=n.call(this)).painter=t,a.terrainTileForTile={},a.prevTerrainTileForTile={};var o=function(t){var n=new e.StructArrayLayout4i8,r=new e.StructArrayLayout3ui6,i=131;n.reserve(17161),r.reserve(33800);for(var a=e.EXTENT/128,o=e.EXTENT+a/2,s=o+a,l=-a;l<s;l+=a)for(var u=-a;u<s;u+=a){var c=u<0||u>o||l<0||l>o?24575:0,f=e.clamp(Math.round(u),0,e.EXTENT),h=e.clamp(Math.round(l),0,e.EXTENT);n.emplaceBack(f+c,h,f,h)}for(var d=function(e,t){var n=t*i+e;r.emplaceBack(n+1,n,n+i),r.emplaceBack(n+i,n+i+1,n+1)},p=1;p<129;p++)for(var m=1;m<129;m++)d(m,p);return[0,129].forEach((function(e){for(var t=0;t<130;t++)d(t,e),d(e,t)})),[n,r,32768]}(),s=f(o,3),l=s[0],u=s[1],c=s[2],h=t.context;a.gridBuffer=h.createVertexBuffer(l,e.boundsAttributes.members),a.gridIndexBuffer=h.createIndexBuffer(u),a.gridSegments=e.SegmentVector.simpleSegment(0,0,l.length,u.length),a.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,l.length,c),a.proxyCoords=[],a.proxiedCoords={},a._visibleDemTiles=[],a._drapedRenderBatches=[],a._sourceTilesOverlap={},a.proxySourceCache=new Gn(i.map),a.orthoMatrix=e.create(),e.ortho(a.orthoMatrix,"globe"===a.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);var p=h.gl;return a._overlapStencilMode=new e.StencilMode({func:p.GEQUAL,mask:255},0,255,p.KEEP,p.KEEP,p.REPLACE),a._previousZoom=t.transform.zoom,a.pool=[],a._findCoveringTileCache={},a._tilesDirty={},a.style=i,a._useVertexMorphing=!0,a._exaggeration=1,a._mockSourceCache=new Vn(i.map),a}return p(r,[{key:"style",set:function(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}},{key:"update",value:function(t,n,r){var i=this;if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;var a=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(a.get("source")),this._exaggeration=a.get("exaggeration");var o=function(){i.sourceCache.used&&e.warnOnce("Raster DEM source '".concat(i.sourceCache.id,"' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source."));var t=i.getScaledDemTileSize();i.sourceCache.update(n,t,!0),i.resetTileLookupCache(i.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!r),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}},{key:"resetTileLookupCache",value:function(e){this._findCoveringTileCache[e]={}}},{key:"getScaledDemTileSize",value:function(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}},{key:"_checkRenderCacheEfficiency",value:function(){var t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce("Terrain render cache efficiency is not optimal (".concat(t.efficiency,"%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '").concat(t.firstUndrapedLayer,"' or create a map using optimizeForTerrain: true option."))}},{key:"_onStyleDataEvent",value:function(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}},{key:"_disable",value:function(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(var e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}},{key:"destroy",value:function(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((function(e){return e.fb.destroy()})),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}},{key:"_source",value:function(){return this.enabled?this.sourceCache:null}},{key:"isUsingMockSource",value:function(){return this.sourceCache===this._mockSourceCache}},{key:"exaggeration",value:function(){return this._exaggeration}},{key:"visibleDemTiles",get:function(){return this._visibleDemTiles}},{key:"drapeBufferSize",get:function(){var e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}},{key:"useVertexMorphing",set:function(e){this._useVertexMorphing=e}},{key:"updateTileBinding",value:function(t){var n=this;if(this.enabled){this.prevTerrainTileForTile=this.terrainTileForTile;var r=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);var a=this.proxyCoords=r.getIds().map((function(e){var t=r.getTileByID(e).tileID;return t.projMatrix=i.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,n){var r=n.transform.pointCoordinate(n.transform.getCameraPoint()),i=new e.pointGeometry(r.x,r.y);t.sort((function(t,n){if(n.overscaledZ-t.overscaledZ)return n.overscaledZ-t.overscaledZ;var r=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),a=new e.pointGeometry(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),o=i.mult(1<<t.canonical.z);return o.x-=.5,o.y-=.5,o.distSqr(r)-o.distSqr(a)}))}(a,this.painter),this._previousZoom=i.zoom;var o=this.proxyToSource||{};this.proxyToSource={},a.forEach((function(e){n.proxyToSource[e.key]={}})),this.terrainTileForTile={};var s=this._style._sourceCaches;for(var l in s){var u=s[l];if(u.used&&(u!==this.sourceCache&&this.resetTileLookupCache(u.id),this._setupProxiedCoordsForOrtho(u,t[l],o),!u.usedForTerrain)){var c=t[l];u.getSource().reparseOverscaled&&this._assignTerrainTiles(c)}}this.proxiedCoords[r.id]=a.map((function(e){return new qn(e,e.key,n.orthoMatrix)})),this._assignTerrainTiles(a),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();var f={};this._visibleDemTiles=[];var d,p=h(this.proxyCoords);try{for(p.s();!(d=p.n()).done;){var m=d.value,v=this.terrainTileForTile[m.key];if(v){var y=v.tileID.key;y in f||(this._visibleDemTiles.push(v),f[y]=y)}}}catch(g){p.e(g)}finally{p.f()}}}},{key:"_assignTerrainTiles",value:function(e){var t=this;this._initializing||e.forEach((function(e){if(!t.terrainTileForTile[e.key]){var n=t._findTileCoveringTileID(e,t.sourceCache);n&&(t.terrainTileForTile[e.key]=n)}}))}},{key:"_prepareDEMTextures",value:function(){var e=this.painter.context,t=e.gl;for(var n in this.terrainTileForTile){var r=this.terrainTileForTile[n],i=r.dem;!i||r.demTexture&&!r.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),Ln(this.painter,r,i))}}},{key:"_prepareDemTileUniforms",value:function(e,t,n,r){if(!t||null==t.demTexture)return!1;var i=e.tileID.canonical,a=Math.pow(2,t.tileID.canonical.z-i.z),o=r||"";return n["u_dem_tl".concat(o)]=[i.x*a%1,i.y*a%1],n["u_dem_scale".concat(o)]=a,!0}},{key:"emptyDEMTexture",get:function(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}},{key:"emptyDepthBufferTexture",get:function(){var t=this.painter.context,n=t.gl;if(!this._emptyDepthBufferTexture){var r=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,r,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}},{key:"_getLoadedAreaMinimum",value:function(){var e=0,t=this._visibleDemTiles.reduce((function(t,n){if(!n.dem)return t;var r=n.dem.tree.minimums[0];return r>0&&e++,t+r}),0);return e?t/e:0}},{key:"_updateEmptyDEMTexture",value:function(){var t=this.painter.context,n=t.gl;t.activeTexture.set(n.TEXTURE2);var r=this._getLoadedAreaMinimum(),i=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(r,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;var a=this._emptyDEMTexture;return a?a.update(i,{premultiply:!1}):a=this._emptyDEMTexture=new e.Texture(t,i,n.RGBA,{premultiply:!1}),a}},{key:"setupElevationDraw",value:function(t,n,r){var i,a=this.painter.context,o=a.gl,s=(i=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(i),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();var l=null,u=null,c=1;if(r&&r.morphing&&this._useVertexMorphing){var f=r.morphing.srcDemTile,h=r.morphing.dstDemTile;c=r.morphing.phase,f&&h&&(this._prepareDemTileUniforms(t,f,s,"_prev")&&(u=f),this._prepareDemTileUniforms(t,h,s)&&(l=h))}if(u&&l?(a.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.activeTexture.set(o.TEXTURE4),u.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),s.u_dem_lerp=c):(l=this.terrainTileForTile[t.tileID.key],a.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,s)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),a.activeTexture.set(o.TEXTURE3),r&&r.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.u_depth_size_inv=[1,1]),r&&r.useMeterToDem&&l){var d=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=d}if(r&&r.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=r.labelPlaneMatrixInv),n.setTerrainUniformValues(a,s),"globe"===this.painter.transform.projection.name){var p=this.globeUniformValues(this.painter.transform,t.tileID.canonical,r&&r.useDenormalizedUpVectorScale);n.setGlobeUniformValues(a,p)}}},{key:"globeUniformValues",value:function(t,n,r){var i=t.projection;return{u_tile_tl_up:i.upVector(n,0,0),u_tile_tr_up:i.upVector(n,e.EXTENT,0),u_tile_br_up:i.upVector(n,e.EXTENT,e.EXTENT),u_tile_bl_up:i.upVector(n,0,e.EXTENT),u_tile_up_scale:r?e.GLOBE_METERS_TO_ECEF:i.upVectorScale(n,t.center.lat,t.worldSize).metersToTile}}},{key:"renderToBackBuffer",value:function(t){var n=this.painter,r=this.painter.context;0!==t.length&&(r.bindFramebuffer.set(null),r.viewport.set([0,0,n.width,n.height]),n.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,n,r,i,a){if("globe"===t.transform.projection.name)!function(t,n,r,i,a){var o,s,l=t.context,u=l.gl,c=t.options.showTerrainWireframe?2:0,d=t.transform,p=e.globeUseCustomAntiAliasing(t,l,d),m=function(e,n){if(s!==e){var r=[jn[e],"PROJECTION_GLOBE_VIEW"];p&&r.push("CUSTOM_ANTIALIASING"),n&&r.push(jn[c]),o=t.useProgram("globeRaster",null,r),s=e}},v=t.colorModeForRenderPass(),y=new e.DepthMode(u.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Bn.update(a);var g=e.calculateGlobeMercatorMatrix(d),_=[e.mercatorXfromLng(d.center.lng),e.mercatorYfromLat(d.center.lat)],x=c?[!1,!0]:[!1],b=t.globeSharedBuffers,w=[d.width*e.exported.devicePixelRatio,d.height*e.exported.devicePixelRatio],k=Float32Array.from(d.globeMatrix),C={useDenormalizedUpVectorScale:!0};if(x.forEach((function(c){s=-1;var p,x=c?u.LINES:u.TRIANGLES,E=h(i);try{for(E.s();!(p=E.n()).done;){var S=p.value,T=r.getTile(S),A=e.StencilMode.disabled,M=n.prevTerrainTileForTile[S.key],I=n.terrainTileForTile[S.key];Fn(M,I)&&Bn.newMorphing(S.key,M,I,a,250),l.activeTexture.set(u.TEXTURE0),T.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE);var P=Bn.getMorphValuesForProxy(S.key),L=P?1:0;P&&e.extend$1(C,{morphing:{srcDemTile:P.from,dstDemTile:P.to,phase:e.easeCubicInOut(P.phase)}});var z=e.tileCornersToBounds(S.canonical),O=e.getLatitudinalLod(z.getCenter().lat),D=e.getGridMatrix(S.canonical,z,O,d.worldSize/d._pixelsPerMercatorPixel),R=e.globeNormalizeECEF(e.globeTileBounds(S.canonical)),F=Rn(d.projMatrix,k,g,R,e.globeToMercatorTransition(d.zoom),_,d.frustumCorners.TL,d.frustumCorners.TR,d.frustumCorners.BR,d.frustumCorners.BL,d.globeCenterInViewSpace,d.globeRadius,w,D);if(m(L,c),n.setupElevationDraw(T,o,C),t.prepareDrawProgram(l,o,S.toUnwrapped()),b){var B=c?b.getWirefameBuffers(t.context,O):b.getGridBuffers(O),j=f(B,3),U=j[0],Z=j[1],N=j[2];o.draw(l,x,y,A,v,e.CullFaceMode.backCCW,F,"globe_raster",U,Z,N)}}}catch(V){E.e(V)}finally{E.f()}})),b){var E=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];p&&E.push("CUSTOM_ANTIALIASING"),o=t.useProgram("globeRaster",null,E);var S,T=h(i);try{var A=function(){var i=S.value,a=i.canonical,s=a.x,c=a.y,h=a.z,p=0===c,m=c===(1<<h)-1,g=b.getPoleBuffers(h),x=f(g,4),k=x[0],E=x[1],T=x[2],A=x[3];if(A&&(p||m)){var M=r.getTile(i);l.activeTexture.set(u.TEXTURE0),M.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE);var I=e.globePoleMatrixForTile(h,s,d),P=e.globeNormalizeECEF(e.globeTileBounds(i.canonical)),L=function(t,n){return t.draw(l,u.TRIANGLES,y,e.StencilMode.disabled,v,e.CullFaceMode.disabled,Rn(d.projMatrix,I,I,P,0,_,d.frustumCorners.TL,d.frustumCorners.TR,d.frustumCorners.BR,d.frustumCorners.BL,d.globeCenterInViewSpace,d.globeRadius,w),"globe_pole_raster",n,T,A)};n.setupElevationDraw(M,o,C),t.prepareDrawProgram(l,o,i.toUnwrapped()),p&&L(o,k),m&&(I=e.scale(e.create(),I,[1,-1,1]),L(o,E))}};for(T.s();!(S=T.n()).done;)A()}catch(M){T.e(M)}finally{T.f()}}}(t,n,r,i,a);else{var o,s,l=t.context,u=l.gl,c=t.options.showTerrainWireframe?2:0,d=function(e,n){if(s!==e){var r=[jn[e]];n&&r.push(jn[c]),o=t.useProgram("terrainRaster",null,r),s=e}},p=t.colorModeForRenderPass(),m=new e.DepthMode(u.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Bn.update(a);var v=t.transform,y=6*Math.pow(1.5,22-v.zoom)*n.exaggeration();(c?[!1,!0]:[!1]).forEach((function(c){s=-1;var g,_=c?u.LINES:u.TRIANGLES,x=c?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments],b=f(x,2),w=b[0],k=b[1],C=h(i);try{for(C.s();!(g=C.n()).done;){var E=g.value,S=r.getTile(E),T=e.StencilMode.disabled,A=n.prevTerrainTileForTile[E.key],M=n.terrainTileForTile[E.key];Fn(A,M)&&Bn.newMorphing(E.key,A,M,a,250),l.activeTexture.set(u.TEXTURE0),S.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE,u.LINEAR_MIPMAP_NEAREST);var I=Bn.getMorphValuesForProxy(E.key),P=I?1:0,L=void 0;I&&(L={morphing:{srcDemTile:I.from,dstDemTile:I.to,phase:e.easeCubicInOut(I.phase)}});var z=Dn(E.projMatrix,Un(E.canonical,v.renderWorldCopies)?y/10:y);d(P,c),n.setupElevationDraw(S,o,L),t.prepareDrawProgram(l,o,E.toUnwrapped()),o.draw(l,_,m,T,p,e.CullFaceMode.backCCW,z,"terrain_raster",n.gridBuffer,w,k)}}catch(O){C.e(O)}finally{C.f()}}))}}(n,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,n.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}},{key:"renderBatch",value:function(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;var n,r=this.painter,i=this.painter.context,a=this.proxySourceCache,o=this.proxiedCoords[a.id],s=this._drapedRenderBatches.shift(),l=[],u=r.style.order,c=0,f=h(o);try{for(f.s();!(n=f.n()).done;){var d=n.value,p=a.getTileByID(d.proxyTileKey),m=a.proxyCachedFBO[d.key]?a.proxyCachedFBO[d.key][t]:void 0,v=void 0!==m?a.renderCache[m]:this.pool[c++],y=void 0!==m;if(p.texture=v.tex,!y||v.dirty){var g=void 0;i.bindFramebuffer.set(v.fb.framebuffer),this.renderedToTile=!1,v.dirty&&(i.clear({color:e.Color.transparent,stencil:0}),v.dirty=!1);for(var _=s.start;_<=s.end;++_){var x=r.style._layers[u[_]];if(!x.isHidden(r.transform.zoom)){var b=r.style._getLayerSourceCache(x),w=b?this.proxyToSource[d.key][b.id]:[d];if(w){var k=w;i.viewport.set([0,0,v.fb.width,v.fb.height]),g!==(b?b.id:null)&&(this._setupStencil(v,w,x,b),g=b?b.id:null),r.renderLayer(r,b,x,k)}}}this.renderedToTile?(v.dirty=!0,l.push(p.tileID)):y||--c,5===c&&(c=0,this.renderToBackBuffer(l))}else l.push(p.tileID)}}catch(C){f.e(C)}finally{f.f()}return this.renderToBackBuffer(l),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,r.width,r.height]),s.end+1}},{key:"postRender",value:function(){}},{key:"renderCacheEfficiency",value:function(e){var t=e.order.length;if(0===t)return{efficiency:100};for(var n,r=0,i=0,a=!1,o=0;o<t;++o){var s=e._layers[e.order[o]];this._style.isLayerDraped(s)?(a&&++r,++i):a||(a=!0,n=s.id)}return 0===i?{efficiency:100}:{efficiency:100*(1-r/i),firstUndrapedLayer:n}}},{key:"getMinElevationBelowMSL",value:function(){var e=0;return this._visibleDemTiles.filter((function(e){return e.dem})).forEach((function(t){e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}},{key:"raycast",value:function(e,t,n){if(!this._visibleDemTiles)return null;var r=this._visibleDemTiles.filter((function(e){return e.dem})).map((function(r){var i=r.tileID,a=1<<i.overscaledZ,o=i.canonical,s=o.x,l=o.y,u=s/a,c=(s+1)/a,f=l/a,h=(l+1)/a;return{minx:u,miny:f,maxx:c,maxy:h,t:r.dem.tree.raycastRoot(u,f,c,h,e,t,n),tile:r}}));r.sort((function(e,t){return(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)}));var i,a=h(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(null==o.t)return null;var s=o.tile.dem.tree.raycast(o.minx,o.miny,o.maxx,o.maxy,e,t,n);if(null!=s)return s}}catch(l){a.e(l)}finally{a.f()}return null}},{key:"_createFBO",value:function(){var t=this.painter.context,n=t.gl,r=this.drapeBufferSize;t.activeTexture.set(n.TEXTURE0);var i=new e.Texture(t,{width:r[0],height:r[1],data:null},n.RGBA);i.bind(n.LINEAR,n.CLAMP_TO_EDGE);var a=t.createFramebuffer(r[0],r[1],!1);return a.colorAttachment.set(i.texture),a.depthAttachment=new Be(t,a.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,r[0],r[1]),this._stencilRef=0,a.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):a.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:a,tex:i,dirty:!1}}},{key:"_initFBOPool",value:function(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}},{key:"_shouldDisableRenderCache",value:function(){var e=this;if(this._style.light&&this._style.light.hasTransition())return!0;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some((function(t){var n=e._style._layers[t],r=n.isHidden(e.painter.transform.zoom),i=n.getCrossfadeParameters(),a=!!i&&1!==i.t,o=n.hasTransition();return"custom"!==n.type&&!r&&(a||o)}))}},{key:"_clearRasterFadeFromRenderCache",value:function(){var e=!1;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Ze){e=!0;break}if(e)for(var n=0;n<this._style.order.length;++n){var r=this._style._layers[this._style.order[n]],i=r.isHidden(this.painter.transform.zoom),a=this._style._getLayerSourceCache(r);if("raster"===r.type&&!i&&a){var o,s=r.paint.get("raster-fade-duration"),l=h(this.proxyCoords);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=this.proxyToSource[u.key][a.id];if(c){var f,d=h(c);try{for(d.s();!(f=d.n()).done;){var p=f.value,m=Nn(a.getTile(p),a.findLoadedParent(p,0),a,this.painter.transform,s);(1!==m.opacity||0!==m.mix)&&this._clearRenderCacheForTile(a.id,p)}}catch(v){d.e(v)}finally{d.f()}}}}catch(v){l.e(v)}finally{l.f()}}}}},{key:"_setupDrapedRenderBatches",value:function(){var e=this._style.order,t=e.length;if(0!==t){for(var n,r=[],i=0,a=this._style._layers[e[i]];!this._style.isLayerDraped(a)&&a.isHidden(this.painter.transform.zoom)&&++i<t;)a=this._style._layers[e[i]];for(;i<t;++i){var o=this._style._layers[e[i]];o.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(o)?void 0===n&&(n=i):void 0!==n&&(r.push({start:n,end:i-1}),n=void 0))}void 0!==n&&r.push({start:n,end:i-1}),this._drapedRenderBatches=r}}},{key:"_setupRenderCache",value:function(e){var t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){var n=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(var r=0;r<n.length;++r){var i,a=Object.values(n[r]);(i=t.renderCachePool).push.apply(i,a)}}}else{this._clearRasterFadeFromRenderCache();for(var o=this.proxyCoords,s=this._tilesDirty,l=o.length-1;l>=0;l--){var u=o[l];if(t.getTileByID(u.key),void 0!==t.proxyCachedFBO[u.key]){var f=e[u.key],d=this.proxyToSource[u.key],p=0,m=function(e){var t=d[e],n=f[e];if(!n||n.length!==t.length||t.some((function(t,r){return t!==n[r]||s[e]&&s[e].hasOwnProperty(t.key)})))return p=-1,"break";++p};for(var v in d)if("break"===m(v))break;for(var y in t.proxyCachedFBO[u.key])t.renderCache[t.proxyCachedFBO[u.key][y]].dirty=p<0||p!==Object.values(f).length}}var g=c(this._drapedRenderBatches);g.sort((function(e,t){return t.end-t.start-(e.end-e.start)}));var _,x=h(g);try{for(x.s();!(_=x.n()).done;){var b,w=_.value,k=h(o);try{for(k.s();!(b=k.n()).done;){var C=b.value;if(!t.proxyCachedFBO[C.key]){var E=t.renderCachePool.pop();void 0===E&&t.renderCache.length<50&&(E=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==E&&(t.proxyCachedFBO[C.key]={},t.proxyCachedFBO[C.key][w.start]=E,t.renderCache[E].dirty=!0)}}}catch(S){k.e(S)}finally{k.f()}}}catch(S){x.e(S)}finally{x.f()}this._tilesDirty={}}}},{key:"_setupStencil",value:function(e,t,n,r){if(r&&this._sourceTilesOverlap[r.id]){var i=this.painter.context,a=i.gl;if(t.length<=1)this._overlapStencilType=!1;else{var o;if(n.isTileClipped())o=t.length,this._overlapStencilMode.test={func:a.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);o=1,this._overlapStencilMode.test={func:a.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+o>255&&(i.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=o,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}}else this._overlapStencilType&&(this._overlapStencilType=!1)}},{key:"clipOrMaskOverlapStencilType",value:function(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}},{key:"stencilModeForRTTOverlap",value:function(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}},{key:"_renderTileClippingMasks",value:function(t,n){var r=this.painter,i=this.painter.context,a=i.gl;r._tileClippingMaskIDs={},i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);var o,s=r.useProgram("clippingMask"),l=h(t);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=r._tileClippingMaskIDs[u.key]=--n;s.draw(i,a.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:a.ALWAYS,mask:0},c,255,a.KEEP,a.KEEP,a.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Zn(u.projMatrix),"$clipping",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments)}}catch(f){l.e(f)}finally{l.f()}}},{key:"pointCoordinate",value:function(t){var n=this.painter.transform;if(t.x<0||t.x>n.width||t.y<0||t.y>n.height)return null;var r=[t.x,t.y,1,1];e.transformMat4$1(r,r,n.pixelMatrixInverse),e.scale$1(r,r,1/r[3]),r[0]/=n.worldSize,r[1]/=n.worldSize;var i=n._camera.position,a=e.mercatorZfromAltitude(1,n.center.lat),o=[i[0],i[1],i[2]/a,0],s=e.subtract([],r.slice(0,3),o);e.normalize(s,s);var l=this.raycast(o,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(o,o,s,l),o[3]=o[2],o[2]*=a,o):null}},{key:"drawDepth",value:function(){var t=this.painter,n=t.context,r=this.proxySourceCache,i=Math.ceil(t.width),a=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===i&&this._depthFBO.height===a||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){var o=n.gl,s=n.createFramebuffer(i,a,!0);n.activeTexture.set(o.TEXTURE0);var l=new e.Texture(n,{width:i,height:a,data:null},o.RGBA);l.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.colorAttachment.set(l.texture);var u=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,i,a);s.depthAttachment.set(u),this._depthFBO=s,this._depthTexture=l}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,i,a]),function(t,n,r,i){if("globe"!==t.transform.projection.name){var a=t.context,o=a.gl;a.clear({depth:1});var s,l=t.useProgram("terrainDepth"),u=new e.DepthMode(o.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D),c=h(i);try{for(c.s();!(s=c.n()).done;){var f=s.value,d=r.getTile(f),p=Dn(f.projMatrix,0);n.setupElevationDraw(d,l),l.draw(a,o.TRIANGLES,u,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,p,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}catch(m){c.e(m)}finally{c.f()}}}(t,this,r,this.proxyCoords)}},{key:"_setupProxiedCoordsForOrtho",value:function(e,t,n){if(e.getSource()instanceof Ve)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};for(var r=this.proxiedCoords[e.id]=[],i=this.proxyCoords,a=0;a<i.length;a++){var o=i[a],s=this._findTileCoveringTileID(o,e);if(s){var l=this._createProxiedId(o,s,n[o.key]&&n[o.key][e.id]);r.push(l),this.proxyToSource[o.key][e.id]=[l]}}for(var u=!1,c=0;c<t.length;c++){var f=e.getTile(t[c]);if(f&&f.hasData()){var h=this._findTileCoveringTileID(f.tileID,this.proxySourceCache);if(h&&h.tileID.canonical.z!==f.tileID.canonical.z){var d=this.proxyToSource[h.tileID.key][e.id],p=this._createProxiedId(h.tileID,f,n[h.tileID.key]&&n[h.tileID.key][e.id]);d?d.splice(d.length-1,0,p):this.proxyToSource[h.tileID.key][e.id]=[p],r.push(p),u=!0}}}this._sourceTilesOverlap[e.id]=u}},{key:"_setupProxiedCoordsForImageSource",value:function(t,n,r){if(t.getSource().loaded())for(var i=this.proxiedCoords[t.id]=[],a=this.proxyCoords,o=t.getSource(),s=new e.pointGeometry(o.tileID.x,o.tileID.y)._div(1<<o.tileID.z),l=o.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((function(e,t){return e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e}),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),u=function(t,n){var r=t.wrap+t.canonical.x/(1<<t.canonical.z),i=t.canonical.y/(1<<t.canonical.z),a=e.EXTENT/(1<<t.canonical.z),o=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return r+a<o+l.min.x||r>o+l.max.x||i+a<s+l.min.y||i>s+l.max.y},c=0;c<a.length;c++)for(var f=a[c],h=0;h<n.length;h++){var d=t.getTile(n[h]);if(d&&d.hasData()&&!u(f,d.tileID)){var p=this._createProxiedId(f,d,r[f.key]&&r[f.key][t.id]),m=this.proxyToSource[f.key][t.id];m?m.push(p):this.proxyToSource[f.key][t.id]=[p],i.push(p)}}}},{key:"_createProxiedId",value:function(t,n,r){var i=this.orthoMatrix;if(r){var a=r.find((function(e){return e.key===n.tileID.key}));if(a)return a}if(n.tileID.key!==t.key){var o,s,l,u=t.canonical.z-n.tileID.canonical.z;i=e.create();var c=n.tileID.wrap-t.wrap<<t.overscaledZ;u>0?(s=(o=e.EXTENT>>u)*((n.tileID.canonical.x<<u)-t.canonical.x+c),l=o*((n.tileID.canonical.y<<u)-t.canonical.y)):(o=e.EXTENT<<-u,s=e.EXTENT*(n.tileID.canonical.x-(t.canonical.x+c<<-u)),l=e.EXTENT*(n.tileID.canonical.y-(t.canonical.y<<-u))),e.ortho(i,0,o,0,o,0,1),e.translate(i,i,[s,l,0])}return new qn(n.tileID,t.key,i)}},{key:"_findTileCoveringTileID",value:function(t,n){var r=n.getTile(t);if(r&&r.hasData())return r;var i=this._findCoveringTileCache[n.id],a=i[t.key];if((r=a?n.getTileByID(a):null)&&r.hasData()||null===a)return r;var o=r?r.tileID:t,s=o.overscaledZ,l=n.getSource().minzoom,u=[];if(!a){var c=n.getSource().maxzoom;if(t.canonical.z>=c){var f=t.canonical.z-c;n.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,n.transform.tileZoom),o=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>f,t.canonical.y>>f)):0!==f&&(s=c,o=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>f,t.canonical.y>>f))}o.key!==t.key&&(u.push(o.key),r=n.getTile(o))}var h=function(e){u.forEach((function(t){i[t]=e})),u.length=0};for(s-=1;s>=l&&(!r||!r.hasData());s--){r&&h(r.tileID.key);var d=o.calculateScaledKey(s);if((r=n.getTileByID(d))&&r.hasData())break;var p=i[d];if(null===p)break;void 0===p?u.push(d):r=n.getTileByID(p)}return h(r?r.tileID.key:null),r&&r.hasData()?r:null}},{key:"findDEMTileFor",value:function(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}},{key:"prepareDrawTile",value:function(){this.renderedToTile=!0}},{key:"_clearRenderCacheForTile",value:function(e,t){var n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}},{key:"getWirefameBuffer",value:function(){if(!this.wireframeSegments){var t=function(t){for(var n=0,r=new e.StructArrayLayout2ui4,i=131,a=1;a<129;a++){for(var o=1;o<129;o++)n=a*i+o,r.emplaceBack(n,n+1),r.emplaceBack(n,n+i),r.emplaceBack(n+1,n+i),128===a&&r.emplaceBack(n+i,n+i+1);r.emplaceBack(n+1,n+1+i)}return r}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}]),r}(e.Elevation),Hn=function(){function t(n,r,i,a,o,s){d(this,t);var l=n.gl;this.program=l.createProgram();var u=function(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}(i.staticAttributes),c=a?a.getBinderAttributes():[],f=u.concat(c),h=a?a.defines():[];h=h.concat(s.map((function(e){return"#define ".concat(e)})));var p=h.concat(n.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(En):En,En,Cn,kn.fragmentSource,bn.fragmentSource,i.fragmentSource).join("\n"),m=h.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",Cn,kn.vertexSource,bn.vertexSource,xn.vertexSource,i.vertexSource).join("\n"),v=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(v,p),l.compileShader(v),l.attachShader(this.program,v);var y=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(y,m),l.compileShader(y),l.attachShader(this.program,y),this.attributes={},this.numAttributes=f.length;for(var g=0;g<this.numAttributes;g++)f[g]&&(l.bindAttribLocation(this.program,g,f[g]),this.attributes[f[g]]=g);l.linkProgram(this.program),l.deleteShader(y),l.deleteShader(v),this.fixedUniforms=o(n),this.binderUniforms=a?a.getUniforms(n):[],s.includes("TERRAIN")&&(this.terrainUniforms=function(t){return{u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}}(n)),s.includes("GLOBE")&&(this.globeUniforms=function(t){return{u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}}(n)),s.includes("FOG")&&(this.fogUniforms=function(t){return{u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}}(n))}}}return p(t,[{key:"setTerrainUniformValues",value:function(e,t){if(this.terrainUniforms){var n=this.terrainUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r]&&n[r].set(this.program,r,t[r])}}},{key:"setGlobeUniformValues",value:function(e,t){if(this.globeUniforms){var n=this.globeUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r]&&n[r].set(this.program,r,t[r])}}},{key:"setFogUniformValues",value:function(e,t){if(this.fogUniforms){var n=this.fogUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r].set(this.program,r,t[r])}}},{key:"draw",value:function(e,t,n,i,a,o,s,l,u,c,f,d,p,m,v){var y,g=e.gl;if(!this.failedToCreate){e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(a),e.setCullFace(o);for(var _=0,x=Object.keys(this.fixedUniforms);_<x.length;_++){var b=x[_];this.fixedUniforms[b].set(this.program,b,s[b])}m&&m.setUniforms(this.program,e,this.binderUniforms,d,{zoom:p});var w,k=(y={},r(y,g.LINES,2),r(y,g.TRIANGLES,3),r(y,g.LINE_STRIP,1),y)[t],C=h(f.get());try{for(C.s();!(w=C.n()).done;){var E=w.value,S=E.vaos||(E.vaos={});(S[l]||(S[l]=new Mn)).bind(e,this,u,m?m.getPaintVertexBuffers():[],c,E.vertexOffset,v||[]),g.drawElements(t,E.primitiveLength*k,g.UNSIGNED_SHORT,E.primitiveOffset*k*2)}}catch(T){C.e(T)}finally{C.f()}}}}],[{key:"cacheKey",value:function(e,t,n,r){var i,a="".concat(t).concat(r?r.cacheKey:""),o=h(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.usedDefines.includes(s)&&(a+="/".concat(s))}}catch(l){o.e(l)}finally{o.f()}return a}}]),t}();function Xn(e,t,n){var r=1/W(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,o=a*(n.tileID.canonical.x+n.tileID.wrap*i),s=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}var Yn=e.create(),Kn=function(t,n,r,i,a,o,s,l,u,c,f){var h=n.style.light,d=h.properties.get("position"),p=[d.x,d.y,d.z],m=e.create$1();"viewport"===h.properties.get("anchor")&&(e.fromRotation(m,-n.transform.angle),e.transformMat3(p,p,m));var v=h.properties.get("color"),y=n.transform,g={u_matrix:t,u_lightpos:p,u_lightintensity:h.properties.get("intensity"),u_lightcolor:[v.r,v.g,v.b],u_vertical_gradient:+r,u_opacity:i,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Yn,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:a,u_edge_radius:o};return"globe"===y.projection.name&&(g.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],g.u_zoom_transition=u,g.u_inv_rot_matrix=f,g.u_merc_center=c,g.u_up_dir=y.projection.upVector(new e.CanonicalTileID(0,0,0),c[0]*e.EXTENT,c[1]*e.EXTENT),g.u_height_lift=l),g},Qn=function(t,n,r,i,a,o,s,l,u,c,f,h,d){var p=Kn(t,n,r,i,a,o,s,c,f,h,d),m={u_height_factor:-Math.pow(2,s.overscaledZ)/u.tileSize/8};return e.extend(p,Xn(l,n,u),m)},Jn=function(e){return{u_matrix:e}},$n=function(t,n,r,i){return e.extend(Jn(t),Xn(r,n,i))},er=function(e,t){return{u_matrix:e,u_world:t}},tr=function(t,n,r,i,a){return e.extend($n(t,n,r,i),{u_world:a})},nr=e.create(),rr=function(t,n,r,i,a,o){var s,l=t.transform,u="globe"===l.projection.name;if("map"===o.paint.get("circle-pitch-alignment"))if(u){var c=e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel;s=Float32Array.from([c,0,0,c])}else s=l.calculatePixelsToTileUnitsMatrix(r);else s=new Float32Array([l.pixelsToGLUnits[0],0,0,l.pixelsToGLUnits[1]]);var f={u_camera_to_center_distance:l.cameraToCenterDistance,u_matrix:t.translatePosMatrix(n.projMatrix,r,o.paint.get("circle-translate"),o.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:s,u_inv_rot_matrix:nr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(u){f.u_inv_rot_matrix=i,f.u_merc_center=a,f.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],f.u_zoom_transition=e.globeToMercatorTransition(l.zoom);var h=a[0]*e.EXTENT,d=a[1]*e.EXTENT;f.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),h,d)}return f},ir=function(e){var t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},ar=function(t,n,r,i){var a=e.EXTENT/r.tileSize;return{u_matrix:t,u_camera_to_center_distance:n.getCameraToCenterDistance(i),u_extrude_scale:[n.pixelsToGLUnits[0]/a,n.pixelsToGLUnits[1]/a]}},or=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},sr=e.create(),lr=function(t,n,r,i,a,o,s){var l=t.transform,u="globe"===l.projection.name,c=u?e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel:W(r,1,o),f={u_matrix:n.projMatrix,u_extrude_scale:c,u_intensity:s,u_inv_rot_matrix:sr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(u){f.u_inv_rot_matrix=i,f.u_merc_center=a,f.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],f.u_zoom_transition=e.globeToMercatorTransition(l.zoom);var h=a[0]*e.EXTENT,d=a[1]*e.EXTENT;f.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),h,d)}return f},ur=function(e,t,n,r,i,a,o,s){var l=e.transform,u=l.calculatePixelsToTileUnitsMatrix(t),c={u_matrix:hr(e,t,n,i),u_pixels_to_tile_units:u,u_device_pixel_ratio:o,u_units_to_pixels:[1/l.pixelsToGLUnits[0],1/l.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:a,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:s};if(dr(n)){var f=fr(t,e.transform);c.u_texsize=t.lineAtlasTexture.size,c.u_scale=[f,r.fromScale,r.toScale],c.u_mix=r.t}return c},cr=function(e,t,n,r,i,a){var o=e.transform,s=fr(t,o);return{u_matrix:hr(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:a,u_image:0,u_scale:[s,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function fr(e,t){return 1/W(e,1,t.tileZoom)}function hr(e,t,n,r){return e.translatePosMatrix(r||t.tileID.projMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function dr(e){var t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}var pr=function(e,t,n,r,i,a){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(s=i.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:mr(i.paint.get("raster-hue-rotate")),u_perspective_transform:a};var o,s};function mr(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var vr,yr=e.create(),gr=function(t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v){var y=a.transform,g={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:y.cameraToCenterDistance,u_rotate_symbol:+r,u_aspect_ratio:y.width/y.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+u,u_pitch_with_map:+i,u_texsize:c,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:yr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:yr,u_up_vector:[0,-1,0]};return"globe"===v.name&&(g.u_tile_id=[f.canonical.x,f.canonical.y,1<<f.canonical.z],g.u_zoom_transition=h,g.u_inv_rot_matrix=p,g.u_merc_center=d,g.u_camera_forward=y._camera.forward(),g.u_ecef_origin=e.globeECEFOrigin(y.globeMatrix,f.toUnwrapped()),g.u_tile_matrix=Float32Array.from(y.globeMatrix),g.u_up_vector=m),g},_r=function(t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v,y){return e.extend(gr(t,n,r,i,a,o,s,l,u,c,h,d,p,m,v,y),{u_gamma_scale:i?a.transform.cameraToCenterDistance*Math.cos(a.terrain?0:a.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+f})},xr=function(t,n,r,i,a,o,s,l,u,c,f,h,d,p,m,v){return e.extend(_r(t,n,r,i,a,o,s,l,!0,u,!0,f,h,d,p,m,v),{u_texsize_icon:c,u_texture_icon:1})},br=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},wr=function(t,n,r,i,a,o){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),a=n.imageManager.getPattern(e.to.toString()),o=n.imageManager.getPixelSize(),s=o.width,l=o.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,f=c*(r.tileID.canonical.x+r.tileID.wrap*u),h=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/W(r,1,n.transform.tileZoom),u_pixel_coord_upper:[f>>16,h>>16],u_pixel_coord_lower:[65535&f,65535&h]}}(i,o,r,a),{u_matrix:t,u_opacity:n})},kr={fillExtrusion:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}},fillExtrusionPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}},fill:function(t){return{u_matrix:new e.UniformMatrix4f(t)}},fillPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}},fillOutline:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}},fillOutlinePattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}},circle:function(t){return{u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}},collisionBox:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}},collisionCircle:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}},debug:function(t){return{u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}},clippingMask:function(t){return{u_matrix:new e.UniformMatrix4f(t)}},heatmap:function(t){return{u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}},heatmapTexture:function(t){return{u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}},hillshade:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}},hillshadePrepare:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}},line:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_mix:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}},linePattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}},raster:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}},symbolIcon:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}},symbolSDF:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}},symbolTextAndIcon:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}},background:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}},backgroundPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl_a:new e.Uniform2f(t),u_pattern_br_a:new e.Uniform2f(t),u_pattern_tl_b:new e.Uniform2f(t),u_pattern_br_b:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_mix:new e.Uniform1f(t),u_pattern_size_a:new e.Uniform2f(t),u_pattern_size_b:new e.Uniform2f(t),u_scale_a:new e.Uniform1f(t),u_scale_b:new e.Uniform1f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}},terrainRaster:On,terrainDepth:On,skybox:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}},skyboxGradient:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}},skyboxCapture:function(t){return{u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}},globeRaster:function(t){return{u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}},globeAtmosphere:function(t){return{u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)}}};function Cr(t,n,r,i,a,o,s){for(var l=t.context,u=l.gl,c=t.transform,f=t.useProgram("collisionBox"),h=[],d=0,p=0,m=0;m<i.length;m++){var v=i[m],y=n.getTile(v),g=y.getBucket(r);if(g){var _=Ot(v,g,c),x=_;0===a[0]&&0===a[1]||(x=t.translatePosMatrix(_,y,a,o));var b=s?g.textCollisionBox:g.iconCollisionBox,w=g.collisionCircleArray;if(w.length>0){var k=e.create(),C=x;e.mul(k,g.placementInvProjMatrix,c.glCoordMatrix),e.mul(k,k,g.placementViewportMatrix),h.push({circleArray:w,circleOffset:p,transform:C,invTransform:k,projection:g.getProjection()}),p=d+=w.length/4}b&&(t.terrain&&t.terrain.setupElevationDraw(y,f),f.draw(l,u.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,ar(x,c,y,g.getProjection()),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,c.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}}if(s&&h.length){var E=t.useProgram("collisionCircle"),S=new e.StructArrayLayout2f1f2i16;S.resize(4*d),S._trim();for(var T=0,A=0,M=h;A<M.length;A++)for(var I=M[A],P=0;P<I.circleArray.length/4;P++){var L=4*P,z=I.circleArray[L+0],O=I.circleArray[L+1],D=I.circleArray[L+2],R=I.circleArray[L+3];S.emplace(T++,z,O,D,R,0),S.emplace(T++,z,O,D,R,1),S.emplace(T++,z,O,D,R,2),S.emplace(T++,z,O,D,R,3)}(!vr||vr.length<2*d)&&(vr=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var a=6*i;r.uint16[a+0]=4*i+0,r.uint16[a+1]=4*i+1,r.uint16[a+2]=4*i+2,r.uint16[a+3]=4*i+2,r.uint16[a+4]=4*i+3,r.uint16[a+5]=4*i+0}return r}(d));for(var F,B=l.createIndexBuffer(vr,!0),j=l.createVertexBuffer(S,e.collisionCircleLayout.members,!0),U=0,Z=h;U<Z.length;U++){var N=Z[U],V={u_matrix:N.transform,u_inv_matrix:N.invTransform,u_camera_to_center_distance:(F=c).getCameraToCenterDistance(N.projection),u_viewport_size:[F.width,F.height]};E.draw(l,u.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,V,r.id,j,B,e.SegmentVector.simpleSegment(0,2*N.circleOffset,N.circleArray.length,N.circleArray.length/2),null,c.zoom)}j.destroy(),B.destroy()}}var Er=e.create();function Sr(t,n,r,i,a,o){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.pointGeometry((l/a+c[0])*o,(u/a+c[1])*o)}function Tr(t,n,r,i,a,o,s,l,u,c,f){var h=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,m={},v=Dt(l,t.getProjection(),o),y=o.elevation,g=t.getProjection().upVectorScale(l.canonical,o.center.lat,o.worldSize);d.clear();for(var _=0;_<h.length;_++){var x=h.get(_),b=t.allowVerticalPlacement&&!x.placedOrientation,w=x.hidden||!x.crossTileID||b?null:i[x.crossTileID];if(w){var k=new e.pointGeometry(x.tileAnchorX,x.tileAnchorY),C=t.getProjection().upVector(l.canonical,k.x,k.y),E=y?y.getAtTileOffset(l,k.x,k.y):0,S=gt([x.projectedAnchorX+E*C[0]*g.metersToTile,x.projectedAnchorY+E*C[1]*g.metersToTile,x.projectedAnchorZ+E*C[2]*g.metersToTile],r?v:s),T=_t(o.getCameraToCenterDistance(t.getProjection()),S.signedDistanceFromCamera),A=a.evaluateSizeForFeature(t.textSizeData,c,x)*T/e.ONE_EM;r&&(A*=t.tilePixelRatio/u);var M=w.width,I=w.height,P=Sr(w.anchor,M,I,w.textOffset,w.textScale,A),L=void 0;if(r){var z=k.add(P),O=t.getProjection().projectTilePoint(z.x,z.y,l.canonical),D=O.x,R=O.y,F=O.z;L=gt([D+E*C[0]*g.metersToTile,R+E*C[1]*g.metersToTile,F+E*C[2]*g.metersToTile],s).point}else{var B=n?P.rotate(-o.angle):P;L=[S.point[0]+B.x,S.point[1]+B.y,0]}for(var j=t.allowVerticalPlacement&&x.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,U=0;U<x.numGlyphs;U++)e.addDynamicAttributes(d,L[0],L[1],L[2],j);f&&x.associatedIconIndex>=0&&(m[x.associatedIconIndex]={shiftedAnchor:L,angle:j})}else Mt(x.numGlyphs,d)}if(f){p.clear();for(var Z=t.icon.placedSymbolArray,N=0;N<Z.length;N++){var V=Z.get(N);if(V.hidden)Mt(V.numGlyphs,p);else{var G=m[N];if(G)for(var q=0;q<V.numGlyphs;q++)e.addDynamicAttributes(p,G.shiftedAnchor[0],G.shiftedAnchor[1],G.shiftedAnchor[2],G.angle);else Mt(V.numGlyphs,p)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(d)}function Ar(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Mr(t,n,r,i,a,o,s,l,u,c,f,d){var p=t.context,m=p.gl,v=t.transform,y="map"===l,g="map"===u,_=y&&"point"!==r.layout.get("symbol-placement"),x=y&&!g&&!_,b=void 0!==r.layout.get("symbol-sort-key").constantOr(1),w=!1,k=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),C=[e.mercatorXfromLng(v.center.lng),e.mercatorYfromLat(v.center.lat)],E=r.layout.get("text-variable-anchor"),S="globe"===v.projection.name,T=[],A=[0,-1,0],M=A;!S&&!v.mercatorFromTransition||y||(M=function(t){var n=t._camera.getWorldToCamera(t.worldSize,1),r=e.multiply([],n,t.globeMatrix);e.invert(r,r);var i=[0,0,0],a=[0,1,0,0];return e.transformMat4$1(a,a,r),i[0]=a[0],i[1]=a[1],i[2]=a[2],e.normalize(i,i),i}(v));var I,P=h(i);try{for(P.s();!(I=P.n()).done;){var L=I.value,z=n.getTile(L),O=z.getBucket(r);if(O&&("mercator"!==O.projection.name||!S)){var D=a?O.text:O.icon;if(D&&!O.fullyClipped&&D.segments.get().length){var R=D.programConfigurations.get(r.id),F=a||O.sdfIcons,B=a?O.textSizeData:O.iconSizeData,j=g||0!==v.pitch,U=e.evaluateSizeForZoom(B,v.zoom),Z=void 0,N=void 0,V=void 0,G=void 0,q=[0,0],W=null;if(a){if(N=z.glyphAtlasTexture,V=m.LINEAR,Z=z.glyphAtlasTexture.size,O.iconsInText){q=z.imageAtlasTexture.size,W=z.imageAtlasTexture;var H="composite"===B.kind||"camera"===B.kind;G=j||t.options.rotating||t.options.zooming||H?m.LINEAR:m.NEAREST}}else{var X=1!==r.layout.get("icon-size").constantOr(0)||O.iconsNeedLinear;N=z.imageAtlasTexture,V=F||t.options.rotating||t.options.zooming||X||j?m.LINEAR:m.NEAREST,Z=z.imageAtlasTexture.size}var Y="globe"===O.projection.name,K=Y?M:A,Q=Y?e.globeToMercatorTransition(v.zoom):0,J=Dt(L,O.getProjection(),v),$=v.calculatePixelsToTileUnitsMatrix(z),ee=pt(J,z.tileID.canonical,g,y,v,O.getProjection(),$),te=t.terrain&&g&&_?e.invert(e.create(),ee):Er,ne=vt(J,z.tileID.canonical,g,y,v,O.getProjection(),$),re=E&&O.hasTextData(),ie="none"!==r.layout.get("icon-text-fit")&&re&&O.hasIconData();if(_){var ae=v.elevation,oe=ae?ae.getAtTileOffsetFunc(L,v.center.lat,v.worldSize,O.getProjection()):function(e){return[0,0,0]},se=mt(J,z.tileID.canonical,g,y,v,O.getProjection(),$);bt(O,J,t,a,se,ne,g,c,oe,L)}var le=_||a&&E||ie,ue=t.translatePosMatrix(J,z,o,s),ce=le?Er:ee,fe=t.translatePosMatrix(ne,z,o,s,!0),he=O.getProjection().createInversionMatrix(v,L.canonical),de=[];t.terrainRenderModeElevated()&&g&&de.push("PITCH_WITH_MAP_TERRAIN"),Y&&de.push("PROJECTION_GLOBE_VIEW"),le&&de.push("PROJECTED_POS_ON_VIEWPORT");var pe=F&&0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),me=void 0;me=F?O.iconsInText?xr(B.kind,U,x,g,t,ue,ce,fe,Z,q,L,Q,C,he,K,O.getProjection()):_r(B.kind,U,x,g,t,ue,ce,fe,a,Z,!0,L,Q,C,he,K,O.getProjection()):gr(B.kind,U,x,g,t,ue,ce,fe,a,Z,L,Q,C,he,K,O.getProjection());var ve={program:t.useProgram(Ar(F,a,O),R,de),buffers:D,uniformValues:me,atlasTexture:N,atlasTextureIcon:W,atlasInterpolation:V,atlasInterpolationIcon:G,isSDF:F,hasHalo:pe,tile:z,labelPlaneMatrixInv:te};if(b&&O.canOverlap){w=!0;var ye,ge=D.segments.get(),_e=h(ge);try{for(_e.s();!(ye=_e.n()).done;){var xe=ye.value;T.push({segments:new e.SegmentVector([xe]),sortKey:xe.sortKey,state:ve})}}catch(Se){_e.e(Se)}finally{_e.f()}}else T.push({segments:D.segments,sortKey:0,state:ve})}}}}catch(Se){P.e(Se)}finally{P.f()}w&&T.sort((function(e,t){return e.sortKey-t.sortKey}));for(var be=0,we=T;be<we.length;be++){var ke=we[be],Ce=ke.state;if(t.terrain&&t.terrain.setupElevationDraw(Ce.tile,Ce.program,{useDepthForOcclusion:!S,labelPlaneMatrixInv:Ce.labelPlaneMatrixInv}),p.activeTexture.set(m.TEXTURE0),Ce.atlasTexture.bind(Ce.atlasInterpolation,m.CLAMP_TO_EDGE),Ce.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),Ce.atlasTextureIcon&&Ce.atlasTextureIcon.bind(Ce.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),Ce.isSDF){var Ee=Ce.uniformValues;Ce.hasHalo&&(Ee.u_is_halo=1,Ir(Ce.buffers,ke.segments,r,t,Ce.program,k,f,d,Ee)),Ee.u_is_halo=0}Ir(Ce.buffers,ke.segments,r,t,Ce.program,k,f,d,Ce.uniformValues)}}function Ir(t,n,r,i,a,o,s,l,u){var c=i.context,f=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];a.draw(c,c.gl.TRIANGLES,o,s,l,e.CullFaceMode.disabled,u,r.id,t.layoutVertexBuffer,t.indexBuffer,n,r.paint,i.transform.zoom,t.programConfigurations.get(r.id),f)}function Pr(t,n,r,i,a,o,s){var l,u,c,f,d,p=t.context.gl,m=r.paint.get("fill-pattern"),v=m&&m.constantOr(1),y=r.getCrossfadeParameters();s?(u=v&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",l=p.LINES):(u=v?"fillPattern":"fill",l=p.TRIANGLES);var g,_=h(i);try{for(_.s();!(g=_.n()).done;){var x=g.value,b=n.getTile(x);if(!v||b.patternsLoaded()){var w=b.getBucket(r);if(w){t.prepareDrawTile();var k=w.programConfigurations.get(r.id),C=t.useProgram(u,k);v&&(t.context.activeTexture.set(p.TEXTURE0),b.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),k.updatePaintBuffers(y));var E=m.constantOr(null);if(E&&b.imageAtlas){var S=b.imageAtlas,T=S.patternPositions[E.to.toString()],A=S.patternPositions[E.from.toString()];T&&A&&k.setConstantPatternPositions(T,A)}var M=t.translatePosMatrix(x.projMatrix,b,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(s){f=w.indexBuffer2,d=w.segments2;var I=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===u&&v?tr(M,t,y,b,I):er(M,I)}else f=w.indexBuffer,d=w.segments,c=v?$n(M,t,y,b):Jn(M);t.prepareDrawProgram(t.context,C,x.toUnwrapped()),C.draw(t.context,l,a,t.stencilModeForClipping(x),o,e.CullFaceMode.disabled,c,r.id,w.layoutVertexBuffer,f,d,r.paint,t.transform.zoom,k)}}}}catch(P){_.e(P)}finally{_.f()}}function Lr(t,n,r,i,a,o,s){var l=t.context,u=l.gl,c=t.transform,f=r.paint.get("fill-extrusion-pattern"),d=f.constantOr(1),p=r.getCrossfadeParameters(),m=r.paint.get("fill-extrusion-opacity"),v=[r.paint.get("fill-extrusion-ambient-occlusion-intensity"),r.paint.get("fill-extrusion-ambient-occlusion-radius")],y=r.layout.get("fill-extrusion-edge-radius"),g="globe"===c.projection.name?e.fillExtrusionHeightLift():0,_="globe"===c.projection.name,x=_?e.globeToMercatorTransition(c.zoom):0,b=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)],w=[];_&&(w.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&w.push("TERRAIN")),v[0]>0&&w.push("FAUX_AO");var k,C=h(i);try{for(C.s();!(k=C.n()).done;){var E=k.value,S=n.getTile(E),T=S.getBucket(r);if(T&&T.projection.name===c.projection.name){var A=T.programConfigurations.get(r.id),M=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",A,w);if(t.terrain){var I=t.terrain;if(t.style.terrainSetForDrapingOnly())I.setupElevationDraw(S,M,{useMeterToDem:!0});else{if(!T.enableTerrain)continue;if(I.setupElevationDraw(S,M,{useMeterToDem:!0}),zr(l,n,E,T,r,I),!T.centroidVertexBuffer){var P=M.attributes.a_centroid_pos;void 0!==P&&u.vertexAttrib2f(P,0,0)}}}d&&(t.context.activeTexture.set(u.TEXTURE0),S.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),A.updatePaintBuffers(p));var L=f.constantOr(null);if(L&&S.imageAtlas){var z=S.imageAtlas,O=z.patternPositions[L.to.toString()],D=z.patternPositions[L.from.toString()];O&&D&&A.setConstantPatternPositions(O,D)}var R=t.translatePosMatrix(E.projMatrix,S,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),F=c.projection.createInversionMatrix(c,E.canonical),B=r.paint.get("fill-extrusion-vertical-gradient"),j=d?Qn(R,t,B,m,v,y,E,p,S,g,x,b,F):Kn(R,t,B,m,v,y,E,g,x,b,F);t.prepareDrawProgram(l,M,E.toUnwrapped());var U=[];t.terrain&&U.push(T.centroidVertexBuffer),_&&U.push(T.layoutVertexExtBuffer),M.draw(l,l.gl.TRIANGLES,a,o,s,e.CullFaceMode.backCCW,j,r.id,T.layoutVertexBuffer,T.indexBuffer,T.segments,r.paint,t.transform.zoom,A,U)}}}catch(Z){C.e(Z)}finally{C.f()}}function zr(t,n,r,i,a,o){for(var s,l,u,c=[function(t){var n=t.canonical.x-1,r=t.wrap;return n<0&&(n=(1<<t.canonical.z)-1,r--),new e.OverscaledTileID(t.overscaledZ,r,t.canonical.z,n,t.canonical.y)},function(t){var n=t.canonical.x+1,r=t.wrap;return n===1<<t.canonical.z&&(n=0,r++),new e.OverscaledTileID(t.overscaledZ,r,t.canonical.z,n,t.canonical.y)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)}],f=function(e){for(var t=n.getSource().minzoom,r=function(e){var t=n.getTileByID(e);if(t&&t.hasData())return t.getBucket(a)},i=0,o=[0,-1,1];i<o.length;i++){var s=o[i];if(!(e.overscaledZ+s<t)){var l=r(e.calculateScaledKey(e.overscaledZ+s));if(l)return l}}},d=[0,0,0],p=function(t,n){return d[0]=Math.min(t.min.y,n.min.y),d[1]=Math.max(t.max.y,n.max.y),d[2]=e.EXTENT-n.min.x>t.max.x?n.min.x-e.EXTENT:t.max.x,d},m=function(t,n){return d[0]=Math.min(t.min.x,n.min.x),d[1]=Math.max(t.max.x,n.max.x),d[2]=e.EXTENT-n.min.y>t.max.y?n.min.y-e.EXTENT:t.max.y,d},v=[function(e,t){return p(e,t)},function(e,t){return p(t,e)},function(e,t){return m(e,t)},function(e,t){return m(t,e)}],y=new e.pointGeometry(0,0),g=function(t,n,i,a,c){var f=[[a?i:t,a?t:i,0],[a?i:n,a?n:i,0]],h=c<0?e.EXTENT+c:c,d=[a?h:(t+n)/2,a?(t+n)/2:h,0];return 0===i&&c<0||0!==i&&c>0?o.getForTilePoints(u,[d],!0,l):f.push(d),o.getForTilePoints(r,f,!0,s),Math.max(f[0][2],f[1][2],d[2])/o.exaggeration()},_=0;_<4;_++){var x=(_<2?1:5)-_,b=i.borders[_];if(0!==b.length){var w=u=c[_](r),k=f(w);if(k&&k instanceof e.FillExtrusionBucket&&k.enableTerrain&&(i.borderDoneWithNeighborZ[_]!==k.canonical.z||k.borderDoneWithNeighborZ[x]!==i.canonical.z)&&(l=o.findDEMTileFor(w))&&l.dem){if(!s){var C=o.findDEMTileFor(r);if(!C||!C.dem)return;s=C}var E=k.borders[x],S=0,T=k.borderDoneWithNeighborZ[x]!==i.canonical.z;if(i.canonical.z===k.canonical.z){for(var A=0;A<b.length;A++){for(var M=i.featuresOnBorder[b[A]],I=M.borders[_],P=void 0;S<E.length&&!((P=k.featuresOnBorder[E[S]]).borders[x][1]>I[0]+3);)T&&k.encodeCentroid(void 0,P,!1),S++;if(P&&S<E.length){for(var L=S,z=0;!(P.borders[x][0]>I[1]-3)&&(z++,++S!==E.length);)P=k.featuresOnBorder[E[S]];if(P=k.featuresOnBorder[E[L]],M.intersectsCount()>1||P.intersectsCount()>1||1!==z){1!==z&&(S=L),i.encodeCentroid(void 0,M,!1),T&&k.encodeCentroid(void 0,P,!1);continue}var O=v[_](M,P),D=_%2?e.EXTENT-1:0;y.x=g(O[0],Math.min(e.EXTENT-1,O[1]),D,_<2,O[2]),y.y=0,i.encodeCentroid(y,M,!1),T&&k.encodeCentroid(y,P,!1)}else i.encodeCentroid(void 0,M,!1)}i.borderDoneWithNeighborZ[_]=k.canonical.z,i.needsCentroidUpdate=!0,T&&(k.borderDoneWithNeighborZ[x]=i.canonical.z,k.needsCentroidUpdate=!0)}else{var R,F=h(b);try{for(F.s();!(R=F.n()).done;){var B=R.value;i.encodeCentroid(void 0,i.featuresOnBorder[B],!1)}}catch(N){F.e(N)}finally{F.f()}if(T){var j,U=h(E);try{for(U.s();!(j=U.n()).done;){var Z=j.value;k.encodeCentroid(void 0,k.featuresOnBorder[Z],!1)}}catch(N){U.e(N)}finally{U.f()}k.borderDoneWithNeighborZ[x]=i.canonical.z,k.needsCentroidUpdate=!0}i.borderDoneWithNeighborZ[_]=k.canonical.z,i.needsCentroidUpdate=!0}}}}(i.needsCentroidUpdate||!i.centroidVertexBuffer&&0!==i.centroidVertexArray.length)&&i.uploadCentroid(t)}var Or=new e.Color(1,0,0,1),Dr=new e.Color(0,1,0,1),Rr=new e.Color(0,0,1,1),Fr=new e.Color(1,0,1,1),Br=new e.Color(0,1,1,1);function jr(t,n,r){var i=t.context,a=t.transform,o=i.gl,s="globe"===a.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null,u=r.projMatrix;if(s&&e.globeToMercatorTransition(a.zoom)>0){var c=e.transitionTileAABBinECEF(r.canonical,a),f=e.globeDenormalizeECEF(c);u=e.multiply(new Float32Array(16),a.globeMatrix,f),e.multiply(u,a.projMatrix,u)}var h=t.useProgram("debug",null,l),d=n.getTileByID(r.key);t.terrain&&t.terrain.setupElevationDraw(d,h);var p=e.DepthMode.disabled,m=e.StencilMode.disabled,v=t.colorModeForRenderPass(),y="$debug";i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s?d._makeGlobeTileDebugBuffers(t.context,a):d._makeDebugTileBoundsBuffers(t.context,a.projection);var g=d._tileDebugBuffer||t.debugBuffer,_=d._tileDebugIndexBuffer||t.debugIndexBuffer,x=d._tileDebugSegments||t.debugSegments;h.draw(i,o.LINE_STRIP,p,m,v,e.CullFaceMode.disabled,or(u,e.Color.red),y,g,_,x,null,null,null,[d._globeTileDebugBorderBuffer]);var b=d.latestRawTileData,w=Math.floor((b&&b.byteLength||0)/1024),k=n.getTile(r).tileSize,C=512/Math.min(k,512)*(r.overscaledZ/a.zoom)*.5,E=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(E+=" => ".concat(r.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,E+=" ".concat(w,"kb"));var S=d._tileDebugTextBuffer||t.debugBuffer,T=d._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,A=d._tileDebugTextSegments||t.debugSegments;h.draw(i,o.TRIANGLES,p,m,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,or(u,e.Color.transparent,C),y,S,T,A,null,null,null,[d._globeTileDebugTextBuffer])}function Ur(e,t,n,r){Nr(e,0,t+n/2,e.transform.width,n,r)}function Zr(e,t,n,r){Nr(e,t-n/2,0,n,e.transform.height,r)}function Nr(t,n,r,i,a,o){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,a*e.exported.devicePixelRatio),s.clear({color:o}),l.disable(l.SCISSOR_TEST)}var Vr=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]).members;function Gr(e,t,n,r){e.emplaceBack(t,n,r)}var qr=p((function t(n){d(this,t),this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Gr(this.vertexArray,-1,-1,1),Gr(this.vertexArray,1,-1,1),Gr(this.vertexArray,-1,1,1),Gr(this.vertexArray,1,1,1),Gr(this.vertexArray,-1,-1,-1),Gr(this.vertexArray,1,-1,-1),Gr(this.vertexArray,-1,1,-1),Gr(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=n.createVertexBuffer(this.vertexArray,Vr),this.indexBuffer=n.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}));function Wr(t,n,r,i,a,o){var s=t.gl,l=n.paint.get("sky-atmosphere-color"),u=n.paint.get("sky-atmosphere-halo-color"),c=n.paint.get("sky-atmosphere-sun-intensity"),f=function(e,t,n,r,i){return{u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[r.r,r.g,r.b,r.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}}(e.fromMat4(e.create$1(),i),a,c,l,u);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+o,n.skyboxTexture,0),r.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,f,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}var Hr=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),Xr=function(){function t(n){d(this,t);var r=new e.StructArrayLayout5f20;r.emplaceBack(-1,1,1,0,0),r.emplaceBack(1,1,1,1,0),r.emplaceBack(1,-1,1,1,1),r.emplaceBack(-1,-1,1,0,1);var i=new e.StructArrayLayout3ui6;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=n.createVertexBuffer(r,Hr.members),this.indexBuffer=n.createIndexBuffer(i),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}return p(t,[{key:"destroy",value:function(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}]),t}(),Yr={symbol:function(t,n,r,i,a){if("translucent"===t.renderPass){var o=e.StencilMode.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,a,o,s){var l,u=n.transform,c="map"===a,f="map"===o,d=h(t);try{for(d.s();!(l=d.n()).done;){var p=l.value,m=i.getTile(p),v=m.getBucket(r);if(v&&v.text&&v.text.segments.get().length){var y=e.evaluateSizeForZoom(v.textSizeData,u.zoom),g=Dt(p,v.getProjection(),u),_=u.calculatePixelsToTileUnitsMatrix(m),x=pt(g,m.tileID.canonical,f,c,u,v.getProjection(),_),b="none"!==r.layout.get("icon-text-fit")&&v.hasIconData();if(y){var w=Math.pow(2,u.zoom-m.tileID.overscaledZ);Tr(v,c,f,s,e.symbolSize,u,x,p,w,y,b)}}}}catch(k){d.e(k)}finally{d.f()}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),a),0!==r.paint.get("icon-opacity").constantOr(1)&&Mr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,s),0!==r.paint.get("text-opacity").constantOr(1)&&Mr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(Cr(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Cr(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("circle-opacity"),o=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,f=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,m=t.colorModeForRenderPass(),v="globe"===f.projection.name,y=[e.mercatorXfromLng(f.center.lng),e.mercatorYfromLat(f.center.lat)],g=[],_=0;_<i.length;_++){var x=i[_],b=n.getTile(x),w=b.getBucket(r);if(w&&w.projection.name===f.projection.name){var k=w.programConfigurations.get(r.id),C=ir(r);v&&C.push("PROJECTION_GLOBE_VIEW");var E=t.useProgram("circle",k,C),S=w.layoutVertexBuffer,T=w.globeExtVertexBuffer,A=w.indexBuffer,M=f.projection.createInversionMatrix(f,x.canonical),I={programConfiguration:k,program:E,layoutVertexBuffer:S,globeExtVertexBuffer:T,indexBuffer:A,uniformValues:rr(t,x,b,M,y,r),tile:b};if(l){var P,L=w.segments.get(),z=h(L);try{for(z.s();!(P=z.n()).done;){var O=P.value;g.push({segments:new e.SegmentVector([O]),sortKey:O.sortKey,state:I})}}catch(X){z.e(X)}finally{z.f()}}else g.push({segments:w.segments,sortKey:0,state:I})}}l&&g.sort((function(e,t){return e.sortKey-t.sortKey}));for(var D={useDepthForOcclusion:!v},R=0,F=g;R<F.length;R++){var B=F[R],j=B.state,U=j.programConfiguration,Z=j.program,N=j.layoutVertexBuffer,V=j.globeExtVertexBuffer,G=j.indexBuffer,q=j.uniformValues,W=j.tile,H=B.segments;t.terrain&&t.terrain.setupElevationDraw(W,Z,D),t.prepareDrawProgram(u,Z,W.tileID.toUnwrapped()),Z.draw(u,c.TRIANGLES,d,p,m,e.CullFaceMode.disabled,q,r.id,N,G,H,r.paint,f.zoom,U,[V])}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=e.StencilMode.disabled,l=new e.ColorMode([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n,r){var i=e.gl,a=t.width*r,o=t.height*r;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,a,o]);var s=n.heatmapFbo;if(!s||s&&(s.width!==a||s.height!==o)){s&&s.destroy();var l=i.createTexture();i.bindTexture(i.TEXTURE_2D,l),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),s=n.heatmapFbo=e.createFramebuffer(a,o,!1),function(e,t,n,r,i,a){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i,a,0,o.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,0,l,s,a,o)}else i.bindTexture(i.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(a,t,r,"globe"===t.transform.projection.name?.5:.25),a.clear({color:e.Color.transparent});for(var u=t.transform,c="globe"===u.projection.name,f=c?["PROJECTION_GLOBE_VIEW"]:null,h=c?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,d=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],p=0;p<i.length;p++){var m=i[p];if(!n.hasRenderableParent(m)){var v=n.getTile(m),y=v.getBucket(r);if(y&&y.projection.name===u.projection.name){var g=y.programConfigurations.get(r.id),_=t.useProgram("heatmap",g,f),x=t.transform.zoom;t.terrain&&t.terrain.setupElevationDraw(v,_),t.prepareDrawProgram(a,_,m.toUnwrapped());var b=u.projection.createInversionMatrix(u,m.canonical);_.draw(a,o.TRIANGLES,e.DepthMode.disabled,s,l,h,lr(t,m,v,b,d,x,r.paint.get("heatmap-intensity")),r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,r.paint,t.transform.zoom,g,c?[y.globeExtVertexBuffer]:null)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,a=n.heatmapFbo;if(a){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var o=n.colorRampTexture;o||(o=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,function(e,t,n,r){return{u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}}(0,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1)){var s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,c=r.paint.get("line-dasharray"),d=c.constantOr(1),p=r.layout.get("line-cap"),m=r.paint.get("line-pattern"),v=m.constantOr(1),y=r.paint.get("line-gradient"),g=r.getCrossfadeParameters(),_=v?"linePattern":"line",x=t.context,b=x.gl,w=function(e){var t=[];dr(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");var n=e.paint.get("line-trim-offset");0===n[0]&&0===n[1]||t.push("RENDER_LINE_TRIM_OFFSET");var r=e.paint.get("line-pattern").constantOr(1),i=1!==e.paint.get("line-opacity").constantOr(1);return!r&&i&&t.push("RENDER_LINE_ALPHA_DISCARD"),t}(r),k=w.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(k=!1);var C,E=h(i);try{var S=function(){var i=C.value,a=n.getTile(i);if(v&&!a.patternsLoaded())return"continue";var o=a.getBucket(r);if(!o)return"continue";t.prepareDrawTile();var h=o.programConfigurations.get(r.id),E=t.useProgram(_,h,w),S=m.constantOr(null);if(S&&a.imageAtlas){var T=a.imageAtlas,A=T.patternPositions[S.to.toString()],M=T.patternPositions[S.from.toString()];A&&M&&h.setConstantPatternPositions(A,M)}var I=c.constantOr(null),P=p.constantOr(null);if(!v&&I&&P&&a.lineAtlas){var L=a.lineAtlas,z=L.getDash(I.to,P),O=L.getDash(I.from,P);z&&O&&h.setConstantPatternPositions(z,O)}var D=r.paint.get("line-trim-offset"),R=f(D,2),F=R[0],B=R[1];if("round"===P||"square"===P){var j=1;F!==B&&(0===F&&(F-=j),1===B&&(B+=j))}var U=t.terrain?i.projMatrix:null,Z=v?cr(t,a,r,g,U,u):ur(t,a,r,g,U,o.lineClipsArray.length,u,[F,B]);if(y){var N=o.gradients[r.id],V=N.texture;if(r.gradientVersion!==N.version){var G=256;if(r.stepInterpolant){var q=n.getSource().maxzoom,W=i.canonical.z===q?Math.ceil(1<<t.transform.maxZoom-i.canonical.z):1;G=e.clamp(e.nextPowerOfTwo(o.maxLineLength/e.EXTENT*1024*W),256,x.maxTextureSize)}N.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:G,image:N.gradient||void 0,clips:o.lineClipsArray}),N.texture?N.texture.update(N.gradient):N.texture=new e.Texture(x,N.gradient,b.RGBA),N.version=r.gradientVersion,V=N.texture}x.activeTexture.set(b.TEXTURE1),V.bind(r.stepInterpolant?b.NEAREST:b.LINEAR,b.CLAMP_TO_EDGE)}d&&(x.activeTexture.set(b.TEXTURE0),a.lineAtlasTexture.bind(b.LINEAR,b.REPEAT),h.updatePaintBuffers(g)),v&&(x.activeTexture.set(b.TEXTURE0),a.imageAtlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),h.updatePaintBuffers(g)),t.prepareDrawProgram(x,E,i.toUnwrapped());var H=function(n){E.draw(x,b.TRIANGLES,s,n,l,e.CullFaceMode.disabled,Z,r.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,r.paint,t.transform.zoom,h,[o.layoutVertexBuffer2])};if(k){var X=t.stencilModeForClipping(i).ref;0===X&&t.terrain&&x.clear({stencil:0});var Y={func:b.EQUAL,mask:255};Z.u_alpha_discard_threshold=.8,H(new e.StencilMode(Y,X,255,b.KEEP,b.KEEP,b.INVERT)),Z.u_alpha_discard_threshold=0,H(new e.StencilMode(Y,X,255,b.KEEP,b.KEEP,b.KEEP))}else H(t.stencilModeForClipping(i))};for(E.s();!(C=E.n()).done;)S()}catch(T){E.e(T)}finally{E.f()}k&&(t.resetStencilClippingMasks(),t.terrain&&x.clear({stencil:0}))}}},fill:function(t,n,r,i){var a=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);Pr(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var f=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);Pr(t,n,r,i,f,s,!0)}}},"fill-extrusion":function(t,n,r,i){var a=r.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===t.renderPass){var o=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==a||r.paint.get("fill-extrusion-pattern").constantOr(1))Lr(t,n,r,i,o,e.StencilMode.disabled,e.ColorMode.disabled),Lr(t,n,r,i,o,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{var s=t.colorModeForRenderPass();Lr(t,n,r,i,o,e.StencilMode.disabled,s)}}},hillshade:function(t,n,r,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var a,o=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture,c="translucent"!==t.renderPass||u?[{},i]:t.stencilConfigForOverlap(i),d=f(c,2),p=d[0],m=d[1],v=h(m);try{for(v.s();!(a=v.n()).done;){var y=a.value,g=n.getTile(y);if(g.needsHillshadePrepare&&"offscreen"===t.renderPass)zn(t,g,r,s,e.StencilMode.disabled,l);else if("translucent"===t.renderPass){var _=u&&t.terrain?t.terrain.stencilModeForRTTOverlap(y):p[y.overscaledZ];Pn(t,y,g,r,s,_,l)}}}catch(x){v.e(x)}finally{v.f()}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()}},raster:function(t,n,r,i,a,o){if("translucent"===t.renderPass&&0!==r.paint.get("raster-opacity")&&i.length){var s,l=t.context,u=l.gl,c=n.getSource(),d=t.useProgram("raster"),p=t.colorModeForRenderPass(),m=t.terrain&&t.terrain.renderingToTexture,v=c instanceof Ve||m?[{},i]:t.stencilConfigForOverlap(i),y=f(v,2),g=y[0],_=y[1],x=_[_.length-1].overscaledZ,b=!t.options.moving,w=h(_);try{for(w.s();!(s=w.n()).done;){var k=s.value,C=m?e.DepthMode.disabled:t.depthModeForSublayer(k.overscaledZ-x,1===r.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,u.LESS),E=k.toUnwrapped(),S=n.getTile(k);if(!m||S&&S.hasData()){var T=m?k.projMatrix:t.transform.calculateProjMatrix(E,b),A=t.terrain&&m?t.terrain.stencilModeForRTTOverlap(k):g[k.overscaledZ],M=o?0:r.paint.get("raster-fade-duration");S.registerFadeDuration(M);var I=n.findLoadedParent(k,0),P=Nn(S,I,n,t.transform,M),L=void 0,z=void 0;t.terrain&&t.terrain.prepareDrawTile();var O="nearest"===r.paint.get("raster-resampling")?u.NEAREST:u.LINEAR;l.activeTexture.set(u.TEXTURE0),S.texture.bind(O,u.CLAMP_TO_EDGE),l.activeTexture.set(u.TEXTURE1),I?(I.texture.bind(O,u.CLAMP_TO_EDGE),L=Math.pow(2,I.tileID.overscaledZ-S.tileID.overscaledZ),z=[S.tileID.canonical.x*L%1,S.tileID.canonical.y*L%1]):S.texture.bind(O,u.CLAMP_TO_EDGE);var D=pr(T,z||[0,0],L||1,P,r,c instanceof Ve?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(l,d,E),c instanceof Ve)c.boundsBuffer&&c.boundsSegments&&d.draw(l,u.TRIANGLES,C,e.StencilMode.disabled,p,e.CullFaceMode.disabled,D,r.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{var R=t.getTileBoundsBuffers(S),F=R.tileBoundsBuffer,B=R.tileBoundsIndexBuffer,j=R.tileBoundsSegments;d.draw(l,u.TRIANGLES,C,A,p,e.CullFaceMode.disabled,D,r.id,F,B,j)}}}}catch(U){w.e(U)}finally{w.f()}t.resetStencilClippingMasks()}},background:function(t,n,r,i){var a=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var s=t.context,l=s.gl,u=t.transform,c=u.tileSize,f=r.paint.get("background-pattern");if(!t.isPatternMissing(f)){var d=!f&&1===a.a&&1===o&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===d){var p,m=e.StencilMode.disabled,v=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),y=t.colorModeForRenderPass(),g=t.useProgram(f?"backgroundPattern":"background"),_=i;_||(p=t.getBackgroundTiles(),_=Object.values(p).map((function(e){return e.tileID}))),f&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));var x,b=r.getCrossfadeParameters(),w=h(_);try{for(w.s();!(x=w.n()).done;){var k=x.value,C=k.toUnwrapped(),E=i?k.projMatrix:t.transform.calculateProjMatrix(C);t.prepareDrawTile();var S=n?n.getTile(k):p?p[k.key]:new e.Tile(k,c,u.zoom,t),T=f?wr(E,o,t,f,{tileID:k,tileSize:c},b):br(E,o,a);t.prepareDrawProgram(s,g,C);var A=t.getTileBoundsBuffers(S),M=A.tileBoundsBuffer,I=A.tileBoundsIndexBuffer,P=A.tileBoundsSegments;g.draw(s,l.TRIANGLES,v,m,y,e.CullFaceMode.disabled,T,r.id,M,I,P)}}catch(L){w.e(L)}finally{w.f()}}}}},sky:function(t,n,r){var i=t.transform,a="mercator"===i.projection.name||"globe"===i.projection.name?1:e.smoothstep(7,8,i.zoom),o=r.paint.get("sky-opacity")*a;if(0!==o){var s=t.context,l=r.paint.get("sky-type"),u=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),c=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?r.needsSkyboxCapture(t)&&(function(t,n,r,i){var a=t.context,o=a.gl,s=n.skyboxFbo;if(!s){s=n.skyboxFbo=a.createFramebuffer(32,32,!1),n.skyboxGeometry=new qr(a),n.skyboxTexture=a.gl.createTexture(),o.bindTexture(o.TEXTURE_CUBE_MAP,n.skyboxTexture),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MAG_FILTER,o.LINEAR);for(var l=0;l<6;++l)o.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,o.RGBA,32,32,0,o.RGBA,o.UNSIGNED_BYTE,null)}a.bindFramebuffer.set(s.framebuffer),a.viewport.set([0,0,32,32]);var u=n.getCenter(t,!0),c=t.useProgram("skyboxCapture"),f=new Float64Array(16);e.identity(f),e.rotateY(f,f,.5*-Math.PI),Wr(a,n,c,f,u,0),e.identity(f),e.rotateY(f,f,.5*Math.PI),Wr(a,n,c,f,u,1),e.identity(f),e.rotateX(f,f,.5*-Math.PI),Wr(a,n,c,f,u,2),e.identity(f),e.rotateX(f,f,.5*Math.PI),Wr(a,n,c,f,u,3),e.identity(f),Wr(a,n,c,f,u,4),e.identity(f),e.rotateY(f,f,Math.PI),Wr(a,n,c,f,u,5),a.viewport.set([0,0,t.width,t.height])}(t,r),r.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,n,r,i,a){var o=t.context,s=o.gl,l=t.transform,u=t.useProgram("skybox");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);var c=function(e,t,n,r,i){return{u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:r,u_temporal_offset:i}}(l.skyboxMatrix,n.getCenter(t,!1),0,i,a);t.prepareDrawProgram(o,u),u.draw(o,s.TRIANGLES,r,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,c,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,r,u,o,c):"gradient"===l&&"sky"===t.renderPass&&function(t,n,r,i,a){var o=t.context,s=o.gl,l=t.transform,u=t.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new qr(o)),o.activeTexture.set(s.TEXTURE0);var c=n.colorRampTexture;c||(c=n.colorRampTexture=new e.Texture(o,n.colorRamp,s.RGBA)),c.bind(s.LINEAR,s.CLAMP_TO_EDGE);var f=function(t,n,r,i,a){return{u_matrix:t,u_color_ramp:0,u_center_direction:n,u_radius:e.degToRad(r),u_opacity:i,u_temporal_offset:a}}(l.skyboxMatrix,n.getCenter(t,!1),n.paint.get("sky-gradient-radius"),i,a);t.prepareDrawProgram(o,u),u.draw(o,s.TRIANGLES,r,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,f,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,r,u,o,c)}},debug:function(e,t,n){for(var r=0;r<n.length;r++)jr(e,t,n[r])},custom:function(t,n,r){var i=t.context,a=r.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){var o=a.prerender;o&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),o.call(a,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(e.StencilMode.disabled);var s="3d"===a.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);i.setDepthMode(s),a.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}},Kr=function(){function t(n,r){d(this,t),this.context=new Ue(n),this.transform=r,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ln,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}return p(t,[{key:"updateTerrain",value:function(e,t){var n=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(n||this._terrain&&this._terrain.enabled){this._terrain||(this._terrain=new Wn(this,e));var r=this._terrain;this.transform.elevation=n?r:null,r.update(e,this.transform,t)}}},{key:"_updateFog",value:function(e){var t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)this.transform.fogCullDistSq=null;else{var n=t.getFovAdjustedRange(this.transform._fov),r=f(n,2),i=r[0],a=r[1];if(i>a)this.transform.fogCullDistSq=null;else{var o=i+.78*(a-i);this.transform.fogCullDistSq=o*o}}}},{key:"terrain",get:function(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}},{key:"resize",value:function(t,n){if(this.width=t*e.exported.devicePixelRatio,this.height=n*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style){var r,i=h(this.style.order);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.style._layers[a].resize()}}catch(o){i.e(o)}finally{i.f()}}}},{key:"setup",value:function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout2i4;i.emplaceBack(-1,-1),i.emplaceBack(1,-1),i.emplaceBack(-1,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout4i8;a.emplaceBack(0,0,0,0),a.emplaceBack(e.EXTENT,0,e.EXTENT,0),a.emplaceBack(0,e.EXTENT,0,e.EXTENT),a.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(a,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(o);for(var s=new e.StructArrayLayout1ui2,l=0,u=[0,1,3,2,0];l<u.length;l++){var c=u[l];s.emplaceBack(c)}this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();var f=this.context.gl;this.stencilClearMode=new e.StencilMode({func:f.ALWAYS,mask:0},0,255,f.ZERO,f.ZERO,f.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Xr(this.context)}},{key:"getMercatorTileBoundsBuffers",value:function(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}},{key:"getTileBoundsBuffers",value:function(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}},{key:"clearStencil",value:function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,n.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Zn(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"resetStencilClippingMasks",value:function(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}},{key:"_renderTileClippingMasks",value:function(t,n,r){if(n&&this.currentStencilSource!==n.id&&t.isTileClipped()&&r&&0!==r.length){if(this._tileClippingMaskIDs&&!this.terrain){var i,a=!1,o=h(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(void 0===this._tileClippingMaskIDs[s.key]){a=!0;break}}}catch(b){o.e(b)}finally{o.f()}if(!a)return}this.currentStencilSource=n.id;var l=this.context,u=l.gl;this.nextStencilID+r.length>256&&this.clearStencil(),l.setColorMode(e.ColorMode.disabled),l.setDepthMode(e.DepthMode.disabled);var c=this.useProgram("clippingMask");this._tileClippingMaskIDs={};var f,d=h(r);try{for(d.s();!(f=d.n()).done;){var p=f.value,m=n.getTile(p),v=this._tileClippingMaskIDs[p.key]=this.nextStencilID++,y=this.getTileBoundsBuffers(m),g=y.tileBoundsBuffer,_=y.tileBoundsIndexBuffer,x=y.tileBoundsSegments;c.draw(l,u.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:u.ALWAYS,mask:0},v,255,u.KEEP,u.KEEP,u.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Zn(p.projMatrix),"$clipping",g,_,x)}}catch(b){d.e(b)}finally{d.f()}}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,n=this.context.gl;return new e.StencilMode({func:n.NOTEQUAL,mask:255},t,255,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilModeForClipping",value:function(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);var n=this.context.gl;return new e.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilConfigForOverlap",value:function(t){var n=this.context.gl,i=t.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),a=i[i.length-1].overscaledZ,o=i[0].overscaledZ-a+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var s={},l=0;l<o;l++)s[l+a]=new e.StencilMode({func:n.GEQUAL,mask:255},l+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[s,i]}return[r({},a,e.StencilMode.disabled),i]}},{key:"colorModeForRenderPass",value:function(){var t=this.context.gl;if(this._showOverdrawInspector){var n=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}},{key:"depthModeForSublayer",value:function(t,n,r){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(r||this.context.gl.LEQUAL,n,[i,i])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(t,n){var r=this;this.style=t,this.options=n,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();var i=this.style.order,a=this.style._sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var l={},u={},c={};for(var f in a){var d=a[f];l[f]=d.getVisibleCoordinates(),u[f]=l[f].slice().reverse(),c[f]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var p=0;p<i.length;p++)if(this.style._layers[i[p]].is3D()){this.opaquePassCutoff=p;break}if(this.terrain&&(this.terrain.updateTileBinding(c),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";var m,v=h(i);try{for(v.s();!(m=v.n()).done;){var y=m.value,g=this.style._layers[y],_=t._getLayerSourceCache(g);if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var x=_?u[_.id]:void 0;("custom"===g.type||g.isSky()||x&&x.length)&&this.renderLayer(this,_,g,x)}}}catch(I){v.e(I)}finally{v.f()}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],w=t._getLayerSourceCache(b);if(!b.isSky()){var k=w?u[w.id]:void 0;this._renderTileClippingMasks(b,w,k),this.renderLayer(this,w,b,k)}}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,n){var r=t.context,i=r.gl,a=t.transform,o=new e.DepthMode(i.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===a.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(a.zoom),u=n.properties.get("color").toArray01(),c=n.properties.get("high-color").toArray01(),f=n.properties.get("space-color").toArray01PremultipliedAlpha(),h=e.identity$1([]);e.rotateY$1(h,h,-e.degToRad(a._center.lng)),e.rotateX$1(h,h,e.degToRad(a._center.lat)),e.rotateZ$1(h,h,a.angle),e.rotateX$1(h,h,-a._pitch);var d=e.fromQuat(new Float32Array(16),h),p=e.mapValue(n.properties.get("star-intensity"),0,1,0,.25),m=5e-4,v=e.mapValue(n.properties.get("horizon-blend"),0,1,m,.25),y=e.globeUseCustomAntiAliasing(t,r,a)&&v===m?a.worldSize/(2*Math.PI*1.025)-1:a.globeRadius,g=t.frameCounter/1e3%1,_=e.length(a.globeCenterInViewSpace),x=Math.sqrt(Math.pow(_,2)-Math.pow(y,2)),b=Math.acos(x/_),w=function(t,n,r,i,a,o,s,l,u,c,f,h,d,p){return{u_frustum_tl:t,u_frustum_tr:n,u_frustum_br:r,u_frustum_bl:i,u_horizon:a,u_transition:o,u_fadeout_range:s,u_color:l,u_high_color:u,u_space_color:c,u_star_intensity:f,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:h,u_horizon_angle:d,u_rotation_matrix:p}}(a.frustumCorners.TL,a.frustumCorners.TR,a.frustumCorners.BR,a.frustumCorners.BL,a.frustumCorners.horizon,l,v,u,c,f,p,g,b,d);t.prepareDrawProgram(r,s);var k=t.atmosphereBuffer;k&&s.draw(r,i.TRIANGLES,o,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",k.vertexBuffer,k.indexBuffer,k.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var C=this.style._layers[i[this.currentLayer]],E=t._getLayerSourceCache(C);C.isSky()&&this.renderLayer(this,E,C,E?u[E.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){var S=this.style._layers[i[this.currentLayer]],T=t._getLayerSourceCache(S);if(S.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(S)){if(S.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer)}else{var A=T?("symbol"===S.type?c:u)[T.id]:void 0;this._renderTileClippingMasks(S,T,T?l[T.id]:void 0),this.renderLayer(this,T,S,A),++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){var M=null;e.values(this.style._layers).forEach((function(e){var n=t._getLayerSourceCache(e);n&&!e.isHidden(r.transform.zoom)&&(!M||M.getSource().maxzoom<n.getSource().maxzoom)&&(M=n)})),M&&this.options.showTileBoundaries&&Yr.debug(this,M,M.getVisibleCoordinates())}this.options.showPadding&&function(e){var t=e.transform.padding;Ur(e,e.transform.height-(t.top||0),3,Or),Ur(e,t.bottom||0,3,Dr),Zr(e,t.left||0,3,Rr),Zr(e,e.transform.width-(t.right||0),3,Fr);var n=e.transform.centerPoint;!function(e,t,n,r){Nr(e,t-1,n-10,2,20,r),Nr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,Br)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}},{key:"renderLayer",value:function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||r&&r.length)&&(this.id=n.id,this.gpuTimingStart(n),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(n.type)||Yr[n.type](e,t,n,r,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}},{key:"gpuTimingStart",value:function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}}},{key:"gpuTimingDeferredRenderStart",value:function(){if(this.options.gpuTimingDeferredRender){var e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}},{key:"gpuTimingDeferredRenderEnd",value:function(){if(this.options.gpuTimingDeferredRender){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"gpuTimingEnd",value:function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"collectGpuTimers",value:function(){var e=this.gpuTimers;return this.gpuTimers={},e}},{key:"collectDeferredRenderGpuQueries",value:function(){var e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}},{key:"queryGpuTimers",value:function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=a}return t}},{key:"queryGpuTimeDeferredRender",value:function(e){if(!this.options.gpuTimingDeferredRender)return 0;var t,n=this.context.extTimerQuery,r=0,i=h(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r+=n.getQueryObjectEXT(a,n.QUERY_RESULT_EXT)/1e6,n.deleteQueryEXT(a)}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"translatePosMatrix",value:function(t,n,r,i,a){if(!r[0]&&!r[1])return t;var o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[a?r[0]:W(n,r[0],this.transform.zoom),a?r[1]:W(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c}},{key:"saveTileTexture",value:function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}},{key:"getTileTexture",value:function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null}},{key:"isPatternMissing",value:function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}},{key:"terrainRenderModeElevated",value:function(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}},{key:"currentGlobalDefines",value:function(){var e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,n=[];return this.terrainRenderModeElevated()&&n.push("TERRAIN"),"globe"===this.transform.projection.name&&n.push("GLOBE"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&n.push("FOG"),e&&n.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&n.push("OVERDRAW_INSPECTOR"),n}},{key:"useProgram",value:function(e,t,n){this.cache=this.cache||{};var r=n||[],i=this.currentGlobalDefines().concat(r),a=Hn.cacheKey(Sn[e],e,i,t);return this.cache[a]||(this.cache[a]=new Hn(this.context,e,Sn[e],t,kr[e],i)),this.cache[a]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}},{key:"prepareDrawTile",value:function(){this.terrain&&this.terrain.prepareDrawTile()}},{key:"prepareDrawProgram",value:function(t,n,r){if(!this.terrain||!this.terrain.renderingToTexture){var i=this.style.fog;if(i){var a=i.getOpacity(this.transform.pitch),o=function(t,n,r,i,a,o,s,l,u,c,f){var h=t.transform,d=n.properties.get("color").toArray01();d[3]=i;var p=t.frameCounter/1e3%1;return{u_fog_matrix:r?h.calculateFogTileMatrix(r):t.identityMat,u_fog_range:n.getFovAdjustedRange(h._fov),u_fog_color:d,u_fog_horizon_blend:n.properties.get("horizon-blend"),u_fog_temporal_offset:p,u_frustum_tl:a,u_frustum_tr:o,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:u,u_globe_radius:c,u_viewport:f,u_globe_transition:e.globeToMercatorTransition(h.zoom),u_is_globe:+("globe"===h.projection.name)}}(this,i,r,a,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);n.setFogUniformValues(t,o)}}}},{key:"setTileLoadedFlag",value:function(e){this.tileLoaded=e}},{key:"saveCanvasCopy",value:function(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}},{key:"canvasCopy",value:function(){var e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}},{key:"getCanvasCopiesAndTimestamps",value:function(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}},{key:"averageElevationNeedsEasing",value:function(){if(!this.transform._elevation)return!1;var e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}},{key:"getBackgroundTiles",value:function(){var t,n=this._backgroundTiles,r=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512}),a=h(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;r[o.key]=n[o.key]||new e.Tile(o,512,this.transform.tileZoom,this)}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"clearBackgroundTiles",value:function(){this._backgroundTiles={}}}]),t}(),Qr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(d(this,t),isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=n,this.left=r,this.right=i}return p(t,[{key:"interpolate",value:function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this}},{key:"getCenter",value:function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(r,i)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}();function Jr(t,n){var r=e.getColumn(t,3);e.fromQuat(t,n),e.setColumn(t,3,r)}function $r(t,n){var r=e.identity$1([]);return e.rotateZ$1(r,r,-n),e.rotateX$1(r,r,-t),r}function ei(t,n){var r=[t[0],t[1],0],i=[n[0],n[1],0];if(e.length(r)>=1e-15){var a=e.normalize([],r);e.scale$2(i,a,e.dot(i,a)),n[0]=i[0],n[1]=i[1]}var o=e.cross([],n,t);if(e.len(o)<1e-15)return null;var s=Math.atan2(-o[1],o[0]);return $r(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}var ti=function(){function t(e,n){d(this,t),this.position=e,this.orientation=n}return p(t,[{key:"position",get:function(){return this._position},set:function(t){if(t){var n=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(n.x=e.wrap(n.x,0,1)),this._position=n}else this._position=null}},{key:"lookAtPoint",value:function(t,n){if(this.orientation=null,this.position){var r=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,i=this.position,a=e.MercatorCoordinate.fromLngLat(t,r),o=[a.x-i.x,a.y-i.y,a.z-i.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=ei(o,n)}}},{key:"setPitchBearing",value:function(t,n){this.orientation=$r(e.degToRad(t),e.degToRad(-n))}}]),t}(),ni=function(){function t(n,r){d(this,t),this._transform=e.identity([]),this.orientation=r,this.position=n}return p(t,[{key:"mercatorPosition",get:function(){var t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}},{key:"position",get:function(){var t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]},set:function(t){var n;t&&e.setColumn(this._transform,3,[(n=t)[0],n[1],n[2],1])}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t||e.identity$1([]),t&&Jr(this._transform,this._orientation)}},{key:"getPitchBearing",value:function(){var e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}},{key:"setPitchBearing",value:function(e,t){this._orientation=$r(e,t),Jr(this._transform,this._orientation)}},{key:"forward",value:function(){var t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}},{key:"up",value:function(){var t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}},{key:"right",value:function(){var t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}},{key:"getCameraToWorld",value:function(t,n){var r=new Float64Array(16);return e.invert(r,this.getWorldToCamera(t,n)),r}},{key:"getWorldToCameraPosition",value:function(t,n,r){var i=this.position;e.scale$2(i,i,-t);var a=new Float64Array(16);return e.fromScaling(a,[r,r,r]),e.translate(a,a,i),a[10]*=n,a}},{key:"getWorldToCamera",value:function(t,n){var r=new Float64Array(16),i=new Float64Array(4),a=this.position;return e.conjugate(i,this._orientation),e.scale$2(a,a,-t),e.fromQuat(r,i),e.translate(r,r,a),r[1]*=-1,r[5]*=-1,r[9]*=-1,r[13]*=-1,r[8]*=n,r[9]*=n,r[10]*=n,r[11]*=n,r}},{key:"getCameraToClipPerspective",value:function(t,n,r,i){var a=new Float64Array(16);return e.perspective(a,t,n,r,i),a}},{key:"getDistanceToElevation",value:function(t){var n=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),r=this.forward();return(n-this.position[2])/r[2]}},{key:"clone",value:function(){return new t(c(this.position),c(this.orientation))}}]),t}();function ri(t,n){var r=ai(t.projection,t.zoom,t.width,t.height),i=function(t,n,r,i,a){var o=new e.LngLat(r.lng-180*oi,r.lat),s=new e.LngLat(r.lng+180*oi,r.lat),l=t.project(o.lng,o.lat),u=t.project(s.lng,s.lat),c=-Math.atan2(u.y-l.y,u.x-l.x),f=e.MercatorCoordinate.fromLngLat(r);f.y=e.clamp(f.y,-.999975,.999975);var h=f.toLngLat(),d=t.project(h.lng,h.lat),p=e.MercatorCoordinate.fromLngLat(h);p.x+=oi;var m=p.toLngLat(),v=t.project(m.lng,m.lat),y=li(v.x-d.x,v.y-d.y,c),g=e.MercatorCoordinate.fromLngLat(h);g.y+=oi;var _=g.toLngLat(),x=t.project(_.lng,_.lat),b=li(x.x-d.x,x.y-d.y,c),w=Math.abs(y.x)/Math.abs(b.y),k=e.identity([]);e.rotateZ(k,k,-c*(1-(a?0:i)));var C=e.identity([]);return e.scale(C,C,[1,1-(1-w)*i,1]),C[4]=-b.x/b.y*i,e.rotateZ(C,C,c),e.multiply(C,k,C),C}(t.projection,0,t.center,r,n),a=ii(t);return e.scale(i,i,[a,a,1]),i}function ii(t){var n=t.projection,r=ai(t.projection,t.zoom,t.width,t.height),i=si(n,t.center),a=si(n,e.LngLat.convert(n.center));return Math.pow(2,i*r+(1-r)*a)}function ai(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=t.range;if(!o)return 0;var s=Math.min(a,Math.max(r,i)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(o[0]+l,o[1]+l,n)}var oi=1/4e4;function si(t,n){var r=e.clamp(n.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=new e.LngLat(n.lng-180*oi,r),a=new e.LngLat(n.lng+180*oi,r),o=t.project(i.lng,r),s=t.project(a.lng,r),l=e.MercatorCoordinate.fromLngLat(i),u=e.MercatorCoordinate.fromLngLat(a),c=s.x-o.x,f=s.y-o.y,h=u.x-l.x,d=u.y-l.y,p=Math.sqrt((h*h+d*d)/(c*c+f*f));return Math.log(p)/Math.LN2}function li(e,t,n){var r=Math.cos(n),i=Math.sin(n);return{x:e*r-t*i,y:e*i+t*r}}var ui=function(){function n(t,r,i,a,o,s,l){d(this,n),this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==i?0:i,this._maxPitch=null==a?60:a,this.setProjection(s),this.setMaxBounds(l),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Qr,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new ni,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}return p(n,[{key:"clone",value:function(){var e=new n(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}},{key:"elevation",get:function(){return this._elevation},set:function(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}},{key:"updateElevation",value:function(e){var t=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||t)&&this._updateCameraOnTerrain(),(e||t)&&this._constrainCameraAltitude(),this._calcMatrices()}},{key:"getProjection",value:function(){return e.pick(this.projection,["name","center","parallels"])}},{key:"setProjection",value:function(n){this.projectionOptions=n||{name:"mercator"};var r=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);var i=!t(r,this.getProjection());return i&&this._calcMatrices(),this.mercatorFromTransition=!1,i}},{key:"setMercatorFromTransition",value:function(){var t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});var n=t!==this.projection.name;return n&&this._calcMatrices(),n}},{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"cameraWorldSize",get:function(){var e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}},{key:"pixelsPerMeter",get:function(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}},{key:"cameraPixelsPerMeter",get:function(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new e.pointGeometry(this.width,this.height)}},{key:"bearing",get:function(){return e.wrap(this.rotation,-180,180)},set:function(e){this.rotation=e}},{key:"rotation",get:function(){return-this.angle/Math.PI*180},set:function(t){var n,r=-t*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=r*-s+a*l,e[3]=i*-s+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}},{key:"aspect",get:function(){return this.width/this.height}},{key:"fovX",get:function(){return this._fov}},{key:"fovY",get:function(){var e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}},{key:"fov",set:function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}},{key:"averageElevation",get:function(){return this._averageElevation},set:function(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}},{key:"_setZoom",value:function(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}},{key:"_updateCameraOnTerrain",value:function(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);var e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}},{key:"_updateSeaLevelZoom",value:function(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}},{key:"sampleAverageElevation",value:function(){if(!this._elevation)return 0;for(var t=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],r=this.horizonLineFromTop(),i=0,a=0,o=0;o<n.length;o++){var s=new e.pointGeometry(n[o][0]*this.width,r+n[o][1]*(this.height-r)),l=t.pointCoordinate(s);if(l){var u=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);i+=l[3]*u,a+=u}}return 0===a?NaN:i/a}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}},{key:"_updateZoomFromElevation",value:function(){if(null!=this._seaLevelZoom&&this._elevation){var e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*t,r=this._mercatorZfromZoom(e),i=this._mercatorZfromZoom(this._maxZoom),a=Math.max(r-n,i);this._setZoom(this._zoomFromMercatorZ(a))}}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}},{key:"computeZoomRelativeTo",value:function(t){var n,r=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));n=t.z<this._camera.position[2]?[r.x,r.y,r.z]:[t.x,t.y,t.z];var i=e.length(e.sub([],this._camera.position,n));return e.clamp(this._zoomFromMercatorZ(i),this._minZoom,this._maxZoom)}},{key:"setFreeCameraOptions",value:function(t){if(this.height&&(t.position||t.orientation)){this._updateCameraState();var n=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(t.orientation)),t.position){var r=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(r,this._camera.position)||(this._setCameraPosition(r),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}}},{key:"getFreeCameraOptions",value:function(){this._updateCameraState();var t=this._camera.position,n=new ti;return n.position=new e.MercatorCoordinate(t[0],t[1],t[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}},{key:"_setCameraOrientation",value:function(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);var n=e.transformQuat([],[0,0,-1],t),r=e.transformQuat([],[0,-1,0],t);if(r[2]<0)return!1;var i=ei(n,r);return!!i&&(this._camera.orientation=i,!0)}},{key:"_setCameraPosition",value:function(t){var n=this.zoomScale(this.minZoom)*this.tileSize,r=this.zoomScale(this.maxZoom)*this.tileSize,i=this.cameraToCenterDistance;t[2]=e.clamp(t[2],i/r,i/n),this._camera.position=t}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"fovAboveCenter",get:function(){return this._fov*(.5+this.centerOffset.y/this.height)}},{key:"isPaddingEqual",value:function(e){return this._edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"getVisibleUnwrappedCoordinates",value:function(t){var n=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies)for(var r=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),a=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),o=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(r.x,i.x,a.x,o.x)),l=Math.floor(Math.max(r.x,i.x,a.x,o.x)),u=1,c=s-u;c<=l+u;c++)0!==c&&n.push(new e.UnwrappedTileID(c,t));return n}},{key:"coveringTiles",value:function(t){var n=this,r=this.coveringZoomLevel(t),i=r,a=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var s=this.locationCoordinate(this.center),l=this.center.lat,u=1<<r,c=[u*s.x,u*s.y,0],f="globe"===this.projection.name,h=!f,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,h),p=f?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),m=u*e.mercatorZfromAltitude(1,this.center.lat),v=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),y=[u*p.x,u*p.y,v*(h?1:m)],g=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),_=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?r:0,x=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,b=t.isTerrainDEM?-x:this._elevation?this._elevation.getMinElevationBelowMSL():0,w=this.projection.isReprojectedInTileSpace?ii(this):1,k=function(t){var r=1/4e4,i=new e.MercatorCoordinate(t.x+r,t.y,t.z),a=new e.MercatorCoordinate(t.x,t.y+r,t.z),o=t.toLngLat(),s=i.toLngLat(),l=a.toLngLat(),u=n.locationCoordinate(o),c=n.locationCoordinate(s),f=n.locationCoordinate(l),h=Math.hypot(c.x-u.x,c.y-u.y),d=Math.hypot(f.x-u.x,f.y-u.y);return Math.sqrt(h*d)*w/r},C=function(t){var r=x,i=b;return{aabb:e.tileAABB(n,u,0,0,0,t,i,r,n.projection),zoom:0,x:0,y:0,minZ:i,maxZ:r,wrap:t,fullyVisible:!1}},E=[],S=[],T=r,A=t.reparseOverscaled?i:r,M=function(e){return e*e},I=M((v-this._centerAltitude)*m),P=function(e){if(n._elevation&&e.tileID&&o){var t=n._elevation.getMinMaxForTile(e.tileID),r=e.aabb;t?(r.min[2]=t.min,r.max[2]=t.max,r.center[2]=(r.min[2]+r.max[2])/2):(e.shouldSplit=L(e),e.shouldSplit||(r.min[2]=r.max[2]=r.center[2]=n._centerAltitude))}},L=function(t){if(t.zoom<_)return!0;if(t.zoom===T)return!1;if(null!=t.shouldSplit)return t.shouldSplit;var r=t.aabb.distanceX(y),o=t.aabb.distanceY(y),s=I,u=1;if(f){s=M(t.aabb.distanceZ(y));var c=Math.pow(2,t.zoom),h=e.latFromMercatorY((t.y+1)/c),d=e.latFromMercatorY(t.y/c),p=Math.min(Math.max(l,h),d),v=e.circumferenceAtLatitude(p)/e.circumferenceAtLatitude(l);if(u=p===l?1/Math.max(1,n._mercatorScaleRatio-.3):Math.min(1,v/n._mercatorScaleRatio),n.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===T-1&&v>=.9)return!0}else if(a&&(s=M(t.aabb.distanceZ(y)*m)),n.projection.isReprojectedInTileSpace&&i<=5){var x=Math.pow(2,t.zoom),b=k(new e.MercatorCoordinate((t.x+.5)/x,(t.y+.5)/x));u=b>.85?1:b}var w=r*r+o*o+s,C=M((1<<T-t.zoom)*g*u*function(e,t){if(t*M(.707)<e)return 1;var n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)}(Math.max(s,I),w));return w<C};if(this.renderWorldCopies)for(var z=1;z<=3;z++)E.push(C(-z)),E.push(C(z));for(E.push(C(0));E.length>0;){var O=E.pop(),D=O.x,R=O.y,F=O.fullyVisible;if(!F){var B=O.aabb.intersects(d);if(0===B)continue;F=2===B}if(O.zoom!==T&&L(O))for(var j=0;j<4;j++){var U=(D<<1)+j%2,Z=(R<<1)+(j>>1),N={aabb:o?O.aabb.quadrant(j):e.tileAABB(this,u,O.zoom+1,U,Z,O.wrap,O.minZ,O.maxZ,this.projection),zoom:O.zoom+1,x:U,y:Z,wrap:O.wrap,fullyVisible:F,tileID:void 0,shouldSplit:void 0,minZ:O.minZ,maxZ:O.maxZ};a&&!f&&(N.tileID=new e.OverscaledTileID(O.zoom+1===T?A:O.zoom+1,O.wrap,O.zoom+1,U,Z),P(N)),E.push(N)}else{var V=O.zoom===T?A:O.zoom;if(t.minzoom&&t.minzoom>V)continue;var G=c[0]-(.5+D+(O.wrap<<O.zoom))*(1<<r-O.zoom),q=c[1]-.5-R,W=O.tileID?O.tileID:new e.OverscaledTileID(V,O.wrap,O.zoom,D,R);S.push({tileID:W,distanceSq:G*G+q*q})}}if(this.fogCullDistSq){var H=this.fogCullDistSq,X=this.horizonLineFromTop();S=S.filter((function(r){var i=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],o=n.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(i,i,o),e.transformMat4$1(a,a,o);var s=e.getAABBPointSquareDist(i,a);if(0===s)return!0;var l=!1,u=n._elevation;if(u&&s>H&&0!==X){var c,f=n.calculateProjMatrix(r.tileID.toUnwrapped());t.isTerrainDEM||(c=u.getMinMaxForTile(r.tileID)),c||(c={min:b,max:x});var h=e.furthestTileCorner(n.rotation),d=[h[0]*e.EXTENT,h[1]*e.EXTENT,c.max];e.transformMat4(d,d,f),l=(1-d[1])*n.height*.5<X}return s<H||l}))}return S.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}},{key:"unmodified",get:function(){return this._unmodified}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(t){var n=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=this.projection.project(t.lng,n);return new e.pointGeometry(r.x*this.worldSize,r.y*this.worldSize)}},{key:"unproject",value:function(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}},{key:"point",get:function(){return this.project(this.center)}},{key:"setLocationAtPoint",value:function(t,n){var r,i,a=this.centerPoint;if("globe"===this.projection.name){var o=this.worldSize;r=(n.x-a.x)/o,i=(n.y-a.y)/o}else{var s=this.pointCoordinate(n),l=this.pointCoordinate(a);r=s.x-l.x,i=s.y-l.y}var u=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(u.x-r,u.y-i))}},{key:"setLocation",value:function(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(e){return this.projection.locationPoint(this,e)}},{key:"locationPoint3D",value:function(e){return this.projection.locationPoint(this,e,!0)}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"pointLocation3D",value:function(e){return this.coordinateLocation(this.pointCoordinate3D(e))}},{key:"locationCoordinate",value:function(t,n){var r=n?e.mercatorZfromAltitude(n,t.lat):void 0,i=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(i.x,i.y,r)}},{key:"coordinateLocation",value:function(e){return this.projection.unproject(e.x,e.y)}},{key:"pointRayIntersection",value:function(t,n){var r=null!=n?n:this._centerAltitude,i=[t.x,t.y,0,1],a=[t.x,t.y,1,1];e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(a,a,this.pixelMatrixInverse);var o=a[3];e.scale$1(i,i,1/i[3]),e.scale$1(a,a,1/o);var s=i[2],l=a[2];return{p0:i,p1:a,t:s===l?0:(r-s)/(l-s)}}},{key:"screenPointToMercatorRay",value:function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];return e.transformMat4$1(n,n,this.pixelMatrixInverse),e.transformMat4$1(r,r,this.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),e.scale$1(r,r,1/r[3]),n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,r[2]=e.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,e.scale$1(n,n,1/this.worldSize),e.scale$1(r,r,1/this.worldSize),new e.Ray([n[0],n[1],n[2]],e.normalize([],e.sub([],r,n)))}},{key:"rayIntersectionCoordinate",value:function(t){var n=t.p0,r=t.p1,i=t.t,a=e.mercatorZfromAltitude(n[2],this._center.lat),o=e.mercatorZfromAltitude(r[2],this._center.lat);return new e.MercatorCoordinate(e.number(n[0],r[0],i)/this.worldSize,e.number(n[1],r[1],i)/this.worldSize,e.number(a,o,i))}},{key:"pointCoordinate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._centerAltitude;return this.projection.pointCoordinate(this,e.x,e.y,t)}},{key:"pointCoordinate3D",value:function(t){if(!this.elevation)return this.pointCoordinate(t);var n=this.projection.pointCoordinate3D(this,t.x,t.y);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);var r=0,i=this.horizonLineFromTop();if(t.y>i)return this.pointCoordinate(t);for(var a=.02*i,o=t.clone(),s=0;s<10&&i-r>a;s++){o.y=e.number(r,i,.66);var l=this.projection.pointCoordinate3D(this,o.x,o.y);l?(i=o.y,n=l):r=o.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}},{key:"isPointAboveHorizon",value:function(e){return this.projection.isPointAboveHorizon(this,e)}},{key:"_coordinatePoint",value:function(t,n){var r=n&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,i=[t.x*this.worldSize,t.y*this.worldSize,r+t.toAltitude(),1];return e.transformMat4$1(i,i,this.pixelMatrix),i[3]>0?new e.pointGeometry(i[0]/i[3],i[1]/i[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}},{key:"_getGlobeBounds",value:function(){var t=this,n=this._edgeInsets,r=n.top,i=n.left,a=this.height-this._edgeInsets.bottom,o=this.width-this._edgeInsets.right,s=this.pointCoordinate3D(new e.pointGeometry(i,r)),l=this.pointCoordinate3D(new e.pointGeometry(o,r)),u=this.pointCoordinate3D(new e.pointGeometry(o,a)),c=this.pointCoordinate3D(new e.pointGeometry(i,a)),f=Math.min(s.x,c.x),h=Math.max(l.x,u.x),d=Math.min(s.y,l.y),p=Math.max(c.y,u.y),m=Math.pow(2,-this.zoom)/16,v=function n(r,i,a,o){var s=(r+a)/2,l=(i+o)/2,u=new e.pointGeometry(s,l),c=t.pointCoordinate3D(u),v=Math.max(0,f-c.x,d-c.y,c.x-h,c.y-p);f=Math.min(f,c.x),h=Math.max(h,c.x),d=Math.min(d,c.y),p=Math.max(p,c.y),v>m&&(n(r,i,s,l),n(s,l,a,o))};v(i,r,o,r),v(o,r,o,a),v(o,a,i,a),v(i,a,i,r);var y=new e.LngLat(e.lngFromMercatorX(h),e.latFromMercatorY(d)),g=new e.LngLat(e.lngFromMercatorX(f),e.latFromMercatorY(p));return new e.LngLatBounds(g,y)}},{key:"_getBounds",value:function(t,n){if("globe"===this.projection.name)return this._getGlobeBounds();var r=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),i=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),a=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),o=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom),s=this.pointCoordinate(r,t),l=this.pointCoordinate(i,t),u=this.pointCoordinate(a,n),c=this.pointCoordinate(o,n),f=function(e,t){return(t.y-e.y)/(t.x-e.x)};return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-c.y)/f(c,s)+c.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-c.y/f(c,s)+c.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-u.y)/f(u,l)+u.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-u.y/f(u,l)+u.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(c)).extend(this.coordinateLocation(u))}},{key:"_getBounds3D",value:function(){var e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);var t=e.visibleDemTiles.reduce((function(e,t){if(t.dem){var n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}},{key:"getBounds",value:function(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}},{key:"horizonLineFromTop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,n):n}},{key:"getMaxBounds",value:function(){return this.maxBounds}},{key:"setMaxBounds",value:function(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}},{key:"calculatePosMatrix",value:function(e,t){return this.projection.createTileMatrix(this,t,e)}},{key:"calculateDistanceTileData",value:function(t){var n=t.key,r=this._distanceTileDataCache;if(r[n])return r[n];var i=t.canonical,a=1/this.height,o=this.cameraWorldSize/this.zoomScale(i.z),s=(i.x+Math.pow(2,i.z)*t.wrap)*o,l=i.y*o,u=this.point,c=this.angle,f=Math.sin(-c),h=-Math.cos(-c);return r[n]={bearing:[f,h],center:[(u.x-s)*a,(u.y-l)*a],scale:o/e.EXTENT*a},r[n]}},{key:"calculateFogTileMatrix",value:function(t){var n=t.key,r=this._fogTileMatrixCache;if(r[n])return r[n];var i=this.projection.createTileMatrix(this,this.cameraWorldSize,t);return e.multiply(i,this.worldToFogMatrix,i),r[n]=new Float32Array(i),r[n]}},{key:"calculateProjMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.key,i=n?this._alignedProjMatrixCache:this._projMatrixCache;if(i[r])return i[r];var a=this.calculatePosMatrix(t,this.worldSize);return e.multiply(a,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,a),i[r]=new Float32Array(a),i[r]}},{key:"calculatePixelsToTileUnitsMatrix",value:function(t){var n=t.tileID.key,r=this._pixelsToTileUnitsCache;if(r[n])return r[n];var i=function(t,n){var r,i,a,o,s,l,u,c,f=t.tileTransform.scale*e.EXTENT/(t.tileSize*Math.pow(2,n.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return r=new Float32Array(4),o=(i=n.inverseAdjustmentMatrix)[1],s=i[2],l=i[3],c=(a=[f,f])[1],r[0]=i[0]*(u=a[0]),r[1]=o*u,r[2]=s*c,r[3]=l*c,r}(t,this);return r[n]=i,r[n]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"recenterOnTerrain",value:function(){if(this._elevation&&"globe"!==this.projection.name){var t=this._elevation;this._updateCameraState();var n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(n),i=this._camera.forward(),a=e.mercatorZfromAltitude(1,this._center.lat);r[2]/=a,i[2]/=a,e.normalize(i,i);var o=t.raycast(r,i,t.exaggeration());if(o){var s=e.scaleAndAdd([],r,i,o),l=new e.MercatorCoordinate(s[0],s[1],e.mercatorZfromAltitude(s[2],e.latFromMercatorY(s[1]))),u=(l.z+e.length([l.x-r[0],l.y-r[1],l.z-r[2]*a]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(u),this._centerAltitude=l.toAltitude(),this._center=this.coordinateLocation(l),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}}},{key:"_constrainCameraAltitude",value:function(){if(this._elevation){var t=this._elevation;this._updateCameraState();var n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(n),i=t.getAtPointOrZero(a(e.MercatorCoordinate,c(r))),o=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),s=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*i;if(s<o){var l=this.locationCoordinate(this._center,this._centerAltitude),u=[l.x-r[0],l.y-r[1],l.z-r[2]],f=e.length(u);u[2]-=(o-s)/this._pixelsPerMercatorPixel;var h=e.length(u);if(0===h)return;e.scale$2(u,u,f/h*this._pixelsPerMercatorPixel),this._camera.position=[l.x-u[0],l.y-u[1],l.z*this._pixelsPerMercatorPixel-u[2]],this._camera.orientation=ei(u,this._camera.up()),this._updateStateFromCamera()}}}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){var n=this.center;return n.lat=e.clamp(n.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(n.lng=e.clamp(n.lng,this.minLng,this.maxLng)),this.center=n,void(this._constraining=!1)}var r=this._unmodified,i=this.point,a=i.x,o=i.y,s=0,l=a,u=o,c=this.width/2,f=this.height/2,h=this.worldMinY*this.scale,d=this.worldMaxY*this.scale;if(o-f<h&&(u=h+f),o+f>d&&(u=d-f),d-h<this.height&&(s=Math.max(s,this.height/(d-h)),u=(d+h)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){var p=this.worldMinX*this.scale,m=this.worldMaxX*this.scale,v=this.worldSize/2-(p+m)/2;(l=(a+v+this.worldSize)%this.worldSize-v)-c<p&&(l=p+c),l+c>m&&(l=m-c),m-p<this.width&&(s=Math.max(s,this.width/(m-p)),l=(m+p)/2)}l===a&&u===o||(this.center=this.unproject(new e.pointGeometry(l,u))),s&&(this.zoom+=this.scaleZoom(s)),this._constrainCameraAltitude(),this._unmodified=r,this._constraining=!1}}},{key:"_minZoomForBounds",value:function(){var e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}},{key:"_maxCameraBoundsDistance",value:function(){return this._mercatorZfromZoom(this._minZoomForBounds())}},{key:"_calcMatrices",value:function(){if(this.height){var t=this.centerOffset,n=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));var r=ai(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,r),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;var i=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?n:1),a=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);a[8]=2*-t.x/this.width,a[9]=2*t.y/this.height;var o=e.mul([],a,i);if(this.projection.isReprojectedInTileSpace){var s=this.locationCoordinate(this.center),l=e.identity([]);e.translate(l,l,[s.x*this.worldSize,s.y*this.worldSize,0]),e.multiply(l,l,ri(this)),e.translate(l,l,[-s.x*this.worldSize,-s.y*this.worldSize,0]),e.multiply(o,o,l),this.inverseAdjustmentMatrix=function(e){var t=ri(e,!0);return P([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],o,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=o,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);var u=e.invert([],a);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(u,this.horizonLineFromTop(),this.height);var c=new Float32Array(16);e.identity(c),e.scale(c,c,[1,-1,1]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle);var f=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),h=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;f[8]=2*-t.x/this.width,f[9]=2*(t.y+h)/this.height,this.skyboxMatrix=e.multiply(c,f,c);var d=this.point,p=d.x,m=d.y,v=this.width%2/2,y=this.height%2/2,g=Math.cos(this.angle),_=Math.sin(this.angle),x=p-Math.round(p)+g*v+_*y,b=m-Math.round(m)+g*y+_*v,w=new Float64Array(o);if(e.translate(w,w,[x>.5?x-1:x,b>.5?b-1:b,0]),this.alignedProjMatrix=w,o=e.create(),e.scale(o,o,[this.width/2,-this.height/2,1]),e.translate(o,o,[1,-1,0]),this.labelPlaneMatrix=o,o=e.create(),e.scale(o,o,[1,-1,1]),e.translate(o,o,[-1,-1,0]),e.scale(o,o,[2/this.width,2/this.height,1]),this.glCoordMatrix=o,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},!(o=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=o,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);var k=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(k,k,i),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=o;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}}},{key:"_calcFogMatrices",value:function(){this._fogTileMatrixCache={};var t=this.cameraWorldSize,n=this.cameraPixelsPerMeter,r=this._camera.position,i=1/this.height/this._pixelsPerMercatorPixel,a=[t,t,n];e.scale$2(a,a,i),e.scale$2(r,r,-1),e.multiply$2(r,r,a);var o=e.create();e.translate(o,o,r),e.scale(o,o,a),this.mercatorFogMatrix=o,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,n,i)}},{key:"_computeCameraPosition",value:function(e){var t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),r=this.point,i=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[r.x/this.worldSize-n[0]*i,r.y/this.worldSize-n[1]*i,e/this.worldSize*this._centerAltitude-n[2]*i]}},{key:"_updateCameraState",value:function(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}},{key:"_translateCameraConstrained",value:function(t){var n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),r=this._camera.position[2],i=t[2],a=1;this.projection.wrap&&(this.center=this.center.wrap()),i>0&&(a=Math.min((n-r)/i,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,a),this._updateStateFromCamera()}},{key:"_updateStateFromCamera",value:function(){var t=this._camera.position,n=this._camera.forward(),r=this._camera.getPitchBearing(),i=r.pitch,a=r.bearing,o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),l=Math.max((t[2]-o)/Math.cos(i),s),u=this._zoomFromMercatorZ(l);e.scaleAndAdd(t,t,n,l),this._pitch=e.clamp(i,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(a,-Math.PI,Math.PI),this._setZoom(e.clamp(u,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}},{key:"_worldSizeFromZoom",value:function(e){return Math.pow(2,e)*this.tileSize}},{key:"_mercatorZfromZoom",value:function(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}},{key:"_minimumHeightOverTerrain",value:function(){var e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}},{key:"_zoomFromMercatorZ",value:function(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}},{key:"zoomFromMercatorZAdjusted",value:function(e){for(var t,n=this,r=function(t){var r=n.getCameraToCenterDistance(n.projection,t);return n.scaleZoom(r/(e*n.tileSize))},i=r(this.zoom),a=Math.abs(i-r(i));t!==a;)i=r(i),t=a,a=Math.abs(i-r(i));return i}},{key:"_terrainEnabled",value:function(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}},{key:"anyCornerOffEdge",value:function(t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x),a=Math.min(t.y,n.y),o=Math.max(t.y,n.y);if(a<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;for(var s=[new e.pointGeometry(r,a),new e.pointGeometry(i,o),new e.pointGeometry(r,o),new e.pointGeometry(i,a)],l=this.renderWorldCopies?-3:0,u=this.renderWorldCopies?4:1,c=0,f=s;c<f.length;c++){var h=f[c],d=this.pointRayIntersection(h);if(d.t<0)return!0;var p=this.rayIntersectionCoordinate(d);if(p.x<l||p.y<0||p.x>u||p.y>1)return!0}return!1}},{key:"isHorizonVisible",value:function(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}},{key:"zoomDeltaToMovement",value:function(t,n){var r=e.length(e.sub([],this._camera.position,t)),i=this._zoomFromMercatorZ(r)+n;return r-this._mercatorZfromZoom(i)}},{key:"getCameraPoint",value:function(){if("globe"===this.projection.name){var t=function(t,n){var r=[t[0],t[1],t[2],1];e.transformMat4$1(r,r,n);var i=Math.max(r[3],1e-6);return[r[0]/i,r[1]/i,r[2]/i,i]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}var n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,n))}},{key:"getCameraToCenterDistance",value:function(e){var t=ai(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom,this.width,this.height,1024),n=e.pixelSpaceConversion(this.center.lat,this.worldSize,t);return.5/Math.tan(.5*this._fov)*this.height*n}},{key:"getWorldToCameraMatrix",value:function(){var t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}]),n}();function ci(e,t){var n=!1,r=null,i=function i(){r=null,n&&(e(),r=setTimeout(i,t),n=!1)};return function(){return n=!0,r||i(),r}}var fi=function(){function t(n){d(this,t),this._hashName=n&&encodeURIComponent(n),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=ci(this._updateHashUnthrottled.bind(this),300)}return p(t,[{key:"addTo",value:function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}},{key:"getHashString",value:function(){var t=this._map;if(!t)return"";var n=hi(t);if(this._hashName){var r=this._hashName,i=!1,a=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===r?(i=!0,"".concat(t,"=").concat(n)):e})).filter((function(e){return e}));return i||a.push("".concat(r,"=").concat(n)),"#".concat(a.join("&"))}return"#".concat(n)}},{key:"_getCurrentHash",value:function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")}},{key:"_onHashChange",value:function(){var e=this._map;if(!e)return!1;var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(e){return isNaN(e)}))){var n=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:n,pitch:+(t[4]||0)}),!0}return!1}},{key:"_updateHashUnthrottled",value:function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}]),t}();function hi(e,t){var n=e.getCenter(),r=Math.round(100*e.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,i),o=Math.round(n.lng*a)/a,s=Math.round(n.lat*a)/a,l=e.getBearing(),u=e.getPitch(),c=t?"/".concat(o,"/").concat(s,"/").concat(r):"".concat(r,"/").concat(s,"/").concat(o);return(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/".concat(Math.round(u))),c}var di={linearity:.3,easing:e.bezier(0,0,.3,1)},pi=e.extend({deceleration:2500,maxSpeed:1400},di),mi=e.extend({deceleration:20,maxSpeed:1400},di),vi=e.extend({deceleration:1e3,maxSpeed:360},di),yi=e.extend({deceleration:1e3,maxSpeed:90},di),gi=function(){function t(e){d(this,t),this._map=e,this.clear()}return p(t,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}},{key:"_drainInertiaBuffer",value:function(){for(var t=this._inertiaBuffer,n=e.exported.now();t.length>0&&n-t[0].time>160;)t.shift()}},{key:"_onMoveEnd",value:function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var n,r={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0},i=h(this._inertiaBuffer);try{for(i.s();!(n=i.n()).done;){var a=n.value.settings;r.zoom+=a.zoomDelta||0,r.bearing+=a.bearingDelta||0,r.pitch+=a.pitchDelta||0,a.panDelta&&r.pan._add(a.panDelta),a.around&&(r.around=a.around),a.pinchAround&&(r.pinchAround=a.pinchAround)}}catch(p){i.e(p)}finally{i.f()}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var l=xi(r.pan.mag(),o,e.extend({},pi,t||{}));s.offset=r.pan.mult(l.amount/r.pan.mag()),s.center=this._map.transform.center,_i(s,l)}if(r.zoom){var u=xi(r.zoom,o,mi);s.zoom=this._map.transform.zoom+u.amount,_i(s,u)}if(r.bearing){var c=xi(r.bearing,o,vi);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),_i(s,c)}if(r.pitch){var f=xi(r.pitch,o,yi);s.pitch=this._map.transform.pitch+f.amount,_i(s,f)}if(s.zoom||s.bearing){var d=void 0===r.pinchAround?r.around:r.pinchAround;s.around=d?this._map.unproject(d):this._map.getCenter()}return this.clear(),s.noMoveStart=!0,s}}}]),t}();function _i(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function xi(t,n,r){var i=r.maxSpeed,a=r.linearity,o=r.deceleration,s=e.clamp(t*a/(n/1e3),-i,i),l=Math.abs(s)/(o*a);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}var bi=function(t){m(r,t);var n=v(r);function r(t,i,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};d(this,r);var l=T(i.getCanvasContainer(),a),u=i.unproject(l);return(o=n.call(this,t,e.extend({point:l,lngLat:u,originalEvent:a},s)))._defaultPrevented=!1,o.target=i,o}return p(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),wi=function(t){m(r,t);var n=v(r);function r(t,i,a){var o;d(this,r);var s="touchend"===t?a.changedTouches:a.touches,l=A(i.getCanvasContainer(),s),u=l.map((function(e){return i.unproject(e)})),c=l.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.pointGeometry(0,0));return(o=n.call(this,t,{points:l,point:c,lngLats:u,lngLat:i.unproject(c),originalEvent:a}))._defaultPrevented=!1,o}return p(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),ki=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,{originalEvent:i}))._defaultPrevented=!1,a}return p(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),Ci=function(){function t(e,n){d(this,t),this._map=e,this._clickTolerance=n.clickTolerance}return p(t,[{key:"reset",value:function(){this._mousedownPos=void 0}},{key:"wheel",value:function(e){return this._firePreventable(new ki(e.type,this._map,e))}},{key:"mousedown",value:function(e,t){return this._mousedownPos=t,this._firePreventable(new bi(e.type,this._map,e))}},{key:"mouseup",value:function(e){this._map.fire(new bi(e.type,this._map,e))}},{key:"preclick",value:function(t){var n=e.extend({},t);n.type="preclick",this._map.fire(new bi(n.type,this._map,n))}},{key:"click",value:function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new bi(e.type,this._map,e)))}},{key:"dblclick",value:function(e){return this._firePreventable(new bi(e.type,this._map,e))}},{key:"mouseover",value:function(e){this._map.fire(new bi(e.type,this._map,e))}},{key:"mouseout",value:function(e){this._map.fire(new bi(e.type,this._map,e))}},{key:"touchstart",value:function(e){return this._firePreventable(new wi(e.type,this._map,e))}},{key:"touchmove",value:function(e){this._map.fire(new wi(e.type,this._map,e))}},{key:"touchend",value:function(e){this._map.fire(new wi(e.type,this._map,e))}},{key:"touchcancel",value:function(e){this._map.fire(new wi(e.type,this._map,e))}},{key:"_firePreventable",value:function(e){if(this._map.fire(e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),t}(),Ei=function(){function e(t){d(this,e),this._map=t}return p(e,[{key:"reset",value:function(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}},{key:"mousemove",value:function(e){this._map.fire(new bi(e.type,this._map,e))}},{key:"mousedown",value:function(){this._delayContextMenu=!0}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new bi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new bi(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),Si=function(){function t(e,n){d(this,t),this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1}return p(t,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(k(),this._startPos=this._lastPos=t,this._active=!0)}},{key:"mousemoveWindow",value:function(e,t){var n=this;if(this._active){var r=t,i=this._startPos,a=this._lastPos;if(!(!i||!a||a.equals(r)||!this._box&&r.dist(i)<this._clickTolerance)){this._lastPos=r,this._box||(this._box=g("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),s=Math.max(i.x,r.x),l=Math.min(i.y,r.y),u=Math.max(i.y,r.y);this._map._requestDomTask((function(){n._box&&(n._box.style.transform="translate(".concat(o,"px,").concat(l,"px)"),n._box.style.width=s-o+"px",n._box.style.height=u-l+"px")}))}}}},{key:"mouseupWindow",value:function(t,n){var r=this;if(this._active){var i=this._startPos,a=n;if(i&&0===t.button){if(this.reset(),S(),i.x!==a.x||i.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(i,a,r._map.getBearing(),{linear:!1})}};this._fireEvent("boxzoomcancel",t)}}}},{key:"keydown",value:function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),C(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}]),t}();function Ti(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}var Ai=function(){function t(e){d(this,t),this.reset(),this.numTouches=e.numTouches}return p(t,[{key:"reset",value:function(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}},{key:"touchstart",value:function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){var n,r=new e.pointGeometry(0,0),i=h(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r._add(a)}}catch(o){i.e(o)}finally{i.f()}return r.div(t.length)}(n),this.touches=Ti(r,n)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=Ti(n,t);for(var i in this.touches){var a=this.touches[i],o=r[i];(!o||o.dist(a)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),t}(),Mi=function(){function e(t){d(this,e),this.singleTap=new Ai(t),this.numTaps=t.numTaps,this.reset()}return p(e,[{key:"reset",value:function(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(r)<30;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}(),Ii=function(){function e(){d(this,e),this._zoomIn=new Mi({numTouches:1,numTaps:2}),this._zoomOut=new Mi({numTouches:2,numTaps:1}),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),a=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Pi={0:1,2:2},Li=function(){function e(t){d(this,e),this.reset(),this._clickTolerance=t.clickTolerance||1}return p(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}},{key:"_correctButton",value:function(e,t){return!1}},{key:"_move",value:function(e,t){return{}}},{key:"mousedown",value:function(e,t){if(!this._lastPoint){var n=M(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}}},{key:"mousemoveWindow",value:function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),null!=this._eventButton&&function(e,t){var n=Pi[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}},{key:"mouseupWindow",value:function(e){this._lastPoint&&M(e)===this._eventButton&&(this._moved&&S(),this.reset())}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),zi=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"mousedown",value:function(e,t){o(s(n.prototype),"mousedown",this).call(this,e,t),this._lastPoint&&(this._active=!0)}},{key:"_correctButton",value:function(e,t){return 0===t&&!e.ctrlKey}},{key:"_move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}}]),n}(Li),Oi=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Li),Di=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Li),Ri=function(){function t(n,r){d(this,t),this._map=n,this._el=n.getCanvasContainer(),this._minTouches=1,this._clickTolerance=r.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}return p(t,[{key:"reset",value:function(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}},{key:"touchstart",value:function(e,t,n){return this._calculateTransform(e,t,n)}},{key:"touchmove",value:function(t,n,r){if(this._active&&!(r.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===r.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,n,r)}}},{key:"touchend",value:function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(t,n,r){r.length>0&&(this._active=!0);var i=Ti(r,n),a=new e.pointGeometry(0,0),o=new e.pointGeometry(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(a._add(u),o._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&o.mag()){var f=o.div(s);return this._sum._add(f),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(s),panDelta:f}}}},{key:"enable",value:function(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}},{key:"disable",value:function(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"_addTouchPanBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=g("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showTouchPanBlockerAlert",value:function(){var e=this;this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),e._alertContainer.setAttribute("role","null")}),500)}}]),t}(),Fi=function(){function e(){d(this,e),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,this._firstTwoTouches=void 0}},{key:"_start",value:function(e){}},{key:"_move",value:function(e,t,n){return{}}},{key:"touchstart",value:function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){var r=this._firstTwoTouches;if(r){e.preventDefault();var i=f(r,2),a=i[0],o=i[1],s=Bi(n,t,a),l=Bi(n,t,o);if(s&&l){var u=this._aroundCenter?null:s.add(l).div(2);return this._move([s,l],u,e)}}}},{key:"touchend",value:function(e,t,n){if(this._firstTwoTouches){var r=f(this._firstTwoTouches,2),i=r[0],a=r[1],o=Bi(n,t,i),s=Bi(n,t,a);o&&s||(this._active&&S(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}();function Bi(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function ji(e,t){return Math.log(e/t)/Math.LN2}var Ui=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"reset",value:function(){o(s(n.prototype),"reset",this).call(this),this._distance=0,this._startDistance=0}},{key:"_start",value:function(e){this._startDistance=this._distance=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(ji(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ji(this._distance,n),pinchAround:t}}}]),n}(Fi);function Zi(e,t){return 180*e.angleWith(t)/Math.PI}var Ni=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"reset",value:function(){o(s(n.prototype),"reset",this).call(this),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}},{key:"_start",value:function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),n&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Zi(this._vector,n),pinchAround:t}}},{key:"_isBelowThreshold",value:function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=this._startVector;if(!n)return!1;var r=Zi(e,n);return Math.abs(r)<t}}]),n}(Fi);function Vi(e){return Math.abs(e.y)>Math.abs(e.x)}var Gi=function(t){m(r,t);var n=v(r);function r(e){var t;return d(this,r),(t=n.call(this))._map=e,t}return p(r,[{key:"reset",value:function(){o(s(r.prototype),"reset",this).call(this),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}},{key:"_start",value:function(e){this._lastPoints=e,Vi(e[0].sub(e[1]))&&(this._valid=!1)}},{key:"_move",value:function(t,n,r){var i=this._lastPoints;if(i){var a=t[0].sub(i[0]),o=t[1].sub(i[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&r.touches.length<3||(this._valid=this.gestureBeginsVertically(a,o,r.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(a.y+o.y)/2*-.5})}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return null==this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return Vi(e)&&Vi(t)&&a}}}]),r}(Fi),qi={panStep:100,bearingStep:15,pitchStep:10},Wi=function(){function e(){d(this,e);var t=qi;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}return p(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Hi,zoom:n?Math.round(l)+n*(e.shiftKey?2:1):l,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),e}();function Hi(e){return e*(2-e)}var Xi=4.000244140625,Yi=function(){function t(n,r){d(this,t),this._map=n,this._el=n.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}return p(t,[{key:"setZoomRate",value:function(e){this._defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this._wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}},{key:"wheel",value:function(t){if(this.isEnabled()){if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.exported.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%Xi==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}}},{key:"_onTimeout",value:function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}},{key:"_start",value:function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var t=T(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;"wheel"===this._type&&n.projection.wrap&&(n._center.lng>=180||n._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);var r=function(){return n._terrainEnabled()&&t._aroundCoord?n.computeZoomRelativeTo(t._aroundCoord):n.zoom};if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>Xi?this._wheelZoomRate:this._defaultZoomRate,a=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==a&&(a=1/a);var o=r(),s=Math.pow(2,o),l="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(l*a))),"wheel"===this._type&&(this._startZoom=o,this._easing=this._smoothOutEasing(200)),this._delta=0}var u,c="number"==typeof this._targetZoom?this._targetZoom:r(),f=this._startZoom,h=this._easing,d=!1;if("wheel"===this._type&&f&&h){var p=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),m=h(p);u=e.number(f,c,m),p<1?this._frameId||(this._frameId=!0):d=!0}else u=c,d=!0;return this._active=!0,d&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!d,zoomDelta:u-r(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.exported.now()-r.start)/r.duration,a=r.easing(i+.01)-r.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"_addScrollZoomBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=g("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showBlockerAlert",value:function(){var e=this;this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),e._alertContainer.setAttribute("role","null")}),200)}}]),t}(),Ki=function(){function e(t,n){d(this,e),this._clickZoom=t,this._tapZoom=n}return p(e,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),e}(),Qi=function(){function e(){d(this,e),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1}},{key:"blur",value:function(){this.reset()}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Ji=function(){function e(){d(this,e),this._tap=new Mi({numTouches:1,numTaps:1}),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}},{key:"touchstart",value:function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}},{key:"touchmove",value:function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),$i=function(){function e(t,n,r){d(this,e),this._el=t,this._mousePan=n,this._touchPan=r}return p(e,[{key:"enable",value:function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),e}(),ea=function(){function e(t,n,r){d(this,e),this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=n,this._mousePitch=r}return p(e,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),e}(),ta=function(){function e(t,n,r,i){d(this,e),this._el=t,this._touchZoom=n,this._touchRotate=r,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}return p(e,[{key:"enable",value:function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),e}(),na=function(e){return e.zoom||e.drag||e.pitch||e.rotate},ra=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n)}(e.Event),ia=function(){function t(){d(this,t),this.constants=[1,1,.01],this.radius=0}return p(t,[{key:"setup",value:function(t,n){var r=e.sub([],n,t);this.radius=e.length(r[2]<0?e.div([],r,this.constants):[r[0],r[1],0])}},{key:"projectRay",value:function(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);var n=e.scale$2([],t,this.radius);if(n[2]>0){var r=e.scale$2([],[0,0,1],e.dot(n,[0,0,1])),i=e.scale$2([],e.normalize([],[n[0],n[1],0]),this.radius),a=e.add([],n,e.scale$2([],e.sub([],e.add([],i,r),n),2));n[0]=a[0],n[1]=a[1]}return n}}]),t}();function aa(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var oa=function(){function t(n,r){d(this,t),this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new gi(n),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new ia,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];var a,o=h(this._listeners);try{for(o.s();!(a=o.n()).done;){var s=f(a.value,3),l=s[0],u=s[1],c=s[2];l.addEventListener(u,l===e.window.document?this.handleWindowEvent:this.handleEvent,c)}}catch(p){o.e(p)}finally{o.f()}}return p(t,[{key:"destroy",value:function(){var t,n=h(this._listeners);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,3),i=r[0],a=r[1],o=r[2];i.removeEventListener(a,i===e.window.document?this.handleWindowEvent:this.handleEvent,o)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_addDefaultHandlers",value:function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Ci(t,e));var r=t.boxZoom=new Si(t,e);this._add("boxZoom",r);var i=new Ii,a=new Qi;t.doubleClickZoom=new Ki(a,i),this._add("tapZoom",i),this._add("clickZoom",a);var o=new Ji;this._add("tapDragZoom",o);var s=t.touchPitch=new Gi(t);this._add("touchPitch",s);var l=new Oi(e),u=new Di(e);t.dragRotate=new ea(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new zi(e),f=new Ri(t,e);t.dragPan=new $i(n,c,f),this._add("mousePan",c),this._add("touchPan",f,["touchZoom","touchRotate"]);var h=new Ni,d=new Ui;t.touchZoomRotate=new ta(n,d,h,o),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Ei(t));var p=t.scrollZoom=new Yi(t,this);this._add("scrollZoom",p,["mousePan"]);var m=t.keyboard=new Wi;this._add("keyboard",m);for(var v=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];v<y.length;v++){var g=y[v];e.interactive&&e[g]&&t[g].enable(e[g])}}},{key:"_add",value:function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}},{key:"stop",value:function(e){if(!this._updatingCamera){var t,n=h(this._handlers);try{for(n.s();!(t=n.n()).done;)t.value.handler.reset()}catch(r){n.e(r)}finally{n.f()}this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}},{key:"isActive",value:function(){var e,t=h(this._handlers);try{for(t.s();!(e=t.n()).done;)if(e.value.handler.isActive())return!0}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return!!na(this._eventsInProgress)||this.isZooming()}},{key:"_blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"handleWindowEvent",value:function(e){this.handleEvent(e,"".concat(e.type,"Window"))}},{key:"_getMapTouches",value:function(e){var t,n=[],r=h(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._el.contains(i.target)&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"handleEvent",value:function(e,t){this._updatingCamera=!0;var n,r="renderFrame"===e.type,i=r?void 0:e,a={needsRenderFrame:!1},o={},s={},l=e.touches?this._getMapTouches(e.touches):void 0,u=l?A(this._el,l):r?void 0:T(this._el,e),c=h(this._handlers);try{for(c.s();!(n=c.n()).done;){var f=n.value,d=f.handlerName,p=f.handler,m=f.allowed;if(p.isEnabled()){var v=void 0;this._blockedByActive(s,m,d)?p.reset():p[t||e.type]&&(v=p[t||e.type](e,u,l),this.mergeHandlerResult(a,o,v,d,i),v&&v.needsRenderFrame&&this._triggerRenderFrame()),(v||p.isActive())&&(s[d]=p)}}}catch(x){c.e(x)}finally{c.f()}var y={};for(var g in this._previousActiveHandlers)s[g]||(y[g]=i);this._previousActiveHandlers=s,(Object.keys(y).length||aa(a))&&(this._changes.push([a,o,y]),this._triggerRenderFrame()),(Object.keys(s).length||aa(a))&&this._map._stop(!0),this._updatingCamera=!1;var _=a.cameraAnimation;_&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],_(this._map))}},{key:"mergeHandlerResult",value:function(t,n,r,i,a){if(r){e.extend(t,r);var o={handlerName:i,originalEvent:r.originalEvent||a};void 0!==r.zoomDelta&&(n.zoom=o),void 0!==r.panDelta&&(n.drag=o),void 0!==r.pitchDelta&&(n.pitch=o),void 0!==r.bearingDelta&&(n.rotate=o)}}},{key:"_applyChanges",value:function(){var t,n={},r={},i={},a=h(this._changes);try{for(a.s();!(t=a.n()).done;){var o=f(t.value,3),s=o[0],l=o[1],u=o[2];s.panDelta&&(n.panDelta=(n.panDelta||new e.pointGeometry(0,0))._add(s.panDelta)),s.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(n.around=s.around),void 0!==s.aroundCoord&&(n.aroundCoord=s.aroundCoord),void 0!==s.pinchAround&&(n.pinchAround=s.pinchAround),s.noInertia&&(n.noInertia=s.noInertia),e.extend(r,l),e.extend(i,u)}}catch(c){a.e(c)}finally{a.f()}this._updateMapTransform(n,r,i),this._changes=[]}},{key:"_updateMapTransform",value:function(t,n,r){var i=this,a=this._map,o=a.transform,s=function(e){return[e.x,e.y,e.z]};if(function(e){var t=i._eventsInProgress.drag;return t&&!i._handlersById[t.handlerName].isActive()}()&&!aa(t)){var l=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",l!==o.zoom&&this._map._update(!0)}if(aa(t)){var u=t.panDelta,c=t.zoomDelta,f=t.bearingDelta,h=t.pitchDelta,d=t.around,p=t.aroundCoord,m=t.pinchAround;void 0!==m&&(d=m),n.drag&&!i._eventsInProgress.drag&&d&&(this._dragOrigin=s(o.pointCoordinate3D(d)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",a._stop(!0),d=d||a.transform.centerPoint,f&&(o.bearing+=f),h&&(o.pitch+=h),o._updateCameraState();var v=[0,0,0];if(u)if("mercator"===o.projection.name){var y=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(d).dir),g=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(d.sub(u)).dir);v[0]=g[0]-y[0],v[1]=g[1]-y[1]}else{var _=o.pointCoordinate(d);if("globe"===o.projection.name){u=u.rotate(-o.angle);var x=o._pixelsPerMercatorPixel/o.worldSize;v[0]=-u.x*e.mercatorScale(e.latFromMercatorY(_.y))*x,v[1]=-u.y*e.mercatorScale(o.center.lat)*x}else{var b=o.pointCoordinate(d.sub(u));_&&b&&(v[0]=b.x-_.x,v[1]=b.y-_.y)}}var w=o.zoom,k=[0,0,0];if(c){var C=s(p||o.pointCoordinate3D(d)),E={dir:e.normalize([],e.sub([],C,o._camera.position))};if(E.dir[2]<0){var S=o.zoomDeltaToMovement(C,c);e.scale$2(k,E.dir,S)}}var T=e.add(v,v,k);o._translateCameraConstrained(T),c&&Math.abs(o.zoom-w)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,r,!0)}else this._fireEvents(n,r,!0)}},{key:"_fireEvents",value:function(t,n,r){var i=this,a=na(this._eventsInProgress),o=na(t),s={};for(var l in t){var u=t[l].originalEvent;this._eventsInProgress[l]||(s["".concat(l,"start")]=u),this._eventsInProgress[l]=t[l]}for(var c in!a&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(c,s[c]);for(var f in o&&this._fireEvent("move",o.originalEvent),t){var h=t[f].originalEvent;this._fireEvent(f,h)}var d,p={};for(var m in this._eventsInProgress){var v=this._eventsInProgress[m],y=v.handlerName,g=v.originalEvent;this._handlersById[y].isActive()||(delete this._eventsInProgress[m],d=n[y]||g,p["".concat(m,"end")]=d)}for(var _ in p)this._fireEvent(_,p[_]);var x=na(this._eventsInProgress);if(r&&(a||o)&&!x){this._updatingCamera=!0;var b=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),w=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};b?(w(b.bearing||this._map.getBearing())&&(b.bearing=0),this._map.easeTo(b,{originalEvent:d})):(this._map.fire(new e.Event("moveend",{originalEvent:d})),w(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}},{key:"_requestFrame",value:function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){e._frameId=void 0,e.handleEvent(new ra("renderFrame",{timeStamp:t})),e._applyChanges()}))}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),t}(),sa="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.",la=function(t){m(r,t);var n=v(r);function r(t,a){var o;return d(this,r),(o=n.call(this))._moving=!1,o._zooming=!1,o.transform=t,o._bearingSnap=a.bearingSnap,e.bindAll(["_renderFrameCallback"],i(o)),o}return p(r,[{key:"getCenter",value:function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"panBy",value:function(t,n,r){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)}},{key:"panTo",value:function(t,n,r){return this.easeTo(e.extend({center:t},n),r)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomTo",value:function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)}},{key:"resetNorth",value:function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}},{key:"resetNorthPitch",value:function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"cameraForBounds",value:function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0,i=t.getNorthWest(),a=t.getSouthEast();return this._cameraForBounds(this.transform,i,a,r,n)}},{key:"_extendCameraOptions",value:function(t){var n={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){var r=t.padding;t.padding={top:r,bottom:r,right:r,left:r}}return t.padding=e.extend(n,t.padding),t}},{key:"_minimumAABBFrustumDistance",value:function(e,t){var n=t.max[0]-t.min[0],r=t.max[1]-t.min[1];return n/r>e.aspect?n/(2*Math.tan(.5*e.fovX)*e.aspect):r/(2*Math.tan(.5*e.fovY)*e.aspect)}},{key:"_cameraForBoundsOnGlobe",value:function(t,n,r,i,a){var o=t.clone(),s=this._extendCameraOptions(a);o.bearing=i;var l=e.LngLat.convert(n),u=e.LngLat.convert(r),c=.5*(l.lat+u.lat),f=.5*(l.lng+u.lng),h=e.latLngToECEF(c,f),d=e.normalize([],h),p=e.normalize([],e.cross([],d,[0,1,0])),m=e.cross([],p,d),v=[p[0],p[1],p[2],0,m[0],m[1],m[2],0,d[0],d[1],d[2],0,0,0,0,1],y=[h,e.latLngToECEF(l.lat,l.lng),e.latLngToECEF(u.lat,l.lng),e.latLngToECEF(u.lat,u.lng),e.latLngToECEF(l.lat,u.lng),e.latLngToECEF(c,l.lng),e.latLngToECEF(c,u.lng),e.latLngToECEF(l.lat,f),e.latLngToECEF(u.lat,f)],g=e.Aabb.fromPoints(y.map((function(t){return[e.dot(p,t),e.dot(m,t),e.dot(d,t)]}))),_=e.transformMat4([],g.center,v);0===e.squaredLength(_)&&e.set(_,0,0,1),e.normalize(_,_),e.scale$2(_,_,e.GLOBE_RADIUS),o.center=e.ecefToLatLng(_);var x=o.getWorldToCameraMatrix(),b=e.invert(new Float64Array(16),x);g=e.Aabb.applyTransform(g,e.multiply([],x,v)),e.transformMat4(_,_,x);var w=.5*(g.max[2]-g.min[2]),k=this._minimumAABBFrustumDistance(o,g),C=e.scale$2([],[0,0,1],w),E=e.add(C,_,C),S=k+(0===o.pitch?0:e.distance(_,E)),T=o.globeCenterInViewSpace,A=e.sub([],_,[T[0],T[1],T[2]]);e.normalize(A,A),e.scale$2(A,A,S);var M=e.add([],_,A);e.transformMat4(M,M,b);var I=e.earthRadius/e.GLOBE_RADIUS,P=e.length(M),L=e.mercatorZfromAltitude(P*I-e.earthRadius,0),z=Math.min(o.zoomFromMercatorZAdjusted(L),s.maxZoom);return z>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(o.setProjection({name:"mercator"}),o.zoom=z,this._cameraForBounds(o,n,r,i,a)):{center:o.center,zoom:z,bearing:i}}},{key:"queryTerrainElevation",value:function(t,n){var r=this.transform.elevation;return r?(n=e.extend({},{exaggerated:!0},n),r.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,n.exaggerated)):null}},{key:"_cameraForBounds",value:function(t,n,r,i,a){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,n,r,i,a);var o=t.clone(),s=this._extendCameraOptions(a),l=o.padding;o.bearing=i;var u=e.LngLat.convert(n),c=e.LngLat.convert(r),f=new e.LngLat(u.lng,c.lat),h=new e.LngLat(c.lng,u.lat),d=o.project(u),p=o.project(c),m=this.queryTerrainElevation(u),v=this.queryTerrainElevation(c),y=this.queryTerrainElevation(f),g=this.queryTerrainElevation(h),_=[[d.x,d.y,Math.min(m||0,v||0,y||0,g||0)],[p.x,p.y,Math.max(m||0,v||0,y||0,g||0)]],x=e.Aabb.fromPoints(_),b=o.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);x=e.Aabb.applyTransform(x,b);var k=e.sub([],x.max,x.min),C=l.left||0,E=l.right||0,S=l.bottom||0,T=l.top||0,A=s.padding,M=A.left,I=A.right,P=A.top,L=A.bottom,z=.5*(C+E),O=.5*(T+S),D=Math.min(o.scaleZoom(o.scale*Math.min((o.width-(C+E+M+I))/k[0],(o.height-(S+T+L+P))/k[1])),s.maxZoom),R=o.scale/o.zoomScale(D);x=new e.Aabb([x.min[0]-(M+z)*R,x.min[1]-(L+O)*R,x.min[2]],[x.max[0]+(I+z)*R,x.max[1]+(P+O)*R,x.max[2]]);var F=.5*k[2],B=this._minimumAABBFrustumDistance(o,x),j=[0,0,1,0];e.transformMat4$1(j,j,b),e.normalize$2(j,j);var U=e.scale$2([],j,B+F),Z=e.add([],x.center,U),N=("number"==typeof s.offset.x&&"number"==typeof s.offset.y?new e.pointGeometry(s.offset.x,s.offset.y):e.pointGeometry.convert(s.offset)).rotate(-e.degToRad(i));x.center[0]-=N.x*R,x.center[1]+=N.y*R,e.transformMat4(x.center,x.center,w),e.transformMat4(Z,Z,w);var V=[x.center[0],x.center[1],Z[2]*o.pixelsPerMeter];e.scale$2(V,V,1/o.worldSize);var G=e.lngFromMercatorX(V[0]),q=e.latFromMercatorY(V[1]),W=Math.min(o._zoomFromMercatorZ(V[2]),s.maxZoom),H=new e.LngLat(G,q);return o.mercatorFromTransition&&W<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(o.setProjection({name:"globe"}),o.zoom=W,this._cameraForBounds(o,n,r,i,a)):{center:H,zoom:W,bearing:i}}},{key:"fitBounds",value:function(e,t,n){var r=this.cameraForBounds(e,t);return this._fitInternal(r,t,n)}},{key:"fitScreenCoordinates",value:function(t,n,r,i,a){var o=e.pointGeometry.convert(t),s=e.pointGeometry.convert(n),l=new e.pointGeometry(Math.min(o.x,s.x),Math.min(o.y,s.y)),u=new e.pointGeometry(Math.max(o.x,s.x),Math.max(o.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(o,s))return this;var c=this.transform.pointLocation3D(l),f=this.transform.pointLocation3D(u),h=this.transform.pointLocation3D(new e.pointGeometry(l.x,u.y)),d=this.transform.pointLocation3D(new e.pointGeometry(u.x,l.y)),p=[Math.min(c.lng,f.lng,h.lng,d.lng),Math.min(c.lat,f.lat,h.lat,d.lat)],m=[Math.max(c.lng,f.lng,h.lng,d.lng),Math.max(c.lat,f.lat,h.lat,d.lat)],v=this._cameraForBounds(this.transform,p,m,r,i);return this._fitInternal(v,i,a)}},{key:"_fitInternal",value:function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}},{key:"jumpTo",value:function(t,n){this.stop();var r=t.preloadOnly?this.transform.clone():this.transform,i=!1,a=!1,o=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(a=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),t.preloadOnly?(this._preloadTiles(r),this):(this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),a&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),o&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)))}},{key:"getFreeCameraOptions",value:function(){return this.transform.projection.supportsFreeCamera||e.warnOnce(sa),this.transform.getFreeCameraOptions()}},{key:"setFreeCameraOptions",value:function(t,n){var r=this.transform;if(!r.projection.supportsFreeCamera)return e.warnOnce(sa),this;this.stop();var i=r.zoom,a=r.pitch,o=r.bearing;r.setFreeCameraOptions(t);var s=i!==r.zoom,l=a!==r.pitch,u=o!==r.bearing;return this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),s&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),u&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),l&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)),this}},{key:"easeTo",value:function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);var i,a,o,s=this.transform,l=this.getZoom(),u=this.getBearing(),c=this.getPitch(),f=this.getPadding(),h="zoom"in t?+t.zoom:l,d="bearing"in t?this._normalizeBearing(t.bearing,u):u,p="pitch"in t?+t.pitch:c,m="padding"in t?t.padding:s.padding,v=e.pointGeometry.convert(t.offset);if("globe"===s.projection.name){var y=e.MercatorCoordinate.fromLngLat(s.center),g=v.rotate(-s.angle);y.x+=g.x/s.worldSize,y.y+=g.y/s.worldSize;var _=y.toLngLat(),x=e.LngLat.convert(t.center||_);this._normalizeCenter(x),i=s.centerPoint.add(g),a=new e.pointGeometry(y.x,y.y).mult(s.worldSize),o=new e.pointGeometry(e.mercatorXfromLng(x.lng),e.mercatorYfromLat(x.lat)).mult(s.worldSize).sub(a)}else{i=s.centerPoint.add(v);var b=s.pointLocation(i),w=e.LngLat.convert(t.center||b);this._normalizeCenter(w),a=s.project(b),o=s.project(w).sub(a)}var k,C,E=s.zoomScale(h-l);t.around&&(k=e.LngLat.convert(t.around),C=s.locationPoint(k));var S=this._zooming||h!==l,T=this._rotating||u!==d,A=this._pitching||p!==c,M=!s.isPaddingEqual(m),I=function(s){return function(y){if(S&&(s.zoom=e.number(l,h,y)),T&&(s.bearing=e.number(u,d,y)),A&&(s.pitch=e.number(c,p,y)),M&&(s.interpolatePadding(f,m,y),i=s.centerPoint.add(v)),k)s.setLocationAtPoint(k,C);else{var g=s.zoomScale(s.zoom-l),_=h>l?Math.min(2,E):Math.max(.5,E),x=Math.pow(_,1-y),b=s.unproject(a.add(o.mult(y*x)).mult(g));s.setLocationAtPoint(s.renderWorldCopies?b.wrap():b,i)}return t.preloadOnly||r._fireMoveEvents(n),s}};if(t.preloadOnly){var P=this._emulate(I,t.duration,s);return this._preloadTiles(P),this}var L={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=S,this._rotating=T,this._pitching=A,this._padding=M,this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,L),this._ease(I(s),(function(e){s.recenterOnTerrain(),r._afterEase(n,e)}),t),this}},{key:"_prepareEase",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,this.transform.cameraElevationReference="sea",n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))}},{key:"_fireMoveEvents",value:function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}},{key:"_afterEase",value:function(t,n){if(!this._easeId||!n||this._easeId!==n){this._easeId=void 0,this.transform.cameraElevationReference="ground";var r=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}}},{key:"flyTo",value:function(t,n){var r=this;if(!t.essential&&e.exported.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,f="bearing"in t?this._normalizeBearing(t.bearing,s):s,h="pitch"in t?+t.pitch:l,d="padding"in t?t.padding:a.padding,p=a.zoomScale(c-o),m=e.pointGeometry.convert(t.offset),v=a.centerPoint.add(m),y=a.pointLocation(v),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var _=a.project(y),x=a.project(g).sub(_),b=t.curve,w=Math.max(a.width,a.height),k=w/p,C=x.mag();if("minZoom"in t){var E=e.clamp(Math.min(t.minZoom,o,c),a.minZoom,a.maxZoom),S=w/a.zoomScale(E-o);b=Math.sqrt(S/C*2)}var T=b*b;function A(e){var t=(k*k-w*w+(e?-1:1)*T*T*C*C)/(2*(e?k:w)*T*C);return Math.log(Math.sqrt(t*t+1)-t)}function M(e){return(Math.exp(e)-Math.exp(-e))/2}function I(e){return(Math.exp(e)+Math.exp(-e))/2}var P=A(0),L=function(e){return I(P)/I(P+b*e)},z=function(e){return w*((I(P)*(M(t=P+b*e)/I(t))-M(P))/T)/C;var t},O=(A(1)-P)/b;if(Math.abs(C)<1e-6||!isFinite(O)){if(Math.abs(w-k)<1e-6)return this.easeTo(t,n);var D=k<w?-1:1;O=Math.abs(Math.log(k/w))/b,z=function(){return 0},L=function(e){return Math.exp(D*b*e)}}t.duration="duration"in t?+t.duration:1e3*O/("screenSpeed"in t?+t.screenSpeed/b:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);var R=s!==f,F=h!==l,B=!a.isPaddingEqual(d),j=function(i){return function(a){var p=a*O,y=1/L(p);i.zoom=1===a?c:o+i.scaleZoom(y),R&&(i.bearing=e.number(s,f,a)),F&&(i.pitch=e.number(l,h,a)),B&&(i.interpolatePadding(u,d,a),v=i.centerPoint.add(m));var b=1===a?g:i.unproject(_.add(x.mult(z(p))).mult(y));return i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,v),i._updateCameraOnTerrain(),t.preloadOnly||r._fireMoveEvents(n),i}};if(t.preloadOnly){var U=this._emulate(j,t.duration,a);return this._preloadTiles(U),this}return this._zooming=!0,this._rotating=R,this._pitching=F,this._padding=B,this._prepareEase(n,!1),this._ease(j(a),(function(){return r._afterEase(n)}),t),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){var n=this._onEaseEnd;this._onEaseEnd=void 0,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this}},{key:"_ease",value:function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_renderFrameCallback",value:function(){var t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),n=this._onEaseFrame;n&&n(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}},{key:"_normalizeBearing",value:function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}},{key:"_normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.maxBounds){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}},{key:"_emulate",value:function(e,t,n){for(var r=Math.ceil(15*t/1e3),i=[],a=e(n.clone()),o=0;o<=r;o++){var s=a(o/r);i.push(s.clone())}return i}}]),r}(e.Evented),ua=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,t),this.options=n,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}return p(t,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g("button","mapboxgl-ctrl-attrib-button",this._container),g("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(e,t){var n=this._map._getUIString("AttributionControl.".concat(t));e.setAttribute("aria-label",n),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}},{key:"_toggleAttribution",value:function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}},{key:"_updateEditLink",value:function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+="".concat(t.key,"=").concat(t.value).concat(r<n.length-1?"&":"")),e}),"?");t.href="".concat(e.config.FEEDBACK_URL,"/").concat(r,"#").concat(hi(this._map,!0)),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}},{key:"_updateData",value:function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}},{key:"_updateAttributions",value:function(){if(this._map.style){var e=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style._sourceCaches;for(var r in n){var i=n[r];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length})),e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[].concat(c(this.options.customAttribution),c(e)):e.unshift(this.options.customAttribution));var o=e.join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}}},{key:"_updateCompact",value:function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}]),t}(),ca=function(){function t(){d(this,t),e.bindAll(["_updateLogo","_updateCompact"],this)}return p(t,[{key:"onAdd",value:function(e){this._map=e,this._container=g("div","mapboxgl-ctrl");var t=g("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}},{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_updateLogo",value:function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}},{key:"_logoRequired",value:function(){if(!this._map.style)return!0;var e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(var t in e){var n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}},{key:"_updateCompact",value:function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}]),t}(),fa=function(){function e(){d(this,e),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return p(e,[{key:"add",value:function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this._currentlyRunning,r=n?this._queue.concat(n):this._queue,i=h(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.id===e)return void(a.cancelled=!0)}}catch(o){i.e(o)}finally{i.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._currentlyRunning=this._queue;this._queue=[];var n,r=h(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(e),this._cleared))break}}catch(a){r.e(a)}finally{r.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),e}();function ha(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=360*Math.ceil(Math.abs(t.lng-r.center.lng)/360),s=r.locationPoint(t).distSqr(n),l=n.x<0||n.y<0||n.x>r.width||n.y>r.height;r.locationPoint(i).distSqr(n)<s&&(l||Math.abs(i.lng-r.center.lng)<o)?t=i:r.locationPoint(a).distSqr(n)<s&&(l||Math.abs(a.lng-r.center.lng)<o)&&(t=a)}for(;Math.abs(t.lng-r.center.lng)>180;){var u=r.locationPoint(t);if(u.x>=0&&u.y>=0&&u.x<=r.width&&u.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}var da={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},pa=function(t){m(r,t);var n=v(r);function r(t,a){var o;if(d(this,r),o=n.call(this),(t instanceof e.window.HTMLElement||a)&&(t=e.extend({element:t},a)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],i(o)),o._anchor=t&&t.anchor||"center",o._color=t&&t.color||"#3FB1CE",o._scale=t&&t.scale||1,o._draggable=t&&t.draggable||!1,o._clickTolerance=t&&t.clickTolerance||0,o._isDragging=!1,o._state="inactive",o._rotation=t&&t.rotation||0,o._rotationAlignment=t&&t.rotationAlignment||"auto",o._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",o._updateMoving=function(){return o._update(!0)},o._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)o._element=t.element,o._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{o._defaultMarker=!0,o._element=g("div");var s=41,u=27,c=_("svg",{display:"block",height:s*o._scale+"px",width:u*o._scale+"px",viewBox:"0 0 ".concat(u," ").concat(s)},o._element),f=_("radialGradient",{id:"shadowGradient"},_("defs",{},c));_("stop",{offset:"10%","stop-opacity":.4},f),_("stop",{offset:"100%","stop-opacity":.05},f),_("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},c),_("path",{fill:o._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},c),_("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},c),_("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},c),o._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}o._element.hasAttribute("aria-label")||o._element.setAttribute("aria-label","Map marker"),o._element.classList.add("mapboxgl-marker"),o._element.addEventListener("dragstart",(function(e){e.preventDefault()})),o._element.addEventListener("mousedown",(function(e){e.preventDefault()}));var h=o._element.classList;for(var p in da)h.remove("mapboxgl-marker-anchor-".concat(p));return h.add("mapboxgl-marker-anchor-".concat(o._anchor)),o._popup=null,l(o)}return p(r,[{key:"addTo",value:function(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}},{key:"remove",value:function(){var e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}},{key:"_onKeyPress",value:function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}},{key:"_onMapClick",value:function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}},{key:"_behindTerrain",value:function(){var e=this._map,t=this._pos;if(!e||!t)return!1;var n=e.unproject(t),r=e.getFreeCameraOptions();if(!r.position)return!1;var i=r.position.toLngLat();return i.distanceTo(n)<.9*i.distanceTo(this._lngLat)}},{key:"_evaluateOpacity",value:function(){var t=this._map;if(t){var n=this._pos;if(!n||n.x<0||n.x>t.transform.width||n.y<0||n.y>t.transform.height)this._clearFadeTimer();else{var r,i=t.unproject(n);t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(i),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity="".concat(r),this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}}}},{key:"_clearFadeTimer",value:function(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}},{key:"_updateDOM",value:function(){var e=this._pos;if(e&&this._map){var t=this._offset.mult(this._scale);this._element.style.transform="\n            translate(".concat(e.x,"px,").concat(e.y,"px)\n            ").concat(da[this._anchor],"\n            ").concat(this._calculateXYTransform()," ").concat(this._calculateZTransform(),"\n            translate(").concat(t.x,"px,").concat(t.y,"px)\n        ")}}},{key:"_calculateXYTransform",value:function(){var t=this._pos,n=this._map,r=this.getPitchAlignment();if(!n||!t||"map"!==r)return"";if(!n._showingGlobe()){var i=n.getPitch();return i?"rotateX(".concat(i,"deg)"):""}var a=e.radToDeg(e.globeTiltAtLngLat(n.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(n.transform)),s=Math.abs(o.x)+Math.abs(o.y);if(0===s)return"";var l=a/s;return"rotateX(".concat(-o.y*l,"deg) rotateY(").concat(o.x*l,"deg)")}},{key:"_calculateZTransform",value:function(){var t=this._pos,n=this._map;if(!n||!t)return"";var r=0,i=this.getRotationAlignment();if("map"===i)if(n._showingGlobe()){var a=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),o=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(a);r=e.radToDeg(Math.atan2(o.y,o.x))-90}else r=-n.getBearing();else if("horizon"===i){var s=e.smoothstep(4,6,n.getZoom()),l=e.globeCenterToScreenPoint(n.transform);l.y+=s*n.transform.height;var u=t.sub(l),c=e.radToDeg(Math.atan2(u.y,u.x));r=(c>90?c-270:c+90)*(1-s)}return(r+=this._rotation)?"rotateZ(".concat(r,"deg)"):""}},{key:"_update",value:function(t){var n=this;e.window.cancelAnimationFrame(this._updateFrameId);var r=this._map;r&&(r.transform.renderWorldCopies&&(this._lngLat=ha(this._lngLat,this._pos,r.transform)),this._pos=r.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((function(){n._element&&n._pos&&n._anchor&&(n._pos=n._pos.round(),n._updateDOM())})):this._pos=this._pos.round(),r._requestDomTask((function(){n._map&&(n._element&&n._pos&&n._anchor&&n._updateDOM(),(r._showingGlobe()||r.getTerrain()||r.getFog())&&!n._fadeTimer&&(n._fadeTimer=setTimeout(n._evaluateOpacity.bind(n),60)))})))}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}},{key:"_onMove",value:function(t){var n=this._map;if(n){var r=this._pointerdownPos,i=this._positionDelta;if(r&&i){if(!this._isDragging){var a=this._clickTolerance||n._clickTolerance;if(t.point.dist(r)<a)return;this._isDragging=!0}this._pos=t.point.sub(i),this._lngLat=n.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}}},{key:"_onUp",value:function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;var t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}},{key:"_addDragHandler",value:function(e){var t=this._map,n=this._pos;t&&n&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(n),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}},{key:"setDraggable",value:function(e){this._draggable=!!e;var t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(e){return this._rotation=e||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(e){return this._rotationAlignment=e||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}},{key:"setPitchAlignment",value:function(e){return this._pitchAlignment=e||"auto",this._update(),this}},{key:"getPitchAlignment",value:function(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}},{key:"setOccludedOpacity",value:function(e){return this._occludedOpacity=e||.2,this._update(),this}},{key:"getOccludedOpacity",value:function(){return this._occludedOpacity}}]),r}(e.Evented),ma={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},va=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ya(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e.pointGeometry(0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";if("number"==typeof t){var r=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(n){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(r,r);case"top-right":return new e.pointGeometry(-r,r);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(r,-r);case"bottom-right":return new e.pointGeometry(-r,-r);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[n]||[0,0])}var ga=function(){function t(e){d(this,t),this.jumpTo(e)}return p(t,[{key:"getValue",value:function(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;var n=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}},{key:"isEasing",value:function(e){return e>=this._startTime&&e<=this._endTime}},{key:"jumpTo",value:function(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}},{key:"easeTo",value:function(e,t,n){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+n}}]),t}(),_a={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},xa={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function ba(e){e.parentNode&&e.parentNode.removeChild(e)}var wa={showCompass:!0,showZoom:!0,visualizePitch:!1},ka=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(this,t),this._clickTolerance=10,this.element=r,this.mouseRotate=new Oi({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,i&&(this.mousePitch=new Di({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener("mousedown",this.mousedown),r.addEventListener("touchstart",this.touchstart,{passive:!1}),r.addEventListener("touchmove",this.touchmove),r.addEventListener("touchend",this.touchend),r.addEventListener("touchcancel",this.reset)}return p(t,[{key:"down",value:function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),k()}},{key:"move",value:function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t),i=r&&r.bearingDelta;if(i&&n.setBearing(n.getBearing()+i),this.mousePitch){var a=this.mousePitch.mousemoveWindow(e,t),o=a&&a.pitchDelta;o&&n.setPitch(n.getPitch()+o)}}},{key:"off",value:function(){var e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){C(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}},{key:"mousedown",value:function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),T(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}},{key:"mousemove",value:function(e){this.move(e,T(this.element,e))}},{key:"mouseup",value:function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}},{key:"touchstart",value:function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=A(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))}},{key:"touchmove",value:function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=A(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))}},{key:"touchend",value:function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}},{key:"reset",value:function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}]),t}(),Ca={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Ea={maxWidth:100,unit:"metric"};function Sa(e,t,n){var r=this,i=Ta(t),a=i/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[n];this._map._requestDomTask((function(){r._container.style.width=e*a+"px",r._container.innerHTML="".concat(i,"&nbsp;").concat(o)}))}function Ta(e){var t=Math.pow(10,"".concat(Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}var Aa={version:e.version,supported:n,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:function(t){m(c,t);var a=v(c);function c(t){var n;if(d(this,c),e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},xa,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),(n=a.call(this,new ui(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t))._interactive=t.interactive,n._minTileCacheSize=t.minTileCacheSize,n._maxTileCacheSize=t.maxTileCacheSize,n._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,n._preserveDrawingBuffer=t.preserveDrawingBuffer,n._antialias=t.antialias,n._trackResize=t.trackResize,n._bearingSnap=t.bearingSnap,n._refreshExpiredTiles=t.refreshExpiredTiles,n._fadeDuration=t.fadeDuration,n._isInitialLoad=!0,n._crossSourceCollisions=t.crossSourceCollisions,n._crossFadingFactor=1,n._collectResourceTiming=t.collectResourceTiming,n._optimizeForTerrain=t.optimizeForTerrain,n._language=n._parseLanguage(t.language),n._worldview=t.worldview,n._renderTaskQueue=new fa,n._domRenderTaskQueue=new fa,n._controls=[],n._markers=[],n._popups=[],n._mapId=e.uniqueId(),n._locale=e.extend({},_a,t.locale),n._clickTolerance=t.clickTolerance,n._cooperativeGestures=t.cooperativeGestures,n._performanceMetricsCollection=t.performanceMetricsCollection,n._containerWidth=0,n._containerHeight=0,n._averageElevationLastSampledAt=-1/0,n._averageElevationExaggeration=0,n._averageElevation=new ga(0),n._interactionRange=[1/0,-1/0],n._useExplicitProjection=!1,n._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),n._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(n._container=e.window.document.getElementById(t.container),!n._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");n._container=t.container}if(n._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&n.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],i(n)),n._setupContainer(),n._setupPainter(),void 0===n.painter)throw new Error("Failed to initialize WebGL.");return n.on("move",(function(){return n._update(!1)})),n.on("moveend",(function(){return n._update(!1)})),n.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",n._onWindowOnline,!1),e.window.addEventListener("resize",n._onWindowResize,!1),e.window.addEventListener("orientationchange",n._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",n._onWindowResize,!1)),n.handlers=new oa(i(n),t),n._localFontFamily=t.localFontFamily,n._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&n.setStyle(t.style,{localFontFamily:n._localFontFamily,localIdeographFontFamily:n._localIdeographFontFamily}),t.projection&&n.setProjection(t.projection),n._hash=t.hash&&new fi("string"==typeof t.hash&&t.hash||void 0).addTo(i(n)),n._hash&&n._hash._onHashChange()||(n.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(n.resize(),n.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),n.resize(),t.attributionControl&&n.addControl(new ua({customAttribution:t.customAttribution})),n._logoControl=new ca,n.addControl(n._logoControl,t.logoPosition),n.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),n.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event("".concat(t.dataType,"data"),t))})),n.on("dataloading",(function(t){n.fire(new e.Event("".concat(t.dataType,"dataloading"),t))})),l(n)}return p(c,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}},{key:"removeControl",value:function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}},{key:"hasControl",value:function(e){return this._controls.indexOf(e)>-1}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"resize",value:function(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));var n=!this._moving;return n&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),n&&this.fire(new e.Event("moveend",t)),this}},{key:"getBounds",value:function(){return"globe"===this.transform.projection.name&&e.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly when viewing the poles."'),this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()||null}},{key:"setMaxBounds",value:function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}},{key:"getLanguage",value:function(){return this._language}},{key:"_parseLanguage",value:function(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map((function(t){return"auto"===t?e.window.navigator.language:t})):t}},{key:"setLanguage",value:function(e){var t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();var n,r=h(this._controls);try{for(r.s();!(n=r.n()).done;){var i=n.value;i._setLanguage&&i._setLanguage(this._language)}}catch(a){r.e(a)}finally{r.f()}return this}},{key:"getWorldview",value:function(){return this._worldview}},{key:"setWorldview",value:function(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}},{key:"getProjection",value:function(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}},{key:"_showingGlobe",value:function(){return"globe"===this.transform.projection.name}},{key:"setProjection",value:function(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}},{key:"_updateProjectionTransition",value:function(){if("globe"===this.getProjection().name){var t,n=this.transform,r=n.projection.name;"globe"===r&&n.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(n.setMercatorFromTransition(),t=!0):"mercator"===r&&n.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(n.setProjection({name:"globe"}),t=!0),t&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}}},{key:"_prioritizeAndUpdateProjection",value:function(e,t){return this._updateProjection(e||t||{name:"mercator"})}},{key:"_updateProjection",value:function(t){var n;if(n="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),n){for(var r in this.painter.clearBackgroundTiles(),this.style._sourceCaches)this.style._sourceCaches[r].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}},{key:"project",value:function(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}},{key:"isMoving",value:function(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}},{key:"isZooming",value:function(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}},{key:"isRotating",value:function(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}},{key:"_createDelegatedListener",value:function(e,t,n){var i=this;if("mouseenter"===e||"mouseover"===e){var a=!1,o=function(r){var o=t.filter((function(e){return i.getLayer(e)})),s=o.length?i.queryRenderedFeatures(r.point,{layers:o}):[];s.length?a||(a=!0,n.call(i,new bi(e,i,r.originalEvent,{features:s}))):a=!1},s=function(){a=!1};return{layers:new Set(t),listener:n,delegates:{mousemove:o,mouseout:s}}}if("mouseleave"===e||"mouseout"===e){var l=!1,u=function(r){var a=t.filter((function(e){return i.getLayer(e)}));(a.length?i.queryRenderedFeatures(r.point,{layers:a}):[]).length?l=!0:l&&(l=!1,n.call(i,new bi(e,i,r.originalEvent)))},c=function(t){l&&(l=!1,n.call(i,new bi(e,i,t.originalEvent)))};return{layers:new Set(t),listener:n,delegates:{mousemove:u,mouseout:c}}}var f=function(e){var r=t.filter((function(e){return i.getLayer(e)})),a=r.length?i.queryRenderedFeatures(e.point,{layers:r}):[];a.length&&(e.features=a,n.call(i,e),delete e.features)};return{layers:new Set(t),listener:n,delegates:r({},e,f)}}},{key:"on",value:function(e,t,n){if(void 0===n)return o(s(c.prototype),"on",this).call(this,e,t);Array.isArray(t)||(t=[t]);var r=this._createDelegatedListener(e,t,n);for(var i in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r),r.delegates)this.on(i,r.delegates[i]);return this}},{key:"once",value:function(e,t,n){if(void 0===n)return o(s(c.prototype),"once",this).call(this,e,t);Array.isArray(t)||(t=[t]);var r=this._createDelegatedListener(e,t,n);for(var i in r.delegates)this.once(i,r.delegates[i]);return this}},{key:"off",value:function(e,t,n){var r=this;if(void 0===n)return o(s(c.prototype),"off",this).call(this,e,t);t=new Set(Array.isArray(t)?t:[t]);var i=function(e,t){if(e.size!==t.size)return!1;var n,r=h(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0},a=this._delegatedListeners?this._delegatedListeners[e]:void 0;return a&&function(e){for(var a=0;a<e.length;a++){var o=e[a];if(o.listener===n&&i(o.layers,t)){for(var s in o.delegates)r.off(s,o.delegates[s]);return e.splice(a,1),r}}}(a),this}},{key:"queryRenderedFeatures",value:function(t,n){return this.style?(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}},{key:"querySourceFeatures",value:function(e,t){return this.style.querySourceFeatures(e,t)}},{key:"setStyle",value:function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(t,n))}},{key:"_getUIString",value:function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}},{key:"_updateStyle",value:function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new pn(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new pn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}},{key:"_updateDiff",value:function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(u){e.warnOnce("Unable to perform style diff: ".concat(u.message||u.error||u,".  Rebuilding the style from scratch.")),this._updateStyle(t,n)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}},{key:"addSource",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}},{key:"isSourceLoaded",value:function(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}},{key:"areTilesLoaded",value:function(){var e=this.style&&this.style._sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0}},{key:"addSourceType",value:function(e,t,n){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}},{key:"removeSource",value:function(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}},{key:"getSource",value:function(e){return this.style.getSource(e)}},{key:"addImage",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.pixelRatio,a=void 0===i?1:i,o=r.sdf,s=void 0!==o&&o,l=r.stretchX,u=r.stretchY,c=r.content;if(this._lazyInitEmptyStyle(),n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap){var f=e.exported.getImageData(n),h=f.width,d=f.height,p=f.data;this.style.addImage(t,{data:new e.RGBAImage({width:h,height:d},p),pixelRatio:a,stretchX:l,stretchY:u,content:c,sdf:s,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{var m=n.width,v=n.height,y=n;this.style.addImage(t,{data:new e.RGBAImage({width:m,height:v},new Uint8Array(y.data)),pixelRatio:a,stretchX:l,stretchY:u,content:c,sdf:s,version:0,userImage:y}),y.onAdd&&y.onAdd(this,t)}}},{key:"updateImage",value:function(t,n){var r=this.style.getImage(t);if(r){var i=n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap?e.exported.getImageData(n):n,a=i.width,o=i.height;void 0!==a&&void 0!==o?a===r.data.width&&o===r.data.height?(r.data.replace(i.data,!(n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap)),this.style.updateImage(t,r)):this.fire(new e.ErrorEvent(new Error("The width and height of the updated image (".concat(a,", ").concat(o,")\n                must be that same as the previous version of the image\n                (").concat(r.data.width,", ").concat(r.data.height,")")))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}else this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")))}},{key:"hasImage",value:function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(e){this.style.removeImage(e)}},{key:"loadImage",value:function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(function(t,r){n(t,r instanceof e.window.HTMLImageElement?e.exported.getImageData(r):r)}))}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}},{key:"moveLayer",value:function(e,t){return this.style.moveLayer(e,t),this._update(!0)}},{key:"removeLayer",value:function(e){return this.style.removeLayer(e),this._update(!0)}},{key:"getLayer",value:function(e){return this.style.getLayer(e)}},{key:"setLayerZoomRange",value:function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}},{key:"getFilter",value:function(e){return this.style.getFilter(e)}},{key:"setPaintProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,r),this._update(!0)}},{key:"getPaintProperty",value:function(e,t){return this.style.getPaintProperty(e,t)}},{key:"setLayoutProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}},{key:"getLayoutProperty",value:function(e,t){return this.style.getLayoutProperty(e,t)}},{key:"setLight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setTerrain",value:function(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}},{key:"getTerrain",value:function(){return this.style?this.style.getTerrain():null}},{key:"setFog",value:function(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}},{key:"getFog",value:function(){return this.style?this.style.getFog():null}},{key:"_queryFogOpacity",value:function(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}},{key:"setFeatureState",value:function(e,t){return this.style.setFeatureState(e,t),this._update()}},{key:"removeFeatureState",value:function(e,t){return this.style.removeFeatureState(e,t),this._update()}},{key:"getFeatureState",value:function(e){return this.style.getFeatureState(e)}},{key:"_updateContainerDimensions",value:function(){if(this._container){for(var t,n,r,i=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300,o=this._container;o&&(!n||!r);){var s=e.window.getComputedStyle(o).transform;s&&"none"!==s&&((t=s.match(/matrix.*\((.+)\)/)[1].split(", "))[0]&&"0"!==t[0]&&"1"!==t[0]&&(n=t[0]),t[3]&&"0"!==t[3]&&"1"!==t[3]&&(r=t[3])),o=o.parentElement}this._containerWidth=n?Math.abs(i/n):i,this._containerHeight=r?Math.abs(a/r):a}}},{key:"_detectMissingCSS",value:function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}},{key:"_setupContainer",value:function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=g("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=g("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=g("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);var n=this._controlContainer=g("div","mapboxgl-control-container",e),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){r[e]=g("div","mapboxgl-ctrl-".concat(e),n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_resizeCanvas",value:function(t,n){var r=e.exported.devicePixelRatio||1;this._canvas.width=r*Math.ceil(t),this._canvas.height=r*Math.ceil(n),this._canvas.style.width="".concat(t,"px"),this._canvas.style.height="".concat(n,"px")}},{key:"_addMarker",value:function(e){this._markers.push(e)}},{key:"_removeMarker",value:function(e){var t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}},{key:"_addPopup",value:function(e){this._popups.push(e)}},{key:"_removePopup",value:function(e){var t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}},{key:"_setupPainter",value:function(){var t=this,r=e.extend({},n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);i?(e.storeAuthState(i,!0),this.painter=new Kr(i,this.transform),this.on("data",(function(e){"source"===e.dataType&&t.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(i)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}},{key:"_contextLost",value:function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}},{key:"_contextRestored",value:function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}},{key:"_onMapScroll",value:function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(e){return this._update(),this._renderTaskQueue.add(e)}},{key:"_cancelRenderFrame",value:function(e){this._renderTaskQueue.remove(e)}},{key:"_requestDomTask",value:function(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}},{key:"_render",value:function(t){var n,r=this,i=this.painter.context.extTimerQuery,a=e.exported.now();if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),!this._removed){this._updateProjectionTransition();var o=!1,s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;var l=this.transform.zoom,u=this.transform.pitch,c=e.exported.now();this.style.zoomHistory.update(l,c);var f=new e.EvaluationParameters(l,{now:c,fadeDuration:s,pitch:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),h=f.crossFadingFactor();1===h&&h===this._crossFadingFactor||(o=!0,this._crossFadingFactor=h),this.style.update(f)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);var d=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),d=this._updateAverageElevation(a),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):d=this._updateAverageElevation(a),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){var p=e.exported.now()-a;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:p,gpuTime:t})),e.window.performance.mark("frame-gpu",{startTime:a,detail:{gpuTime:t}})}),50)}if(this.listens("gpu-timing-layer")){var m=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(m);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}if(this.listens("gpu-timing-deferred-render")){var v=this.painter.collectDeferredRenderGpuQueries();setTimeout((function(){var t=r.painter.queryGpuTimeDeferredRender(v);r.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:t}))}),50)}var y=this._sourcesDirty||this._styleDirty||this._placementDirty||d;if(y||this._repaint)this.triggerRepaint();else{var g=!this.isMoving()&&this.loaded();if(g&&(d=this._updateAverageElevation(a,!0)),d)this.triggerRepaint();else if(this._triggerFrame(!1),g&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){var _=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:_})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||y||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.painter.transform.projection,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}}},{key:"_forceMarkerAndPopupUpdate",value:function(e){var t,n=h(this._markers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update()}}catch(s){n.e(s)}finally{n.f()}var i,a=h(this._popups);try{for(a.s();!(i=a.n()).done;){var o=i.value;!e||this.getRenderWorldCopies()||o._trackPointer||(o._lngLat=o._lngLat.wrap()),o._update()}}catch(s){a.e(s)}finally{a.f()}}},{key:"_updateAverageElevation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(e){return t.transform.averageElevation=e,t._update(!1),!0};if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&r(0);if((n||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){var i=this.transform.averageElevation,a=this.transform.sampleAverageElevation(),o=!1;this.transform.elevation&&(o=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(a)?a=0:this._averageElevationLastSampledAt=e;var s=Math.abs(i-a);if(s>1){if(this._isInitialLoad||o)return this._averageElevation.jumpTo(a),r(a);this._averageElevation.easeTo(a,e,300)}else if(s>1e-4)return this._averageElevation.jumpTo(a),r(a)}return!!this._averageElevation.isEasing(e)&&r(this._averageElevation.getValue(e))}},{key:"_authenticate",value:function(){var t=this;e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(n){if(n&&(n.message===e.AUTH_ERR_MSG||401===n.status)){var r=t.painter.context.gl;e.storeAuthState(r,!1),t._logoControl instanceof ca&&t._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),t._silenceAuthErrors||t.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(){}))}},{key:"_updateTerrain",value:function(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}},{key:"_calculateSpeedIndex",value:function(){var e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());var n=this.painter.context.gl,r=n.createFramebuffer();function i(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);var t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,r),this._canvasPixelComparison(i(e),t.canvasCopies.map(i),t.timeStamps)}},{key:"_canvasPixelComparison",value:function(e,t,n){for(var r=n[1]-n[0],i=e.length/4,a=0;a<t.length;a++){for(var o=t[a],s=0,l=0;l<o.length;l+=4)o[l]===e[l]&&o[l+1]===e[l+1]&&o[l+2]===e[l+2]&&o[l+3]===e[l+3]&&(s+=1);r+=(n[a+2]-n[a+1])*(1-s/i)}return r}},{key:"remove",value:function(){this._hash&&this._hash.remove();var t,n=h(this._controls);try{for(n.s();!(t=n.n()).done;)t.value.onRemove(this)}catch(i){n.e(i)}finally{n.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),ba(this._canvasContainer),ba(this._controlContainer),ba(this._missingCSSCanary),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}},{key:"triggerRepaint",value:function(){this._triggerFrame(!0)}},{key:"_triggerFrame",value:function(t){var n=this;this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((function(e){var t=!!n._renderNextFrame;n._frame=null,n._renderNextFrame=null,t&&n._render(e)})))}},{key:"_preloadTiles",value:function(t){var n=this,r=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(r,(function(e,n){return e._preloadTiles(t,n)}),(function(){n.triggerRepaint()})),this}},{key:"_onWindowOnline",value:function(){this._update()}},{key:"_onWindowResize",value:function(e){this._trackResize&&this.resize({originalEvent:e})._update()}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}},{key:"showTerrainWireframe",get:function(){return!!this._showTerrainWireframe},set:function(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}},{key:"speedIndexTiming",get:function(){return!!this._speedIndexTiming},set:function(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(e){this._showPadding!==e&&(this._showPadding=e,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(e){this._vertices=e,this._update()}},{key:"showTileAABBs",get:function(){return!!this._showTileAABBs},set:function(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}},{key:"_setCacheLimits",value:function(t,n){e.setCacheLimits(t,n)}},{key:"version",get:function(){return e.version}}]),c}(la),NavigationControl:function(){function t(n){var r=this;d(this,t),this.options=e.extend({},wa,n),this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){r._map&&r._map.zoomIn({},{originalEvent:e})})),g("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){r._map&&r._map.zoomOut({},{originalEvent:e})})),g("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){var t=r._map;t&&(r.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=g("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}return p(t,[{key:"_updateZoomButtons",value:function(){var e=this._map;if(e){var t=e.getZoom(),n=t===e.getMaxZoom(),r=t===e.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())}}},{key:"_rotateCompassArrow",value:function(){var e=this,t=this._map;if(t){var n=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(t.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(t.transform.pitch,"deg) rotateZ(").concat(t.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(t.transform.angle*(180/Math.PI),"deg)");t._requestDomTask((function(){e._compassIcon&&(e._compassIcon.style.transform=n)}))}}},{key:"onAdd",value:function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ka(e,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){var e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}},{key:"_createButton",value:function(e,t){var n=g("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}},{key:"_setButtonTitle",value:function(e,t){if(this._map){var n=this._map._getUIString("NavigationControl.".concat(t));e.setAttribute("aria-label",n),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}}}]),t}(),GeolocateControl:function(t){m(r,t);var n=v(r);function r(t){var a;return d(this,r),(a=n.call(this)).options=e.extend({geolocation:e.window.navigator.geolocation},Ca,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],i(a)),a._updateMarkerRotationThrottled=ci(a._updateMarkerRotation,20),a._numberOfWatches=0,a}return p(r,[{key:"onAdd",value:function(e){return this._map=e,this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}},{key:"_checkGeolocationSupport",value:function(t){var n=this,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!!n.options.geolocation;n._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){return r("denied"!==e.state)})).catch((function(){return r()})):r()}},{key:"_isOutOfMapMaxBounds",value:function(e){var t=this._map.getMaxBounds(),n=e.coords;return!!t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}},{key:"_onSuccess",value:function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}},{key:"_updateCamera",value:function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),a,{geolocateSource:!0})}},{key:"_updateMarker",value:function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}},{key:"_updateCircleRadius",value:function(){var t=this._map.transform,n=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,r=Math.ceil(2*this._accuracy*n);this._circleElement.style.width="".concat(r,"px"),this._circleElement.style.height="".concat(r,"px")}},{key:"_onZoom",value:function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}},{key:"_updateMarkerRotation",value:function(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}},{key:"_onError",value:function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}},{key:"_finish",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}},{key:"_setupUI",value:function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=g("button","mapboxgl-ctrl-geolocate",this._container),g("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{var i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g("div","mapboxgl-user-location"),this._dotElement.appendChild(g("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(g("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new pa({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=g("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new pa({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))}},{key:"_onDeviceOrientation",value:function(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}},{key:"trigger",value:function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(t={maximumAge:6e5,timeout:0},this._noTimeout=!0):(t=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,t),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_addDeviceOrientationListener",value:function(){var t=this,n=function(){e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&n()})).catch(console.error):n()}},{key:"_clearWatch",value:function(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),r}(e.Evented),AttributionControl:ua,ScaleControl:function(){function t(n){d(this,t),this.options=e.extend({},Ea,n),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=Sa.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}return p(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_update",value:function(){var e=this.options.maxWidth||100,t=this._map,n=t._containerHeight/2,r=t._containerWidth/2-e/2,i=t.unproject([r,n]),a=t.unproject([r+e,n]),o=i.distanceTo(a);if("imperial"===this.options.unit){var s=3.2808*o;s>5280?this._setScale(e,s/5280,"mile"):this._setScale(e,s,"foot")}else"nautical"===this.options.unit?this._setScale(e,o/1852,"nautical-mile"):o>=1e3?this._setScale(e,o/1e3,"kilometer"):this._setScale(e,o,"meter")}},{key:"_setScale",value:function(e,t,n){var r=this,i=Ta(t),a=i/t;this._map._requestDomTask((function(){r._container.style.width=e*a+"px",r._container.innerHTML="nautical-mile"!==n?new Intl.NumberFormat(r._language,{style:"unit",unitDisplay:"narrow",unit:n}).format(i):"".concat(i,"&nbsp;nm")}))}},{key:"onAdd",value:function(e){return this._map=e,this._language=e.getLanguage(),this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}},{key:"_setLanguage",value:function(e){this._language=e,this._update()}},{key:"setUnit",value:function(e){this.options.unit=e,this._update()}}]),t}(),FullscreenControl:function(){function t(n){d(this,t),this._fullscreen=!1,n&&n.container&&(n.container instanceof e.window.HTMLElement?this._container=n.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}return p(t,[{key:"onAdd",value:function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}},{key:"onRemove",value:function(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_checkFullscreenSupport",value:function(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}},{key:"_setupUI",value:function(){var t=this._fullscreenButton=g("button","mapboxgl-ctrl-fullscreen",this._controlContainer);g("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_updateTitle",value:function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_changeIcon",value:function(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}},{key:"_onClickFullscreen",value:function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}}]),t}(),Popup:function(t){m(r,t);var n=v(r);function r(t){var a;return d(this,r),(a=n.call(this)).options=e.extend(Object.create(ma),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],i(a)),a._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[]),a}return p(r,[{key:"addTo",value:function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"remove",value:function(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);var t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();var n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}},{key:"trackPointer",value:function(){this._trackPointer=!0,this._pos=null,this._update();var e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(t){return this.setDOMContent(e.window.document.createTextNode(t))}},{key:"setHTML",value:function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)}},{key:"getMaxWidth",value:function(){return this._container&&this._container.style.maxWidth}},{key:"setMaxWidth",value:function(e){return this.options.maxWidth=e,this._update(),this}},{key:"setDOMContent",value:function(e){var t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=g("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){var n=this._closeButton=g("button","mapboxgl-popup-close-button",t);n.type="button",n.setAttribute("aria-label","Close popup"),n.setAttribute("aria-hidden","true"),n.innerHTML="&#215;",n.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(e){return this._classList.add(e),this._updateClassList(),this}},{key:"removeClassName",value:function(e){return this._classList.delete(e),this._updateClassList(),this}},{key:"setOffset",value:function(e){return this.options.offset=e,this._update(),this}},{key:"toggleClassName",value:function(e){var t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}},{key:"_onMouseEvent",value:function(e){this._update(e.point)}},{key:"_getAnchor",value:function(e){if(this.options.anchor)return this.options.anchor;var t=this._map,n=this._container,r=this._pos;if(!t||!n||!r)return"bottom";var i=n.offsetWidth,a=n.offsetHeight,o=r.x<i/2,s=r.x>t.transform.width-i/2;if(r.y+e<a)return o?"top-left":s?"top-right":"top";if(r.y>t.transform.height-a){if(o)return"bottom-left";if(s)return"bottom-right"}return o?"left":s?"right":"bottom"}},{key:"_updateClassList",value:function(){var e=this._container;if(e){var t=c(this._classList);t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-".concat(this._anchor)),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}}},{key:"_update",value:function(t){var n=this,r=this._map,i=this._content;if(r&&(this._lngLat||this._trackPointer)&&i){var a=this._container;if(a||(a=this._container=g("div","mapboxgl-popup",r.getContainer()),this._tip=g("div","mapboxgl-popup-tip",a),a.appendChild(i)),this.options.maxWidth&&a.style.maxWidth!==this.options.maxWidth&&(a.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ha(this._lngLat,this._pos,r.transform)),!this._trackPointer||t){var o=this._pos=this._trackPointer&&t?t:r.project(this._lngLat),s=ya(this.options.offset),l=this._anchor=this._getAnchor(s.y),u=ya(this.options.offset,l),c=o.add(u).round();r._requestDomTask((function(){n._container&&l&&(n._container.style.transform="".concat(da[l]," translate(").concat(c.x,"px,").concat(c.y,"px)"))}))}if(!this._marker&&r._showingGlobe()){var f=e.isLngLatBehindGlobe(r.transform,this._lngLat)?0:1;this._setOpacity(f)}this._updateClassList()}}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(va);e&&e.focus()}}},{key:"_onClose",value:function(){this.remove()}},{key:"_setOpacity",value:function(e){this._container&&(this._container.style.opacity="".concat(e)),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}}]),r}(e.Evented),Marker:pa,Style:pn,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:ti,Evented:e.Evented,config:e.config,prewarm:function(){et().acquire(Je)},clearPrewarmedResources:function(){var e=Qe;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Je),Qe=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return $e.workerCount},set workerCount(e){$e.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return Aa})),n}()},3761:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),l=new t(512),u=new t(512);function c(e){return s.get(e)||s.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:c,setter:function(e){var t=c(e);return l.get(e)||l.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=c(e);return u.get(e)||u.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},3470:function(e,t,n){"use strict";var r=n(390),i=n(6124);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var R,F=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function Z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function N(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case E:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ce=null;function Ee(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function Me(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ae(e,t,n)}finally{Ie=!1,(null!==ke||null!==Ce)&&(Me(),Te())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){ze=!1}function De(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,Fe=null,Be=!1,je=null,Ue={onError:function(e){Re=!0,Fe=e}};function Ze(e,t,n,r,i,a,o,s,l){Re=!1,Fe=null,De.apply(Ue,arguments)}function Ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ne(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ne(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,kt,Ct,Et,St=!1,Tt=[],At=null,Mt=null,It=null,Pt=new Map,Lt=new Map,zt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ne(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function jt(e,t,n){Bt(e)&&n.delete(t)}function Ut(){St=!1,null!==At&&Bt(At)&&(At=null),null!==Mt&&Bt(Mt)&&(Mt=null),null!==It&&Bt(It)&&(It=null),Pt.forEach(jt),Lt.forEach(jt)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Nt(e){function t(t){return Zt(t,e)}if(0<Tt.length){Zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Zt(At,e),null!==Mt&&Zt(Mt,e),null!==It&&Zt(It,e),Pt.forEach(t),Lt.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Ft(n),null===n.blockedOn&&zt.shift()}var Vt=x.ReactCurrentBatchConfig,Gt=!0;function qt(e,t,n,r){var i=_t,a=Vt.transition;Vt.transition=null;try{_t=1,Ht(e,t,n,r)}finally{_t=i,Vt.transition=a}}function Wt(e,t,n,r){var i=_t,a=Vt.transition;Vt.transition=null;try{_t=4,Ht(e,t,n,r)}finally{_t=i,Vt.transition=a}}function Ht(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Xt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Rt(At,e,t,n,r,i),!0;case"dragenter":return Mt=Rt(Mt,e,t,n,r,i),!0;case"mouseover":return It=Rt(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Rt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Rt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=gi(e=be(r))))if(null===(t=Ne(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),fn=F({},un,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),mn=an(F({},dn,{dataTransfer:0})),vn=an(F({},fn,{relatedTarget:0})),yn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),xn=an(F({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Cn}var Sn=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),An=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Pn),zn=[9,13,27,32],On=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Dn,Fn=c&&(!On||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Xn(e){Br(e,0)}function Yn(e){if(H(xi(e)))return e}function Kn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];qn(t,Hn,e,be(e)),Pe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,gr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},kr={},Cr={};function Er(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Ar=Er("animationstart"),Mr=Er("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ir.set(e,t),l(t,[e])}for(var zr=0;zr<Pr.length;zr++){var Or=Pr[zr];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(Sr,"onAnimationEnd"),Lr(Tr,"onAnimationIteration"),Lr(Ar,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Mr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ze.apply(this,arguments),Re){if(!Re)throw Error(a(198));var c=Fe;Re=!1,Fe=null,Be||(Be=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,s,u),a=l}}}if(Be)throw e=je,Be=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[Zr]){e[Zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Sr:case Tr:case Ar:l=yn;break;case Mr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=Le(p,h))&&c.push(qr(p,m,d)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(f=Ne(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==l?s:xi(l),d=null==u?s:xi(u),(s=new c(m,p+"leave",l,n,i)).target=f,s.relatedTarget=d,m=null,gi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=d,c.relatedTarget=f,m=c),f=m,l&&u)e:{for(h=u,p=0,d=c=l;d;d=Hr(d))p++;for(d=0,m=h;m;m=Hr(m))d++;for(;0<p-d;)c=Hr(c),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Hr(c),h=Hr(h)}c=null}else c=null;null!==l&&Xr(o,s,l,c,!1),null!==u&&null!==f&&Xr(o,f,u,c,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Kn;else if(Gn(s))if(Qn)v=or;else{v=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?qn(o,v,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(vr=y,yr=r,gr=null);break;case"focusout":gr=yr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Nn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Nn&&(g=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Nn=!0)),0<(y=Wr(r,_)).length&&(_=new xn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Zn(n))&&(_.data=g))),(g=Rn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Bn);case"textInput":return(e=t.data)===Bn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),$t=Jt=Qt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Br(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Le(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Le(n,a))&&o.unshift(qr(n,l,s)):i||null!=(l=Le(n,a))&&o.push(qr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Nt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Nt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,mi="__reactEvents$"+fi,vi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var wi=[],ki=-1;function Ci(e){return{current:e}}function Ei(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Si(e,t){ki++,wi[ki]=e.current,e.current=t}var Ti={},Ai=Ci(Ti),Mi=Ci(!1),Ii=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zi(){Ei(Mi),Ei(Ai)}function Oi(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Si(Ai,t),Si(Mi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return F({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ii=Ai.current,Si(Ai,e),Si(Mi,Mi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ei(Mi),Ei(Ai),Si(Ai,e)):Ei(Mi),Si(Mi,n)}var Bi=null,ji=!1,Ui=!1;function Zi(e){null===Bi?Bi=[e]:Bi.push(e)}function Ni(){if(!Ui&&null!==Bi){Ui=!0;var e=0,t=_t;try{var n=Bi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,ji=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),He($e,Ni),i}finally{_t=t,Ui=!1}}return null}var Vi=[],Gi=0,qi=null,Wi=0,Hi=[],Xi=0,Yi=null,Ki=1,Qi="";function Ji(e,t){Vi[Gi++]=Wi,Vi[Gi++]=qi,qi=e,Wi=t}function $i(e,t,n){Hi[Xi++]=Ki,Hi[Xi++]=Qi,Hi[Xi++]=Yi,Yi=e;var r=Ki;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Ki=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===qi;)qi=Vi[--Gi],Vi[Gi]=null,Wi=Vi[--Gi],Vi[Gi]=null;for(;e===Yi;)Yi=Hi[--Xi],Hi[Xi]=null,Qi=Hi[--Xi],Hi[Xi]=null,Ki=Hi[--Xi],Hi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ki,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ui(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,_a=null,xa=null;function ba(){xa=_a=ga=null}function wa(e){var t=ya.current;Ei(ya),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,xa=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var f=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=f}}function Ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Za={isMounted:function(e){return!!(e=e._reactInternals)&&Ne(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=za(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nu(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=za(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nu(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=za(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nu(t,e,r,n),Da(t,e,r))}};function Na(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Li(t)?Ii:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Za.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Li(t)?Ii:Ai.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Xa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Du(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=Bu(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case L:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=d(i,f,s[m],l);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,f=v}if(m===s.length)return n(i,f),ia&&Ji(i,m),u;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return ia&&Ji(i,m),u}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),u}function v(i,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,v=s=0,y=null,g=l.next();null!==m&&!g.done;v++,g=l.next()){m.index>v?(y=m,m=null):y=m.sibling;var _=d(i,m,g.value,u);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===f?c=_:f.sibling=_,f=_,m=y}if(g.done)return n(i,m),ia&&Ji(i,v),c;if(null===m){for(;!g.done;v++,g=l.next())null!==(g=h(i,g.value,u))&&(s=o(g,s,v),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,v),c}for(m=r(i,m);!g.done;v++,g=l.next())null!==(g=p(m,i,v,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=o(g,s,v),null===f?c=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&Xa(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Du(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Ou(o.type,o.key,o.props,null,r.mode,l)).ref=Wa(r,a,o),l.return=r,r=l)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bu(o,r.mode,l)).return=r,r=a}return s(r);case L:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(D(o))return v(r,a,o,l);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Ka=Ya(!0),Qa=Ya(!1),Ja={},$a=Ci(Ja),eo=Ci(Ja),to=Ci(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Si($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=le(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var so=Ci(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=x.ReactCurrentDispatcher,ho=x.ReactCurrentBatchConfig,po=0,mo=null,vo=null,yo=null,go=!1,_o=!1,xo=0,bo=0;function wo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),_o){o=0;do{if(_o=!1,xo=0,25<=o)throw Error(a(301));o+=1,yo=vo=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(_o)}if(fo.current=os,t=null!==vo&&null!==vo.next,po=0,yo=vo=mo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==xo;return xo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function Ao(e,t){return"function"===typeof t?t(e):t}function Mo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((po&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,mo.lanes|=f,Rl|=f}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Lo(e,t){var n=mo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Go(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(a(349));0!==(30&po)||zo(n,t,i)}return i}function zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Fo(e)}function Do(e,t,n){return n((function(){Ro(t)&&Fo(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ma(e,1);null!==t&&nu(t,e,1,-1)}function Bo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Zo(e,t,n,r){var i=So();mo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function No(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}mo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Vo(e,t){return Zo(8390656,8,e,t)}function Go(e,t){return No(2048,8,e,t)}function qo(e,t){return No(4,2,e,t)}function Wo(e,t){return No(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Ko(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Rl|=n,e.baseState=!0),t)}function $o(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){nu(n,e,r,eu()),as(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ta(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Aa(e,t,i,r))&&(nu(n,e,r,i=eu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Bo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ml)throw Error(a(349));0!==(30&po)||zo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Do.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ml.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Ki&~(1<<32-ot(Ki)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Ko,useContext:Ea,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Mo,useRef:Uo,useState:function(){return Mo(Ao)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),vo.memoizedState,e)},useTransition:function(){return[Mo(Ao)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Ko,useContext:Ea,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Io,useRef:Uo,useState:function(){return Io(Ao)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===vo?t.memoizedState=e:Jo(t,vo.memoizedState,e)},useTransition:function(){return[Io(Ao)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,ql=r),hs(0,t)},n}function ms(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=x.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Ka(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=Eo(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=zu(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(zl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(zl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(zl,Ll),Ll|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(zl,Ll),Ll|=r;return bs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Li(n)?Ii:Ai.current;return a=Pi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=Eo(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function As(e,t,n,r,i){if(Li(n)){var a=!0;Ri(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Vs(e,t),Va(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ea(u):u=Pi(t,u=Li(n)?Ii:Ai.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Ga(t,o,r,u),Ia=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Mi.current||Ia?("function"===typeof c&&(Ua(t,n,c,r),l=t.memoizedState),(s=Ia||Na(t,n,s,r,h,l,u))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:va(t.type,s),o.props=u,f=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Pi(t,l=Li(n)?Ii:Ai.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==l)&&Ga(t,o,r,l),Ia=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Mi.current||Ia?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(u=Ia||Na(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,a,i)}function Ms(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Ls,zs,Os,Ds={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Ru(l,i,0,null),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ds,e):Bs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ru({mode:"visible",children:r.children},i,0,null),(o=Du(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ka(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,js(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Ml)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ma(e,i),nu(r,e,i,-1))}return mu(),js(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Xi++]=Ki,Hi[Xi++]=Qi,Hi[Xi++]=Yi,Ki=e.id,Qi=e.overflow,Yi=t),(t=Bs(t,r.children)).flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=zu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=zu(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=zu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&pa(r),Ka(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,a);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Li(t.type)&&zi(),Ws(t),null;case 3:return r=t.stateNode,io(),Ei(Mi),Ei(Ai),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)zs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":K(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var l in ge(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,Ls(e,t),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":K(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&_(e,o,c,l))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ol&&(Ol=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),null===e&&Nr(t.stateNode.containerInfo),Ws(t),null;case 10:return wa(t.type._context),Ws(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Nl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Qe()-o.renderingStartTime>Nl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Mi),Ei(Ai),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Ks=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[mi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ks||$s(n,t);case 6:var r=cl,i=fl;cl=null,hl(e,t,n),fl=i,null!==(cl=r)&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Nt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=fl,cl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),cl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ks&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,fl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));dl(o,s,i),cl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){Cu(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Cu(e,e.return,v)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){Cu(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(i,o),_e(l,s);var c=_e(l,o);for(s=0;s<u.length;s+=2){var f=u[s],h=u[s+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):_(i,f,h,c)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){Cu(e,e.return,v)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Cu(e,e.return,v)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nt(t.containerInfo)}catch(v){Cu(e,e.return,v)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Zl=Qe())),4&r&&pl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||f,ml(t,e),Ks=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:$s(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Cu(r,n,v)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){bl(h);continue}}null!==p?(p.return=d,Js=p):bl(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(v){Cu(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Cu(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Cu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Js=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Ys;var u=Ks;if(Ys=o,(Ks=l)&&!u)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,Js=l):wl(i);for(;null!==a;)Js=a,_l(a,t,n),a=a.sibling;Js=i,Ys=s,Ks=u}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ba(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ba(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Nt(h)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&il(t)}catch(d){Cu(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function bl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Cu(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Cu(t,o,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Cl=Math.ceil,El=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,Al=0,Ml=null,Il=null,Pl=0,Ll=0,zl=Ci(0),Ol=0,Dl=null,Rl=0,Fl=0,Bl=0,jl=null,Ul=null,Zl=0,Nl=1/0,Vl=null,Gl=!1,ql=null,Wl=null,Hl=!1,Xl=null,Yl=0,Kl=0,Ql=null,Jl=-1,$l=0;function eu(){return 0!==(6&Al)?Qe():-1!==Jl?Jl:Jl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==ma.transition?(0===$l&&($l=mt()),$l):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,r){if(50<Kl)throw Kl=0,Ql=null,Error(a(185));yt(e,n,r),0!==(2&Al)&&e===Ml||(e===Ml&&(0===(2&Al)&&(Fl|=n),4===Ol&&su(e,Pl)),ru(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Nl=Qe()+500,ji&&Ni()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ml?Pl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){ji=!0,Zi(e)}(lu.bind(null,e)):Zi(lu.bind(null,e)),oi((function(){0===(6&Al)&&Ni()})),n=null;else{switch(xt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,$l=0,0!==(6&Al))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ht(e,e===Ml?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Al;Al|=2;var o=pu();for(Ml===e&&Pl===t||(Vl=null,Nl=Qe()+500,hu(e,t));;)try{gu();break}catch(l){du(e,l)}ba(),El.current=o,Al=i,null!==Il?t=0:(Ml=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Dl,hu(e,0),su(e,r),ru(e,Qe()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(o=pt(e))&&(r=o,t=au(e,o))),1===t))throw n=Dl,hu(e,0),su(e,r),ru(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bu(e,Ul,Vl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Zl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bu.bind(null,e,Ul,Vl),t);break}bu(e,Ul,Vl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(bu.bind(null,e,Ul,Vl),r);break}bu(e,Ul,Vl);break;default:throw Error(a(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Ul,Ul=n,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function su(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Al))throw Error(a(327));wu();var t=ht(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Dl,hu(e,0),su(e,t),ru(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,Ul,Vl),ru(e,Qe()),null}function uu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Nl=Qe()+500,ji&&Ni())}}function cu(e){null!==Xl&&0===Xl.tag&&0===(6&Al)&&wu();var t=Al;Al|=1;var n=Tl.transition,r=_t;try{if(Tl.transition=null,_t=1,e)return e()}finally{_t=r,Tl.transition=n,0===(6&(Al=t))&&Ni()}}function fu(){Ll=zl.current,Ei(zl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&zi();break;case 3:io(),Ei(Mi),Ei(Ai),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Ml=e,Il=e=zu(e.current,null),Pl=Ll=t,Ol=0,Dl=null,Bl=Fl=Rl=0,Ul=jl=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function du(e,t){for(;;){var n=Il;try{if(ba(),fo.current=os,go){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=vo=mo=null,_o=!1,xo=0,Sl.current=null,null===n||null===n.return){Ol=1,Dl=t,Il=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,f=l,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&vs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){vs(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Ol&&(Ol=2),null===jl?jl=[o]:jl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,ps(0,u,t));break e;case 1:l=u;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wl||!Wl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}xu(n)}catch(x){t=x,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pu(){var e=El.current;return El.current=os,null===e?os:e}function mu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Ml||0===(268435455&Rl)&&0===(268435455&Fl)||su(Ml,Pl)}function vu(e,t){var n=Al;Al|=2;var r=pu();for(Ml===e&&Pl===t||(Vl=null,hu(e,t));;)try{yu();break}catch(i){du(e,i)}if(ba(),Al=n,El.current=r,null!==Il)throw Error(a(261));return Ml=null,Pl=0,Ol}function yu(){for(;null!==Il;)_u(Il)}function gu(){for(;null!==Il&&!Ye();)_u(Il)}function _u(e){var t=kl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?xu(e):Il=t,Sl.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hs(n,t,Ll)))return void(Il=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Ol=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Ol&&(Ol=5)}function bu(e,t,n){var r=_t,i=Tl.transition;try{Tl.transition=null,_t=1,function(e,t,n,r){do{wu()}while(null!==Xl);if(0!==(6&Al))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ml&&(Il=Ml=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Mu(tt,(function(){return wu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var s=_t;_t=1;var l=Al;Al|=4,Sl.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(l=s),d===o&&++f===r&&(u=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,y=m.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(b){Cu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,gl(n,e,i),Ke(),Al=l,_t=s,Tl.transition=o}else e.current=n;if(Hl&&(Hl=!1,Xl=e,Yl=i),0===(o=e.pendingLanes)&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&wu(),0!==(1&(o=e.pendingLanes))?e===Ql?Kl++:(Kl=0,Ql=e):Kl=0,Ni()}(e,t,n,r)}finally{Tl.transition=i,_t=r}return null}function wu(){if(null!==Xl){var e=xt(Yl),t=Tl.transition,n=_t;try{if(Tl.transition=null,_t=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Al))throw Error(a(331));var i=Al;for(Al|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nl(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(al(f),f===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var _=e.current;for(Js=_;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=_;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Cu(l,l.return,w)}if(l===s){Js=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Js=b;break e}Js=l.return}}if(Al=i,Ni(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Tl.transition=t}}return!1}function ku(e,t,n){e=Oa(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Oa(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Qe()-Zl?hu(e,0):Bl|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ma(e,t))&&(yt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Su(e,n)}function Mu(e,t){return He(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Iu(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Lu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Du(n.children,i,o,t);case C:s=8,i|=8;break;case E:return(e=Pu(12,n,t,2|i)).elementType=E,e.lanes=o,e;case M:return(e=Pu(13,n,t,i)).elementType=M,e.lanes=o,e;case I:return(e=Pu(19,n,t,i)).elementType=I,e.lanes=o,e;case z:return Ru(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case A:s=11;break e;case P:s=14;break e;case L:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,a,o,s,l){return e=new ju(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nu(e){if(!e)return Ti;e:{if(Ne(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Di(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=Uu(n,r,!0,e,0,a,0,s,l)).context=Nu(null),n=e.current,(a=za(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Gu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Nu(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nu(e,i,o,a),Da(e,i,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),da();break;case 5:ao(t);break;case 1:Li(t.type)&&Ri(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ns(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Gs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Pi(t,Ai.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Za,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=Ms(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=va(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Mi.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=za(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ka(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ea(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),ks(e,t,r,i=va(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Vs(e,t),t.tag=1,Li(r)?(e=!0,Ri(t)):e=!1,Ca(t,n),Va(t,r,i),qa(t,r,i,n),Ms(null,t,r,!0,e,n);case 19:return Ns(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Xu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=qu(o);s.call(e)}}Gu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[pi]=o.current,Nr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[pi]=l.current,Nr(8===e.nodeType?e.parentNode:e),cu((function(){Gu(t,l,n,r)})),l}(n,t,e,i,r);return qu(o)}Ku.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gu(e,t,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Gu(null,e,null,null)})),t[pi]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ru(t,Qe()),0===(6&Al)&&(Nl=Qe()+500,Ni()))}break;case 13:cu((function(){var t=Ma(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Hu(e,1)}},wt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Ma(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Ct=function(){return _t},Et=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,Me=cu;var tc={usingClientEntryPoint:!1,Events:[_i,xi,bi,Se,Te,uu]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return Zu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=Xu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Nr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Nr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ku(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},8254:function(e,t,n){"use strict";var r=n(6599);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},6599:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(3470)},3647:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case u:case f:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===o||e===h||e===d||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=y},557:function(e,t,n){"use strict";e.exports=n(3647)},1750:function(e,t,n){"use strict";n.d(t,{zt:function(){return _},I0:function(){return E},v9:function(){return m}});var r=n(9809),i=n(1762),a=n(6599);var o=function(e){e()},s=function(){return o},l=n(390),u=(0,l.createContext)(null);function c(){return(0,l.useContext)(u)}var f=function(){throw new Error("uSES not initialized!")},h=f,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=e===u?c:function(){return(0,l.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var r=t(),i=r.store,a=r.subscription,o=r.getServerState,s=h(a.addNestedSub,i.getState,o||i.getState,e,n);return(0,l.useDebugValue)(s),s}}var m=p();n(7178),n(557);var v={notify:function(){},get:function(){return[]}};function y(e,t){var n,r=v;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=v)},getListeners:function(){return r}};return o}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?l.useLayoutEffect:l.useEffect;var _=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,a=(0,l.useMemo)((function(){var e=y(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),o=(0,l.useMemo)((function(){return t.getState()}),[t]);g((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,o]);var s=n||u;return l.createElement(s.Provider,{value:a},r)};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=e===u?c:function(){return(0,l.useContext)(e)};return function(){return t().store}}var b=x();function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=e===u?b:x(e);return function(){return t().dispatch}}var k,C,E=w();k=i.useSyncExternalStoreWithSelector,h=k,function(e){e}(r.useSyncExternalStore),C=a.unstable_batchedUpdates,o=C},5400:function(e,t,n){"use strict";n.d(t,{OL:function(){return d},VK:function(){return f},rU:function(){return h}});var r=n(885),i=n(390),a=n(5545),o=n(5136);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],c=["aria-current","caseSensitive","className","end","style","to","children"];function f(e){var t=e.basename,n=e.children,s=e.window,l=i.useRef();null==l.current&&(l.current=(0,o.lX)({window:s,v5Compat:!0}));var u=l.current,c=i.useState({action:u.action,location:u.location}),f=(0,r.Z)(c,2),h=f[0],d=f[1];return i.useLayoutEffect((function(){return u.listen(d)}),[u]),i.createElement(a.F0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u})}var h=i.forwardRef((function(e,t){var n=e.onClick,r=e.relative,c=e.reloadDocument,f=e.replace,h=e.state,d=e.target,p=e.to,m=e.preventScrollReset,v=l(e,u),y=(0,a.oQ)(p,{relative:r}),g=function(e,t){var n=void 0===t?{}:t,r=n.target,s=n.replace,l=n.state,u=n.preventScrollReset,c=n.relative,f=(0,a.s0)(),h=(0,a.TH)(),d=(0,a.WU)(e,{relative:c});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==s?s:(0,o.Ep)(h)===(0,o.Ep)(d);f(e,{replace:n,state:l,preventScrollReset:u,relative:c})}}),[h,f,d,s,l,r,e,u,c])}(p,{replace:f,state:h,target:d,preventScrollReset:m,relative:r});return i.createElement("a",s({},v,{href:y,onClick:c?n:function(e){n&&n(e),e.defaultPrevented||g(e)},ref:t,target:d}))}));var d=i.forwardRef((function(e,t){var n,r=e["aria-current"],u=void 0===r?"page":r,f=e.caseSensitive,d=void 0!==f&&f,p=e.className,m=void 0===p?"":p,v=e.end,y=void 0!==v&&v,g=e.style,_=e.to,x=e.children,b=l(e,c),w=(0,a.WU)(_),k=(0,a.bS)({path:w.pathname,end:y,caseSensitive:d}),C=i.useContext(a.FR),E=null==C?void 0:C.navigation.location,S=(0,a.WU)(E||""),T=null!=i.useMemo((function(){return E?(0,o.LX)({path:w.pathname,end:y,caseSensitive:d},S.pathname):null}),[E,w.pathname,d,y,S.pathname]),A=null!=k,M=A?u:void 0;n="function"===typeof m?m({isActive:A,isPending:T}):[m,A?"active":null,T?"pending":null].filter(Boolean).join(" ");var I="function"===typeof g?g({isActive:A,isPending:T}):g;return i.createElement(h,s({},b,{"aria-current":M,className:n,ref:t,style:I,to:_}),"function"===typeof x?x({isActive:A,isPending:T}):x)}));var p,m;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(p||(p={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(m||(m={}))},5545:function(e,t,n){"use strict";var r;n.d(t,{AW:function(){return V},F0:function(){return G},FR:function(){return b},TH:function(){return M},UO:function(){return z},WU:function(){return O},Z5:function(){return q},bS:function(){return I},oQ:function(){return T},s0:function(){return L}});var i=n(2982),a=n(5671),o=n(3144),s=n(136),l=n(7277),u=n(885),c=n(5136),f=n(390);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var d="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},p=f.useState,m=f.useEffect,v=f.useLayoutEffect,y=f.useDebugValue;function g(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!d(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,(r||(r=n.t(f,2))).useSyncExternalStore;var _=f.createContext(null);var x=f.createContext(null);var b=f.createContext(null);var w=f.createContext(null);var k=f.createContext(null);var C=f.createContext(null);var E=f.createContext({outlet:null,matches:[]});var S=f.createContext(null);function T(e,t){var n=(void 0===t?{}:t).relative;A()||(0,c.kG)(!1);var r=f.useContext(k),i=r.basename,a=r.navigator,o=O(e,{relative:n}),s=o.hash,l=o.pathname,u=o.search,h=l;return"/"!==i&&(h="/"===l?i:(0,c.RQ)([i,l])),a.createHref({pathname:h,search:u,hash:s})}function A(){return null!=f.useContext(C)}function M(){return A()||(0,c.kG)(!1),f.useContext(C).location}function I(e){A()||(0,c.kG)(!1);var t=M().pathname;return f.useMemo((function(){return(0,c.LX)(e,t)}),[t,e])}function P(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function L(){A()||(0,c.kG)(!1);var e=f.useContext(k),t=e.basename,n=e.navigator,r=f.useContext(E).matches,i=M().pathname,a=JSON.stringify(P(r).map((function(e){return e.pathnameBase}))),o=f.useRef(!1);return f.useEffect((function(){o.current=!0})),f.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var s=(0,c.pC)(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(s.pathname="/"===s.pathname?t:(0,c.RQ)([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)}else n.go(e)}),[t,n,a,i])}function z(){var e=f.useContext(E).matches,t=e[e.length-1];return t?t.params:{}}function O(e,t){var n=(void 0===t?{}:t).relative,r=f.useContext(E).matches,i=M().pathname,a=JSON.stringify(P(r).map((function(e){return e.pathnameBase})));return f.useMemo((function(){return(0,c.pC)(e,JSON.parse(a),i,"path"===n)}),[e,a,i,n])}function D(){var e=function(){var e,t=f.useContext(S),n=Z(F.UseRouteError),r=f.useContext(E),i=r.matches[r.matches.length-1];if(t)return t;return r||(0,c.kG)(!1),!i.route.id&&(0,c.kG)(!1),null==(e=n.errors)?void 0:e[i.route.id]}(),t=(0,c.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unhandled Thrown Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:i},n):null,f.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",f.createElement("code",{style:a},"errorElement")," props on\xa0",f.createElement("code",{style:a},"<Route>")))}var R,F,B=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?f.createElement(S.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(f.Component);function j(e){var t=e.routeContext,n=e.match,r=e.children,i=f.useContext(_);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),f.createElement(E.Provider,{value:t},r)}function U(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||(0,c.kG)(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,o){var s=a.route.id?null==i?void 0:i[a.route.id]:null,l=n?a.route.errorElement||f.createElement(D,null):null,u=function(){return f.createElement(j,{match:a,routeContext:{outlet:e,matches:t.concat(r.slice(0,o+1))}},s?l:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===o)?f.createElement(B,{location:n.location,component:l,error:s,children:u()}):u()}),null)}function Z(e){var t=f.useContext(b);return t||(0,c.kG)(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(R||(R={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(F||(F={}));var N;function V(e){(0,c.kG)(!1)}function G(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,s=void 0===o?c.aU.Pop:o,l=e.navigator,u=e.static,h=void 0!==u&&u;A()&&(0,c.kG)(!1);var d=n.replace(/^\/*/,"/"),p=f.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof a&&(a=(0,c.cP)(a));var m=a,v=m.pathname,y=void 0===v?"/":v,g=m.search,_=void 0===g?"":g,x=m.hash,b=void 0===x?"":x,w=m.state,E=void 0===w?null:w,S=m.key,T=void 0===S?"default":S,M=f.useMemo((function(){var e=(0,c.Zn)(y,d);return null==e?null:{pathname:e,search:_,hash:b,state:E,key:T}}),[d,y,_,b,E,T]);return null==M?null:f.createElement(k.Provider,{value:p},f.createElement(C.Provider,{children:i,value:{location:M,navigationType:s}}))}function q(e){var t=e.children,n=e.location,r=f.useContext(x);return function(e,t){A()||(0,c.kG)(!1);var n,r=f.useContext(b),i=f.useContext(E).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),l=(a&&a.route,M());if(t){var u,d="string"===typeof t?(0,c.cP)(t):t;"/"===s||(null==(u=d.pathname)?void 0:u.startsWith(s))||(0,c.kG)(!1),n=d}else n=l;var p=n.pathname||"/",m="/"===s?p:p.slice(s.length)||"/",v=(0,c.fp)(e,{pathname:m}),y=U(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:(0,c.RQ)([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:(0,c.RQ)([s,e.pathnameBase])})})),i,r||void 0);return t?f.createElement(C.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:c.aU.Pop}},y):y}(r&&!t?r.router.routes:H(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(N||(N={}));var W=new Promise((function(){}));f.Component;function H(e,t){void 0===t&&(t=[]);var n=[];return f.Children.forEach(e,(function(e,r){if(f.isValidElement(e))if(e.type!==f.Fragment){e.type!==V&&(0,c.kG)(!1),e.props.index&&e.props.children&&(0,c.kG)(!1);var a=[].concat((0,i.Z)(t),[r]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=H(e.props.children,a)),n.push(o)}else n.push.apply(n,H(e.props.children,t))})),n}},5511:function(e,t,n){"use strict";var r=n(390),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},7023:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var x=_.prototype=new g;x.constructor=_,m(x,y.prototype),x.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+A(l,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),M(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",b(e))for(var u=0;u<e.length;u++){var c=a+A(s=e[u],u);l+=M(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=M(s=s.value,t,i,c=a+A(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},z={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},390:function(e,t,n){"use strict";e.exports=n(7023)},2559:function(e,t,n){"use strict";e.exports=n(5511)},1017:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,h=null,d=3,p=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function b(e){if(v=!1,x(e),!m)if(null!==r(u))m=!0,z(w);else{var t=r(c);null!==t&&O(b,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,g(S),S=-1),p=!0;var a=d;try{for(x(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!M());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),x(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var f=r(c);null!==f&&O(b,f.startTime-n),l=!1}return l}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,E=null,S=-1,T=5,A=-1;function M(){return!(t.unstable_now()-A<T)}function I(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?k():(C=!1,E=null)}}else C=!1}if("function"===typeof _)k=function(){_(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=I,k=function(){L.postMessage(null)}}else k=function(){y(I,0)};function z(e){E=e,C||(C=!0,k())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(v?(g(S),S=-1):v=!0,O(b,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,z(w))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},6124:function(e,t,n){"use strict";e.exports=n(1017)},2679:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],f=t[u];if(!1===(i=n?n.call(r,c,f,u):void 0)||void 0===i&&c!==f)return!1}return!0}},2822:function(e,t,n){"use strict";n.d(t,{f6:function(){return Ie},vJ:function(){return De},iv:function(){return ge},ZP:function(){return Be},F4:function(){return Re},Fg:function(){return Fe}});var r=n(557),i=n(390),a=n(2679),o=n.n(a);var s=function(e){function t(e,r,l,u,h){for(var d,p,m,v,x,w=0,k=0,C=0,E=0,S=0,L=0,O=m=d=0,R=0,F=0,B=0,j=0,U=l.length,Z=U-1,N="",V="",G="",q="";R<U;){if(p=l.charCodeAt(R),R===Z&&0!==k+E+C+w&&(0!==k&&(p=47===k?10:47),E=C=w=0,U++,Z++),0===k+E+C+w){if(R===Z&&(0<F&&(N=N.replace(f,"")),0<N.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:N+=l.charAt(R)}p=59}switch(p){case 123:for(d=(N=N.trim()).charCodeAt(0),m=1,j=++R;R<U;){switch(p=l.charCodeAt(R)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(R+1)){case 42:case 47:e:{for(O=R+1;O<Z;++O)switch(l.charCodeAt(O)){case 47:if(42===p&&42===l.charCodeAt(O-1)&&R+2!==O){R=O+1;break e}break;case 10:if(47===p){R=O+1;break e}}R=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;R++<Z&&l.charCodeAt(R)!==p;);}if(0===m)break;R++}if(m=l.substring(j,R),0===d&&(d=(N=N.replace(c,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(N=N.replace(f,"")),p=N.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(j=(m=t(r,F,m,p,h+1)).length,0<z&&(x=s(3,m,F=n(P,N,B),r,A,T,j,p,h,u),N=F.join(""),void 0!==x&&0===(j=(m=x.trim()).length)&&(p=0,m="")),0<j)switch(p){case 115:N=N.replace(b,o);case 100:case 109:case 45:m=N+"{"+m+"}";break;case 107:m=(N=N.replace(y,"$1 $2"))+"{"+m+"}",m=1===I||2===I&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=N+m,112===u&&(V+=m,m="")}else m=""}else m=t(r,n(r,N,B),m,u,h+1);G+=m,m=B=F=O=d=0,N="",p=l.charCodeAt(++R);break;case 125:case 59:if(1<(j=(N=(0<F?N.replace(f,""):N).trim()).length))switch(0===O&&(d=N.charCodeAt(0),45===d||96<d&&123>d)&&(j=(N=N.replace(" ",":")).length),0<z&&void 0!==(x=s(1,N,r,e,A,T,V.length,u,h,u))&&0===(j=(N=x.trim()).length)&&(N="\0\0"),d=N.charCodeAt(0),p=N.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){q+=N+l.charAt(R);break}default:58!==N.charCodeAt(j-1)&&(V+=i(N,d,p,N.charCodeAt(2)))}B=F=O=d=0,N="",p=l.charCodeAt(++R)}}switch(p){case 13:case 10:47===k?k=0:0===1+d&&107!==u&&0<N.length&&(F=1,N+="\0"),0<z*D&&s(0,N,r,e,A,T,V.length,u,h,u),T=1,A++;break;case 59:case 125:if(0===k+E+C+w){T++;break}default:switch(T++,v=l.charAt(R),p){case 9:case 32:if(0===E+w+k)switch(S){case 44:case 58:case 9:case 32:v="";break;default:32!==p&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===E+k+w&&(F=B=1,v="\f"+v);break;case 108:if(0===E+k+w+M&&0<O)switch(R-O){case 2:112===S&&58===l.charCodeAt(R-3)&&(M=S);case 8:111===L&&(M=L)}break;case 58:0===E+k+w&&(O=R);break;case 44:0===k+C+E+w&&(F=1,v+="\r");break;case 34:case 39:0===k&&(E=E===p?0:0===E?p:E);break;case 91:0===E+k+C&&w++;break;case 93:0===E+k+C&&w--;break;case 41:0===E+k+w&&C--;break;case 40:if(0===E+k+w){if(0===d)if(2*S+3*L===533);else d=1;C++}break;case 64:0===k+C+E+w+O+m&&(m=1);break;case 42:case 47:if(!(0<E+w+C))switch(k){case 0:switch(2*p+3*l.charCodeAt(R+1)){case 235:k=47;break;case 220:j=R,k=42}break;case 42:47===p&&42===S&&j+2!==R&&(33===l.charCodeAt(j+2)&&(V+=l.substring(j,R+1)),v="",k=0)}}0===k&&(N+=v)}L=S,S=p,R++}if(0<(j=V.length)){if(F=r,0<z&&(void 0!==(x=s(2,V,F,e,A,T,j,u,h,u))&&0===(V=x).length))return q+V+G;if(V=F.join(",")+"{"+V+"}",0!==I*M){switch(2!==I||a(V,2)||(M=0),M){case 111:V=V.replace(_,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}M=0}}return q+V+G}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===I||2===I&&a(l,1)?"-webkit-"+l+l:l}if(0===I||2===I&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(x,"tb");break;case 232:l=o.replace(x,"tb-rl");break;case 220:l=o.replace(x,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(k,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(k,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(C,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,c){for(var f,h=0,d=t;h<z;++h)switch(f=L[h].call(u,e,d,n,r,i,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function l(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?I=1:(I=2,O=e):I=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<z){var i=s(-1,n,r,r,A,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<z&&(void 0!==(i=s(-2,a,r,r,A,T,a.length,0,0,0))&&(a=i)),"",M=0,T=A=1,a}var c=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,_=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,k=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,T=1,A=1,M=0,I=1,P=[],L=[],z=0,O=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:z=L.length=0;break;default:if("function"===typeof t)L[z++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},u.set=l,void 0!==e&&l(e),u},l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(7178),h=n.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},v=Object.freeze([]),y=Object.freeze({});function g(e){return"function"==typeof e}function _(e){return e.displayName||e.name||"Component"}function x(e){return e&&"string"==typeof e.styledComponentId}var b="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.SC_ATTR)||"data-styled",w="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/themeforest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLICK_KEY:"WdtekiKM6wZrWOVzp",REACT_APP_EMAILJS_SERVICE_ID:"service_r60rn8r",REACT_APP_EMAILJS_TEMPLATE_ID:"template_uyoql9g",REACT_APP_MAPBOX_STYLES:"mapbox://styles/diluks/clajwpjn7005814qsalxnnql6",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZGlsdWtzIiwiYSI6ImNsYWp3OGNlMDAyMG0zcXJ0dmFtMmVreG4ifQ.dKTXUtLlVvWTAahK1D_v3Q"}.SC_DISABLE_SPEEDY)),C={};function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var S=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&E(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),T=new Map,A=new Map,M=1,I=function(e){if(T.has(e))return T.get(e);for(;A.has(M);)M++;var t=M++;return T.set(e,t),A.set(t,e),t},P=function(e){return A.get(e)},L=function(e,t){t>=M&&(M=t+1),T.set(e,t),A.set(t,e)},z="style["+b+'][data-styled-version="5.3.6"]',O=new RegExp("^"+b+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},R=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(O);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(L(u,l),D(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},F=function(){return n.nc},B=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(b))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(b,"active"),r.setAttribute("data-styled-version","5.3.6");var o=F();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},j=function(){function e(e){var t=this.element=B(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}E(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=B(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Z=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),N=w,V={isServer:!w,useCSSOMInjection:!k},G=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=d({},V,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&w&&N&&(N=!1,function(e){for(var t=document.querySelectorAll(z),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(b)&&(R(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return I(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Z(i):r?new j(i):new U(i),new S(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(I(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(I(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(I(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=P(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=b+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),q=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function H(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=W(t%52)+n;return(W(t%52)+n).replace(q,"$1-$2")}var X=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Y=function(e){return X(5381,e)};function K(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(g(n)&&!x(n))return!1}return!0}var Q=Y("5.3.6"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&K(e),this.componentId=t,this.baseHash=X(Q,t),this.baseStyle=n,G.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ve(this.rules,e,t,n).join(""),o=H(X(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=X(this.baseHash,n.hash),c="",f=0;f<l;f++){var h=this.rules[f];if("string"==typeof h)c+=h;else if(h){var d=ve(h,e,t,n),p=Array.isArray(d)?d.join(""):d;u=X(u,p+f),c+=p}}if(c){var m=H(u>>>0);if(!t.hasNameForId(r,m)){var v=n(c,"."+m,void 0,r);t.insertRules(r,m,v)}i.push(m)}}return i.join(" ")},e}(),$=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,a=void 0===e?y:e,o=a.options,l=void 0===o?y:o,u=a.plugins,c=void 0===u?v:u,f=new s(l),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,u,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,a){return 0===r&&-1!==ee.indexOf(a[n.length])||a.match(i)?e:"."+t};function m(e,a,o,s){void 0===s&&(s="&");var l=e.replace($,""),u=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,u)}return f.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),m.hash=c.length?c.reduce((function(e,t){return t.name||E(15),X(e,t.name)}),5381).toString():"",m}var ne=i.createContext(),re=(ne.Consumer,i.createContext()),ie=(re.Consumer,new G),ae=te();function oe(){return(0,i.useContext)(ne)||ie}function se(){return(0,i.useContext)(re)||ae}function le(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=oe(),s=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=(0,i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){o()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(ne.Provider,{value:s},i.createElement(re.Provider,{value:l},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return E(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),ce=/([A-Z])/,fe=/([A-Z])/g,he=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return ce.test(e)?e.replace(fe,de).replace(he,"-ms-"):e}var me=function(e){return null==e||!1===e||""===e};function ve(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ve(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return me(e)?"":x(e)?"."+e.styledComponentId:g(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ve(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!me(t[o])&&(Array.isArray(t[o])&&t[o].isCss||g(t[o])?a.push(pe(o)+":",t[o],";"):m(t[o])?a.push.apply(a,e(t[o],o)):a.push(pe(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in l?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var ye=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return g(e)||m(e)?ye(ve(p(v,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ye(ve(p(e,n)))}new Set;var _e=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},xe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function we(e){return e.replace(xe,"-").replace(be,"")}var ke=function(e){return H(Y(e)>>>0)};function Ce(e){return"string"==typeof e&&!0}var Ee=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Te(e,t,n){var r=e[n];Ee(t)&&Ee(r)?Ae(r,t):e[n]=t}function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Ee(o))for(var s in o)Se(s)&&Te(e,o[s],s)}return e}var Me=i.createContext();Me.Consumer;function Ie(e){var t=(0,i.useContext)(Me),n=(0,i.useMemo)((function(){return function(e,t){return e?g(e)?e(t):Array.isArray(e)||"object"!=typeof e?E(8):t?d({},t,{},e):e:E(14)}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Me.Provider,{value:n},e.children):null}var Pe={};function Le(e,t,n){var r=x(e),a=!Ce(e),o=t.attrs,s=void 0===o?v:o,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":we(e);Pe[n]=(Pe[n]||0)+1;var r=n+"-"+ke("5.3.6"+n+Pe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,f=t.displayName,p=void 0===f?function(e){return Ce(e)?"styled."+e:"Styled("+_(e)+")"}(e):f,m=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||u,b=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,w=t.shouldForwardProp;r&&e.shouldForwardProp&&(w=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var k,C=new J(n,m,r?e.componentStyle:void 0),E=C.isStatic&&0===s.length,S=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,f=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=y);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in g(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(_e(t,(0,i.useContext)(Me),s)||y,t,a),m=p[0],v=p[1],_=function(e,t,n,r){var i=oe(),a=se();return t?e.generateAndInjectStyles(y,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,m),x=n,b=v.$as||t.$as||v.as||t.as||h,w=Ce(b),k=v!==t?d({},t,{},v):t,C={};for(var E in k)"$"!==E[0]&&"as"!==E&&("forwardedAs"===E?C.as=k[E]:(u?u(E,c,b):!w||c(E))&&(C[E]=k[E]));return t.style&&v.style!==t.style&&(C.style=d({},t.style,{},v.style)),C.className=Array.prototype.concat(l,f,_!==f?_:null,t.className,v.className).filter(Boolean).join(" "),C.ref=x,(0,i.createElement)(b,C)}(k,e,t,E)};return S.displayName=p,(k=i.forwardRef(S)).attrs=b,k.componentStyle=C,k.displayName=p,k.shouldForwardProp=w,k.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):v,k.styledComponentId=m,k.target=r?e.target:e,k.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ce(e)?e:we(_(e)));return Le(e,d({},i,{attrs:b,componentId:a}),n)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ae({},e.defaultProps,t):t}}),k.toString=function(){return"."+k.styledComponentId},a&&h()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var ze=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!(0,r.isValidElementType)(n))return E(1,String(n));var a=function(){return t(n,i,ge.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,d({},i,{},r))},a.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(Le,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){ze[e]=ze(e)}));var Oe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=K(e),G.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ve(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&G.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=ge.apply(void 0,[e].concat(n)),o="sc-global-"+ke(JSON.stringify(a)),s=new Oe(a,o);function l(e){var t=oe(),n=se(),r=(0,i.useContext)(Me),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&u(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return u(a,e,t,r,n),function(){return s.removeStyles(a,t)}}),[a,e,t,r,n]),null}function u(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,C,n,i);else{var a=d({},t,{theme:_e(t,r,l.defaultProps)});s.renderStyles(e,a,n,i)}}return i.memo(l)}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ge.apply(void 0,[e].concat(n)).join(""),a=ke(i);return new ue(a,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=F();return"<style "+[n&&'nonce="'+n+'"',b+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?E(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return E(2);var n=((t={})[b]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=F();return r&&(n.nonce=r),[i.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new G({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?E(2):i.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return E(3)}}();var Fe=function(){return(0,i.useContext)(Me)},Be=ze},5338:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||l(e[a],a,new Set);return r;function l(e,t,a){if(a.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(h){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var f=c[--t];l(f,s.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},1972:function(e,t,n){"use strict";var r=n(390);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},9172:function(e,t,n){"use strict";var r=n(390),i=n(9809);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return l((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},9809:function(e,t,n){"use strict";e.exports=n(1972)},1762:function(e,t,n){"use strict";e.exports=n(9172)},1461:function(e,t,n){"use strict";n.d(t,{Ry:function(){return Ge},Z_:function(){return be}});var r,i,a=n(2982),o=n(5671),s=n(3144);try{r=Map}catch(He){}try{i=Set}catch(He){}function l(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(u);if(r&&e instanceof r)return new Map(Array.from(e.entries()));if(i&&e instanceof i)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var a=Object.create(e);for(var o in n.push(a),e){var s=t.findIndex((function(t){return t===e[o]}));a[o]=s>-1?n[s]:l(e[o],t,n)}return a}return e}function u(e){return l(e,[],[])}var c=Object.prototype.toString,f=Error.prototype.toString,h=RegExp.prototype.toString,d="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},p=/^Symbol\((.*)\)(.*)$/;function m(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return m(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return d.call(e).replace(p,"Symbol($1)");var r=c.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+f.call(e)+"]":"RegExp"===r?h.call(e):null}function y(e,t){var n=v(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=v(this[e],t);return null!==r?r:n}),2)}var g={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(y(r,!0),"`")+(a?" (cast from the value `".concat(y(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},_={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},x={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},b={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},w={isValue:"${path} field must be ${value}"},k={noUnknown:"${path} field has unspecified keys: ${unknown}"},C={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},E=(Object.assign(Object.create(null),{mixed:g,string:_,number:x,date:b,object:k,array:C,boolean:w}),n(3270)),S=n.n(E),T=function(e){return e&&e.__isYupSchema__},A=function(){function e(t,n){if((0,o.Z)(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!S()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,s="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),o=t.pop(),l=s.apply(void 0,t)?i:a;if(l)return"function"===typeof l?l(o):o.concat(l.resolve(r))}}else this.fn=n}return(0,s.Z)(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!T(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),M=A,I=n(7326),P=n(136),L=n(7277),z=n(8737);function O(e){return null==e?[]:[].concat(e)}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}var R=/\$\{\s*(\w+)\s*\}/g,F=function(e){(0,P.Z)(n,e);var t=(0,L.Z)(n);function n(e,r,i,s){var l;return(0,o.Z)(this,n),(l=t.call(this)).value=void 0,l.path=void 0,l.type=void 0,l.errors=void 0,l.params=void 0,l.inner=void 0,l.name="ValidationError",l.value=r,l.path=i,l.type=s,l.errors=[],l.inner=[],O(e).forEach((function(e){var t;n.isError(e)?((t=l.errors).push.apply(t,(0,a.Z)(e.errors)),l.inner=l.inner.concat(e.inner.length?e.inner:e)):l.errors.push(e)})),l.message=l.errors.length>1?"".concat(l.errors.length," errors occurred"):l.errors[0],Error.captureStackTrace&&Error.captureStackTrace((0,I.Z)(l),n),l}return(0,s.Z)(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=D({},t,{path:n})),"string"===typeof e?e.replace(R,(function(e,n){return y(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}((0,z.Z)(Error));function B(e,t){var n=e.endEarly,r=e.tests,i=e.args,o=e.value,s=e.errors,l=e.sort,u=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),f=r.length,h=[];if(s=s||[],!f)return s.length?c(new F(s,o,u)):c(null,o);for(var d=0;d<r.length;d++){(0,r[d])(i,(function(e){if(e){if(!F.isError(e))return c(e,o);if(n)return e.value=o,c(e,o);h.push(e)}if(--f<=0){if(h.length&&(l&&h.sort(l),s.length&&h.push.apply(h,(0,a.Z)(s)),s=h),s.length)return void c(new F(s,o,u),o);c(null,o)}}))}}var j=n(9493),U=n.n(j),Z=n(3761),N="$",V=".";var G=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.Z)(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===N,this.isValue=this.key[0]===V,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?N:this.isValue?V:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,Z.getter)(this.path,!0),this.map=n.map}return(0,s.Z)(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function W(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,s=t.options,l=t.originalValue,u=t.sync,c=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,m=s.parent,v=s.context;function y(e){return G.isRef(e)?e.getValue(r,m,v):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=U()(q({value:r,originalValue:l,label:o,path:e.path||a},d,e.params),y),n=new F(F.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var _=q({path:a,parent:m,type:f,createError:g,resolve:y,options:s,originalValue:l},c);if(u){var x;try{var b;if("function"===typeof(null==(b=x=h.call(_,r,_))?void 0:b.then))throw new Error('Validation test of type: "'.concat(_.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(w){return void n(w)}F.isError(x)?n(x):x?n(null,x):n(g())}else try{Promise.resolve(h.call(_,r,_)).then((function(e){F.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(w){n(w)}}return t.OPTIONS=e,t}G.prototype.__isYupRef=!0;var H=function(e){return e.substr(0,e.length-1).substr(1)};function X(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,Z.forEach)(t,(function(s,l,u){var c=l?H(s):s;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=u?parseInt(c,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[c],e=e.fields[c]}i=c,a=l?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var Y=n(885),K=n(181);function Q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,K.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var J=function(){function e(){(0,o.Z)(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return(0,s.Z)(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=Q(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(s){n.e(s)}finally{n.f()}var i,a=Q(this.refs);try{for(a.s();!(i=a.n()).done;){var o=(0,Y.Z)(i.value,2)[1];t.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(G.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){G.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){G.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}var ee=function(){function e(t){var n=this;(0,o.Z)(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new J,this._blacklist=new J,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(g.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=$({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return(0,s.Z)(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=$({},this.exclusiveTests),t.deps=(0,a.Z)(this.deps),t.conditions=(0,a.Z)(this.conditions),t.tests=(0,a.Z)(this.tests),t.transforms=(0,a.Z)(this.transforms),t.spec=u($({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=$({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat((0,a.Z)(t.transforms),(0,a.Z)(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve($({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=y(e),a=y(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,s=void 0===o?[]:o,l=n.originalValue,u=void 0===l?e:l,c=n.strict,f=void 0===c?this.spec.strict:c,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,$({assert:!1},n)));var m={value:p,path:a,options:n,originalValue:u,schema:this,label:this.spec.label,sync:i,from:s},v=[];this._typeError&&v.push(this._typeError);var y=[];this._whitelistError&&y.push(this._whitelistError),this._blacklistError&&y.push(this._blacklistError),B({args:m,value:p,path:a,sync:i,tests:v,endEarly:d},(function(e){e?r(e,p):B({tests:t.tests.concat(y),args:m,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve($({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve($({},t,{value:e}))._validate(e,$({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(F.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(F.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):u(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=g.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=W(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=O(e).map((function(e){return new G(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new M(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=W({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=W({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=W({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label;return{meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))}}}]),e}();ee.prototype.__isYupSchema__=!0;for(var te=function(){var e=re[ne];ee.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=X(this,t,n,r.context),a=i.parent,o=i.parentPath,s=i.schema;return s[e](a&&a[o],$({},r,{parent:a,path:t}))}},ne=0,re=["validate","validateSync"];ne<re.length;ne++)te();for(var ie=0,ae=["equals","is"];ie<ae.length;ie++){var oe=ae[ie];ee.prototype[oe]=ee.prototype.oneOf}for(var se=0,le=["not","nope"];se<le.length;se++){var ue=le[se];ee.prototype[ue]=ee.prototype.notOneOf}ee.prototype.optional=ee.prototype.notRequired;var ce=ee;ce.prototype;var fe=function(e){return null==e};var he=function(e){(0,P.Z)(n,e);var t=(0,L.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return fe(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return fe(e)||!1===e}})}}]),n}(ee);he.prototype;var de=n(1120);function pe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,de.Z)(e)););return e}function me(){return me="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=pe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},me.apply(this,arguments)}var ve=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,ye=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,ge=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_e=function(e){return fe(e)||e===e.trim()},xe={}.toString();function be(){return new we}var we=function(e){(0,P.Z)(n,e);var t=(0,L.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===xe?e:t}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return me((0,de.Z)(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return fe(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return fe(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return fe(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||_.matches,params:{regex:e},test:function(t){return fe(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.email;return this.matches(ve,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.url;return this.matches(ye,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.uuid;return this.matches(ge,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:_e})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.lowercase;return this.transform((function(e){return fe(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return fe(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.uppercase;return this.transform((function(e){return fe(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return fe(e)||e===e.toUpperCase()}})}}]),n}(ee);be.prototype=we.prototype;var ke=function(e){(0,P.Z)(n,e);var t=(0,L.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return fe(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return fe(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return fe(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return fe(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.integer;return this.test({name:"integer",message:e,test:function(e){return fe(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return fe(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return fe(t)?t:Math[e](t)}))}}]),n}(ee);ke.prototype;var Ce=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var Ee=new Date("");function Se(){return new Te}var Te=function(e){(0,P.Z)(n,e);var t=(0,L.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=Ce.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?Ee:new Date(e))}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(G.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return fe(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return fe(e)||e<=this.resolve(n)}})}}]),n}(ee);Te.INVALID_DATE=Ee,Se.prototype=Te.prototype,Se.INVALID_DATE=Ee;var Ae=n(6417),Me=n.n(Ae),Ie=n(9454),Pe=n.n(Ie),Le=n(630),ze=n.n(Le),Oe=n(5338),De=n.n(Oe);function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=(0,Y.Z)(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,Z.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var o=function(t){if(S()(e,t)){var n=e[t];r.add(t),G.isRef(n)&&n.isSibling?a(n.path,t):T(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))}};for(var s in e)o(s);return De().array(Array.from(r),n).reverse()}function Fe(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function Be(e){return function(t,n){return Fe(e,t)-Fe(e,n)}}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}var Ue=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Ze(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var Ne=Be([]),Ve=function(e){(0,P.Z)(n,e);var t=(0,L.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=Ne,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return Ue(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=me((0,de.Z)(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,s=this.fields,l=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,u=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),c={},f=je({},i,{parent:c,__validating:i.__validating||!1}),h=!1,d=Q(u);try{for(d.s();!(o=d.n()).done;){var p=o.value,m=s[p],v=S()(a,p);if(m){var y=void 0,g=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var _="spec"in(m=m.resolve({value:g,context:i.context,parent:c}))?m.spec:void 0,x=null==_?void 0:_.strict;if(null==_?void 0:_.strip){h=h||p in a;continue}void 0!==(y=i.__validating&&x?a[p]:m.cast(a[p],f))&&(c[p]=y)}else v&&!l&&(c[p]=a[p]);c[p]!==a[p]&&(h=!0)}}catch(b){d.e(b)}finally{d.f()}return h?c:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=[],s=r.sync,l=r.from,u=void 0===l?[]:l,c=r.originalValue,f=void 0===c?e:c,h=r.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=r.recursive,m=void 0===p?this.spec.recursive:p;u=[{schema:this,value:f}].concat((0,a.Z)(u)),r.__validating=!0,r.originalValue=f,r.from=u,me((0,de.Z)(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!F.isError(e)||d)return void i(e,n);o.push(e)}if(m&&Ue(n)){f=f||n;var a=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(n[e],je({},r,{path:o,from:u,strict:!0,parent:n,originalValue:f[e]}),a):a(null)}}));B({sync:s,tests:a,value:n,errors:o,endEarly:d,sort:t._sortErrors,path:r.path},i)}else i(o[0]||null,n)}))}},{key:"clone",value:function(e){var t=me((0,de.Z)(n.prototype),"clone",this).call(this,e);return t.fields=je({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=me((0,de.Z)(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var s=(0,Y.Z)(o[a],2),l=s[0],u=s[1],c=i[l];void 0===c?i[l]=u:c instanceof ee&&u instanceof ee&&(i[l]=u.concat(c))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?me((0,de.Z)(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=Be(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat((0,a.Z)(n._excludedEdges),(0,a.Z)(t))),n._nodes=Re(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=Q(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=Q(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,Z.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return S()(i,e)&&(a=je({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=Ze(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&ze()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(Pe())}},{key:"snakeCase",value:function(){return this.transformKeys(Me())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return Me()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=me((0,de.Z)(n.prototype),"describe",this).call(this);return e.fields=U()(this.fields,(function(e){return e.describe()})),e}}]),n}(ee);function Ge(e){return new Ve(e)}function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}Ge.prototype=Ve.prototype;var We=function(e){(0,P.Z)(n,e);var t=(0,L.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=me((0,de.Z)(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,qe({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=[],l=a.sync,u=a.path,c=this.innerType,f=null!=(t=a.abortEarly)?t:this.spec.abortEarly,h=null!=(r=a.recursive)?r:this.spec.recursive,d=null!=a.originalValue?a.originalValue:e;me((0,de.Z)(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!F.isError(e)||f)return void o(e,t);s.push(e)}if(h&&c&&i._typeCheck(t)){d=d||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=qe({},a,{path:i,strict:!0,parent:t,index:e,originalValue:d[e]});n[e]=function(e,t){return c.validate(r,o,t)}},p=0;p<t.length;p++)r(p);B({sync:l,path:u,value:t,errors:s,endEarly:f,tests:n},o)}else o(s[0]||null,t)}))}},{key:"clone",value:function(e){var t=me((0,de.Z)(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=me((0,de.Z)(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!T(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+y(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return fe(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||C.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return fe(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||C.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return fe(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=me((0,de.Z)(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return me((0,de.Z)(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return me((0,de.Z)(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return me((0,de.Z)(n.prototype),"required",this).call(this,e)}}]),n}(ee);We.prototype},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},1589:function(e,t,n){var r=n(5372),i=n(9498),a=n(6116),o=n(2218);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1120),i=n(8814),a=n(1002),o=n(7326);function s(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function l(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var h={};function d(){}function p(){}function m(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(v=g);var _=m.prototype=d.prototype=Object.create(v);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(a,o,s,l){var u=f(e[a],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==(0,r.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,u(_,"constructor",m),u(m,"constructor",p),p.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(b.prototype),u(b.prototype,s,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,l,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},168:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(9611);var a=n(8814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{150:"9af4740c",252:"4c39e297",352:"a3c7c173",434:"4cc27493",451:"65159b1a",535:"6bfa0b87",651:"e01bdfe1",751:"aea2b81e",765:"aa431a93"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="themeforest:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/themeforest/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkthemeforest=self.webpackChunkthemeforest||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e,t=n(390),r=n(8254),i=n(5400),a=n(1750),o=n(56),s=n(5758),l=n(5587),u=n(4176),c=(0,l.xC)({reducer:{player:u.ZP}}),f=n(2559);r.createRoot(document.getElementById("root")).render((0,f.jsx)(t.StrictMode,{children:(0,f.jsx)(o.At,{children:(0,f.jsx)(o.f6,{children:(0,f.jsx)(i.VK,{children:(0,f.jsxs)(a.zt,{store:c,children:[(0,f.jsx)(s.ZL,{}),(0,f.jsx)(s.B2,{}),(0,f.jsx)(o.gV,{})]})})})})})),(e=void 0)&&e instanceof Function&&n.e(651).then(n.bind(n,5651)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))}()}();
//# sourceMappingURL=main.a870844b.js.map